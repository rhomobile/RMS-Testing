<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Mozilla code playground</title>
        <link rel="stylesheet" href="css/base.css" type="text/css" media="screen">
        <!--[if lte IE 8]>
        <script src="js/html5.js"></script>
        <![endif]-->
    </head>

    <body id="index-page">

        <div id="container">
            <header role="banner">
                <h1>Mozilla code playground</h1>
                <p>Testing Mozilla code</p>
            </header>

                <div role="main">
                <section id="main-content">

                    <!--<button id="install-tweet-view">Install TweetView</button>-->                
                    <button id="install-abba-info">Install ABBAInfo</button>                

                </section>
            </div>

            <footer id="page-footer" role="contentinfo">
                Created by <a href="http://robertnyman.com/">Robert Nyman</a>
            </footer>
        </div>


        <script>
            (function () {
                var installABBAInfo = document.getElementById("install-abba-info");
                if (installABBAInfo) {
                    installABBAInfo.addEventListener("click", function () {
                        var mozApps = navigator.mozApps.install;
                        if (mozApps) {
                            console.log("Try and install");
                            var installObject = navigator.mozApps.install("http://localhost/abbainfo/manifest.webapp", {});

                            installObject.onsuccess = function () {
                                console.log("Worked!");
                                console.log(result);
                            };

                            installObject.onerror = function (result) {
                                console.log("Failed :-(");
                                console.log(result);
                            };
                        }
                    }, false);
                }
            })();
        </script>
        <script src="include.complete.js"></script>

    </body>
</html>
