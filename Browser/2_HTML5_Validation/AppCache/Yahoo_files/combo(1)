YUI.add("substitute",function(g){var b=g.Lang,d="dump",f=" ",c="{",e="}",a=function(A,l,t,h){var q,p,n,y,x,z,w=[],m,r,u=A.length;for(;;){q=A.lastIndexOf(c,u);if(q<0){break;}p=A.indexOf(e,q);if(q+1>=p){break;}m=A.substring(q+1,p);y=m;z=null;n=y.indexOf(f);if(n>-1){z=y.substring(n+1);y=y.substring(0,n);}x=l[y];if(t){x=t(y,x,z);}if(b.isObject(x)){if(!g.dump){x=x.toString();}else{if(b.isArray(x)){x=g.dump(x,parseInt(z,10));}else{z=z||"";r=z.indexOf(d);if(r>-1){z=z.substring(4);}if(x.toString===Object.prototype.toString||r>-1){x=g.dump(x,parseInt(z,10));}else{x=x.toString();}}}}else{if(!b.isString(x)&&!b.isNumber(x)){x="~-"+w.length+"-~";w[w.length]=m;}}A=A.substring(0,q)+x+A.substring(p+1);if(!h){u=q-1;}}for(q=w.length-1;q>=0;q=q-1){A=A.replace(new RegExp("~-"+q+"-~"),c+w[q]+e,"g");}return A;};g.substitute=a;b.substitute=a;},"3.4.0",{optional:["dump"]});YUI.add("oop",function(h){var d=h.Lang,c=h.Array,b=Object.prototype,a="_~yuim~_",e=b.hasOwnProperty,g=b.toString;function f(l,k,m,i,j){if(l&&l[j]&&l!==h){return l[j].call(l,k,m);}else{switch(c.test(l)){case 1:return c[j](l,k,m);case 2:return c[j](h.Array(l,0,true),k,m);default:return h.Object[j](l,k,m,i);}}}h.augment=function(i,k,r,o,s){var n=i.prototype,m=n&&k,q=k.prototype,v=n||i,j,u,p,l,t;s=s?h.Array(s):[];if(m){u={};p={};l={};j=function(x,w){if(r||!(w in n)){if(g.call(x)==="[object Function]"){l[w]=x;u[w]=p[w]=function(){return t(this,x,arguments);};}else{u[w]=x;}}};t=function(w,y,z){for(var x in l){if(e.call(l,x)&&w[x]===p[x]){w[x]=l[x];}}k.apply(w,s);return y.apply(w,z);};if(o){h.Array.each(o,function(w){if(w in q){j(q[w],w);}});}else{h.Object.each(q,j,null,true);}}h.mix(v,u||q,r,o);if(!m){k.apply(v,s);}return i;};h.aggregate=function(k,j,i,l){return h.mix(k,j,i,l,0,true);};h.extend=function(l,k,i,n){if(!k||!l){h.error("extend failed, verify dependencies");}var m=k.prototype,j=h.Object(m);l.prototype=j;j.constructor=l;l.superclass=m;if(k!=Object&&m.constructor==b.constructor){m.constructor=k;}if(i){h.mix(j,i,true);}if(n){h.mix(l,n,true);}return l;};h.each=function(k,j,l,i){return f(k,j,l,i,"each");};h.some=function(k,j,l,i){return f(k,j,l,i,"some");};h.clone=function(l,m,r,s,k,q){if(!d.isObject(l)){return l;}if(h.instanceOf(l,YUI)){return l;}var n,j=q||{},i,p=h.each;switch(d.type(l)){case"date":return new Date(l);case"regexp":return l;case"function":return l;case"array":n=[];break;default:if(l[a]){return j[l[a]];}i=h.guid();n=(m)?{}:h.Object(l);l[a]=i;j[i]=l;}if(!l.addEventListener&&!l.attachEvent){p(l,function(t,o){if((o||o===0)&&(!r||(r.call(s||this,t,o,this,l)!==false))){if(o!==a){if(o=="prototype"){}else{this[o]=h.clone(t,m,r,s,k||l,j);}}}},n);}if(!q){h.Object.each(j,function(t,o){if(t[a]){try{delete t[a];}catch(u){t[a]=null;}}},this);j=null;}return n;};h.bind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?j.concat(h.Array(arguments,0,true)):arguments;return m.apply(k||m,l);};};h.rbind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?h.Array(arguments,0,true).concat(j):arguments;return m.apply(k||m,l);};};},"3.4.0",{requires:["yui-base"]});YUI.add("event-custom-base",function(b){b.Env.evt={handles:{},plugins:{}};var g=0,i=1,p={objs:{},before:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(g,t,u,v);},after:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(i,t,u,v);},_inject:function(r,t,u,w){var x=b.stamp(u),v,s;if(!this.objs[x]){this.objs[x]={};}v=this.objs[x];if(!v[w]){v[w]=new b.Do.Method(u,w);u[w]=function(){return v[w].exec.apply(v[w],arguments);};}s=x+b.stamp(t)+w;v[w].register(s,t,r);return new b.EventHandle(v[w],s);},detach:function(r){if(r.detach){r.detach();}},_unload:function(s,r){}};b.Do=p;p.Method=function(r,s){this.obj=r;this.methodName=s;this.method=r[s];this.before={};this.after={};};p.Method.prototype.register=function(s,t,r){if(r){this.after[s]=t;}else{this.before[s]=t;}};p.Method.prototype._delete=function(r){delete this.before[r];delete this.after[r];};p.Method.prototype.exec=function(){var t=b.Array(arguments,0,true),u,s,x,v=this.before,r=this.after,w=false;for(u in v){if(v.hasOwnProperty(u)){s=v[u].apply(this.obj,t);if(s){switch(s.constructor){case p.Halt:return s.retVal;case p.AlterArgs:t=s.newArgs;break;case p.Prevent:w=true;break;default:}}}}if(!w){s=this.method.apply(this.obj,t);}p.originalRetVal=s;p.currentRetVal=s;for(u in r){if(r.hasOwnProperty(u)){x=r[u].apply(this.obj,t);if(x&&x.constructor==p.Halt){return x.retVal;}else{if(x&&x.constructor==p.AlterReturn){s=x.newRetVal;p.currentRetVal=s;}}}}return s;};p.AlterArgs=function(s,r){this.msg=s;this.newArgs=r;};p.AlterReturn=function(s,r){this.msg=s;this.newRetVal=r;};p.Halt=function(s,r){this.msg=s;this.retVal=r;};p.Prevent=function(r){this.msg=r;};p.Error=p.Halt;var m="after",q=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],n=9,a="yui:log";b.CustomEvent=function(r,s){s=s||{};this.id=b.stamp(this);this.type=r;this.context=b;this.logSystem=(r==a);this.silent=this.logSystem;this.subscribers={};this.afters={};this.preventable=true;this.bubbles=true;this.signature=n;this.subCount=0;this.afterCount=0;this.applyConfig(s,true);};b.CustomEvent.prototype={constructor:b.CustomEvent,hasSubs:function(r){var v=this.subCount,t=this.afterCount,u=this.sibling;if(u){v+=u.subCount;t+=u.afterCount;}if(r){return(r=="after")?t:v;}return(v+t);},monitor:function(t){this.monitored=true;var s=this.id+"|"+this.type+"_"+t,r=b.Array(arguments,0,true);r[0]=s;return this.host.on.apply(this.host,r);},getSubs:function(){var u=b.merge(this.subscribers),r=b.merge(this.afters),t=this.sibling;if(t){b.mix(u,t.subscribers);b.mix(r,t.afters);}return[u,r];},applyConfig:function(s,r){if(s){b.mix(this,s,r,q);}},_on:function(w,u,t,r){if(!w){this.log("Invalid callback for CE: "+this.type);}var v=new b.Subscriber(w,u,t,r);if(this.fireOnce&&this.fired){if(this.async){setTimeout(b.bind(this._notify,this,v,this.firedWith),0);}else{this._notify(v,this.firedWith);}}if(r==m){this.afters[v.id]=v;this.afterCount++;}else{this.subscribers[v.id]=v;this.subCount++;}return new b.EventHandle(this,v);},subscribe:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,true);},on:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;if(this.host){this.host._monitor("attach",this.type,{args:arguments});}return this._on(t,s,r,true);},after:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,m);},detach:function(w,u){if(w&&w.detach){return w.detach();}var t,v,x=0,r=b.merge(this.subscribers,this.afters);for(t in r){if(r.hasOwnProperty(t)){v=r[t];if(v&&(!w||w===v.fn)){this._delete(v);x++;}}}return x;},unsubscribe:function(){return this.detach.apply(this,arguments);},_notify:function(v,u,r){this.log(this.type+"->sub: "+v.id);var t;t=v.notify(u,this);if(false===t||this.stopped>1){this.log(this.type+" cancelled by subscriber");return false;}return true;},log:function(s,r){if(!this.silent){}},fire:function(){if(this.fireOnce&&this.fired){this.log("fireOnce event: "+this.type+" already fired");return true;}else{var r=b.Array(arguments,0,true);this.fired=true;this.firedWith=r;if(this.emitFacade){return this.fireComplex(r);}else{return this.fireSimple(r);}}},fireSimple:function(r){this.stopped=0;this.prevented=0;if(this.hasSubs()){var s=this.getSubs();this._procSubs(s[0],r);this._procSubs(s[1],r);}this._broadcast(r);return this.stopped?false:true;},fireComplex:function(r){r[0]=r[0]||{};return this.fireSimple(r);},_procSubs:function(v,t,r){var w,u;for(u in v){if(v.hasOwnProperty(u)){w=v[u];if(w&&w.fn){if(false===this._notify(w,t,r)){this.stopped=2;}if(this.stopped==2){return false;}}}}return true;},_broadcast:function(s){if(!this.stopped&&this.broadcast){var r=b.Array(s);r.unshift(this.type);if(this.host!==b){b.fire.apply(b,r);}if(this.broadcast==2){b.Global.fire.apply(b.Global,r);}}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},detachAll:function(){return this.detach();},_delete:function(r){if(r){if(this.subscribers[r.id]){delete this.subscribers[r.id];this.subCount--;}if(this.afters[r.id]){delete this.afters[r.id];this.afterCount--;}}if(this.host){this.host._monitor("detach",this.type,{ce:this,sub:r});}if(r){r.deleted=true;}}};b.Subscriber=function(t,s,r){this.fn=t;this.context=s;this.id=b.stamp(this);this.args=r;};b.Subscriber.prototype={constructor:b.Subscriber,_notify:function(v,t,u){if(this.deleted&&!this.postponed){if(this.postponed){delete this.fn;delete this.context;}else{delete this.postponed;return null;}}var r=this.args,s;switch(u.signature){case 0:s=this.fn.call(v,u.type,t,v);break;case 1:s=this.fn.call(v,t[0]||null,v);break;default:if(r||t){t=t||[];r=(r)?t.concat(r):t;s=this.fn.apply(v,r);}else{s=this.fn.call(v);}}if(this.once){u._delete(this);}return s;},notify:function(s,u){var v=this.context,r=true;if(!v){v=(u.contextFn)?u.contextFn():u.context;}if(b.config.throwFail){r=this._notify(v,s,u);}else{try{r=this._notify(v,s,u);}catch(t){b.error(this+" failed: "+t.message,t);}}return r;},contains:function(s,r){if(r){return((this.fn==s)&&this.context==r);}else{return(this.fn==s);}}};b.EventHandle=function(r,s){this.evt=r;this.sub=s;};b.EventHandle.prototype={batch:function(r,s){r.call(s||this,this);if(b.Lang.isArray(this.evt)){b.Array.each(this.evt,function(t){t.batch.call(s||t,r);});}},detach:function(){var r=this.evt,t=0,s;if(r){if(b.Lang.isArray(r)){for(s=0;s<r.length;s++){t+=r[s].detach();}}else{r._delete(this.sub);t=1;}}return t;},monitor:function(r){return this.evt.monitor.apply(this.evt,arguments);}};var j=b.Lang,h=":",e="|",l="~AFTER~",k=b.Array,c=b.cached(function(r){return r.replace(/(.*)(:)(.*)/,"*$2$3");}),o=b.cached(function(r,s){if(!s||!j.isString(r)||r.indexOf(h)>-1){return r;}return s+h+r;}),f=b.cached(function(u,w){var s=u,v,x,r;if(!j.isString(s)){return s;}r=s.indexOf(l);if(r>-1){x=true;s=s.substr(l.length);}r=s.indexOf(e);if(r>-1){v=s.substr(0,(r));s=s.substr(r+1);if(s=="*"){s=null;}}return[v,(w)?o(s,w):s,x,s];}),d=function(r){var s=(j.isObject(r))?r:{};this._yuievt=this._yuievt||{id:b.guid(),events:{},targets:{},config:s,chain:("chain" in s)?s.chain:b.config.chain,bubbling:false,defaults:{context:s.context||this,host:this,emitFacade:s.emitFacade,fireOnce:s.fireOnce,queuable:s.queuable,monitored:s.monitored,broadcast:s.broadcast,defaultTargetOnly:s.defaultTargetOnly,bubbles:("bubbles" in s)?s.bubbles:true}};};d.prototype={constructor:d,once:function(){var r=this.on.apply(this,arguments);r.batch(function(s){if(s.sub){s.sub.once=true;}});return r;},onceAfter:function(){var r=k(arguments,0,true);r[0]=l+r[0];return this.once.apply(this,r);},parseType:function(r,s){return f(r,s||this._yuievt.config.prefix);},on:function(v,A,t){var D=f(v,this._yuievt.config.prefix),F,G,s,J,C,B,H,x=b.Env.evt.handles,u,r,y,I=b.Node,E,z,w;this._monitor("attach",D[1],{args:arguments,category:D[0],after:D[2]});if(j.isObject(v)){if(j.isFunction(v)){return b.Do.before.apply(b.Do,arguments);}F=A;G=t;s=k(arguments,0,true);J=[];if(j.isArray(v)){w=true;}u=v._after;delete v._after;b.each(v,function(M,L){if(j.isObject(M)){F=M.fn||((j.isFunction(M))?M:F);G=M.context||G;}var K=(u)?l:"";s[0]=K+((w)?M:L);s[1]=F;s[2]=G;J.push(this.on.apply(this,s));},this);return(this._yuievt.chain)?this:new b.EventHandle(J);}B=D[0];u=D[2];y=D[3];if(I&&b.instanceOf(this,I)&&(y in I.DOM_EVENTS)){s=k(arguments,0,true);s.splice(2,0,I.getDOMNode(this));return b.on.apply(b,s);}v=D[1];if(b.instanceOf(this,YUI)){r=b.Env.evt.plugins[v];s=k(arguments,0,true);s[0]=y;if(I){E=s[2];if(b.instanceOf(E,b.NodeList)){E=b.NodeList.getDOMNodes(E);}else{if(b.instanceOf(E,I)){E=I.getDOMNode(E);}}z=(y in I.DOM_EVENTS);if(z){s[2]=E;}}if(r){H=r.on.apply(b,s);}else{if((!v)||z){H=b.Event._attach(s);}}}if(!H){C=this._yuievt.events[v]||this.publish(v);H=C._on(A,t,(arguments.length>3)?k(arguments,3,true):null,(u)?"after":true);}if(B){x[B]=x[B]||{};x[B][v]=x[B][v]||[];x[B][v].push(H);}return(this._yuievt.chain)?this:H;},subscribe:function(){return this.on.apply(this,arguments);},detach:function(A,C,r){var G=this._yuievt.events,v,x=b.Node,E=x&&(b.instanceOf(this,x));if(!A&&(this!==b)){for(v in G){if(G.hasOwnProperty(v)){G[v].detach(C,r);}}if(E){b.Event.purgeElement(x.getDOMNode(this));}return this;}var u=f(A,this._yuievt.config.prefix),z=j.isArray(u)?u[0]:null,H=(u)?u[3]:null,w,D=b.Env.evt.handles,F,B,y,t,s=function(M,K,L){var J=M[K],N,I;if(J){for(I=J.length-1;I>=0;--I){N=J[I].evt;if(N.host===L||N.el===L){J[I].detach();}}}};if(z){B=D[z];A=u[1];F=(E)?b.Node.getDOMNode(this):this;if(B){if(A){s(B,A,F);}else{for(v in B){if(B.hasOwnProperty(v)){s(B,v,F);}}}return this;}}else{if(j.isObject(A)&&A.detach){A.detach();return this;}else{if(E&&((!H)||(H in x.DOM_EVENTS))){y=k(arguments,0,true);y[2]=x.getDOMNode(this);b.detach.apply(b,y);return this;}}}w=b.Env.evt.plugins[H];if(b.instanceOf(this,YUI)){y=k(arguments,0,true);if(w&&w.detach){w.detach.apply(b,y);return this;}else{if(!A||(!w&&x&&(A in x.DOM_EVENTS))){y[0]=A;b.Event.detach.apply(b.Event,y);return this;}}}t=G[u[1]];if(t){t.detach(C,r);}return this;},unsubscribe:function(){return this.detach.apply(this,arguments);},detachAll:function(r){return this.detach(r);},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},publish:function(t,u){var s,y,r,x,w=this._yuievt,v=w.config.prefix;t=(v)?o(t,v):t;this._monitor("publish",t,{args:arguments});if(j.isObject(t)){r={};b.each(t,function(A,z){r[z]=this.publish(z,A||u);},this);return r;}s=w.events;y=s[t];if(y){if(u){y.applyConfig(u,true);}}else{x=w.defaults;y=new b.CustomEvent(t,(u)?b.merge(x,u):x);s[t]=y;}return s[t];},_monitor:function(u,r,v){var s,t=this.getEvent(r);if((this._yuievt.config.monitored&&(!t||t.monitored))||(t&&t.monitored)){s=r+"_"+u;v.monitored=u;this.fire.call(this,s,v);}},fire:function(v){var z=j.isString(v),u=(z)?v:(v&&v.type),y,s,x=this._yuievt.config.prefix,w,r=(z)?k(arguments,1,true):arguments;u=(x)?o(u,x):u;this._monitor("fire",u,{args:r});y=this.getEvent(u,true);w=this.getSibling(u,y);if(w&&!y){y=this.publish(u);}if(!y){if(this._yuievt.hasTargets){return this.bubble({type:u},r,this);}s=true;}else{y.sibling=w;s=y.fire.apply(y,r);}return(this._yuievt.chain)?this:s;},getSibling:function(r,t){var s;if(r.indexOf(h)>-1){r=c(r);s=this.getEvent(r,true);if(s){s.applyConfig(t);s.bubbles=false;s.broadcast=0;}}return s;},getEvent:function(s,r){var u,t;if(!r){u=this._yuievt.config.prefix;s=(u)?o(s,u):s;}t=this._yuievt.events;return t[s]||null;},after:function(t,s){var r=k(arguments,0,true);switch(j.type(t)){case"function":return b.Do.after.apply(b.Do,arguments);case"array":case"object":r[0]._after=true;break;default:r[0]=l+t;}return this.on.apply(this,r);},before:function(){return this.on.apply(this,arguments);}};b.EventTarget=d;b.mix(b,d.prototype);d.call(b,{bubbles:false});YUI.Env.globalEvents=YUI.Env.globalEvents||new d();b.Global=YUI.Env.globalEvents;},"3.4.0",{requires:["oop"]});YUI.add("event-custom-complex",function(f){var b,e,d={},a=f.CustomEvent.prototype,c=f.EventTarget.prototype;f.EventFacade=function(h,g){h=h||d;this._event=h;this.details=h.details;this.type=h.type;this._type=h.type;this.target=h.target;this.currentTarget=g;this.relatedTarget=h.relatedTarget;};f.extend(f.EventFacade,Object,{stopPropagation:function(){this._event.stopPropagation();this.stopped=1;},stopImmediatePropagation:function(){this._event.stopImmediatePropagation();this.stopped=2;},preventDefault:function(){this._event.preventDefault();this.prevented=1;},halt:function(g){this._event.halt(g);this.prevented=1;this.stopped=(g)?2:1;}});a.fireComplex=function(p){var r,l,g,n,i,o,u,j,h,t=this,s=t.host||t,m,k;if(t.stack){if(t.queuable&&t.type!=t.stack.next.type){t.log("queue "+t.type);t.stack.queue.push([t,p]);return true;}}r=t.stack||{id:t.id,next:t,silent:t.silent,stopped:0,prevented:0,bubbling:null,type:t.type,afterQueue:new f.Queue(),defaultTargetOnly:t.defaultTargetOnly,queue:[]};j=t.getSubs();t.stopped=(t.type!==r.type)?0:r.stopped;t.prevented=(t.type!==r.type)?0:r.prevented;t.target=t.target||s;u=new f.EventTarget({fireOnce:true,context:s});t.events=u;if(t.stoppedFn){u.on("stopped",t.stoppedFn);}t.currentTarget=s;t.details=p.slice();t.log("Firing "+t.type);t._facade=null;l=t._getFacade(p);if(f.Lang.isObject(p[0])){p[0]=l;}else{p.unshift(l);}if(j[0]){t._procSubs(j[0],p,l);}if(t.bubbles&&s.bubble&&!t.stopped){k=r.bubbling;r.bubbling=t.type;if(r.type!=t.type){r.stopped=0;r.prevented=0;}o=s.bubble(t,p,null,r);t.stopped=Math.max(t.stopped,r.stopped);t.prevented=Math.max(t.prevented,r.prevented);r.bubbling=k;}if(t.prevented){if(t.preventedFn){t.preventedFn.apply(s,p);}}else{if(t.defaultFn&&((!t.defaultTargetOnly&&!r.defaultTargetOnly)||s===l.target)){t.defaultFn.apply(s,p);}}t._broadcast(p);if(j[1]&&!t.prevented&&t.stopped<2){if(r.id===t.id||t.type!=s._yuievt.bubbling){t._procSubs(j[1],p,l);while((m=r.afterQueue.last())){m();}}else{h=j[1];if(r.execDefaultCnt){h=f.merge(h);f.each(h,function(q){q.postponed=true;});}r.afterQueue.add(function(){t._procSubs(h,p,l);});}}t.target=null;if(r.id===t.id){n=r.queue;while(n.length){g=n.pop();i=g[0];r.next=i;i.fire.apply(i,g[1]);}t.stack=null;}o=!(t.stopped);if(t.type!=s._yuievt.bubbling){r.stopped=0;r.prevented=0;t.stopped=0;t.prevented=0;}return o;};a._getFacade=function(){var g=this._facade,j,i,h=this.details;if(!g){g=new f.EventFacade(this,this.currentTarget);}j=h&&h[0];if(f.Lang.isObject(j,true)){i={};f.mix(i,g,true,e);f.mix(g,j,true);f.mix(g,i,true,e);g.type=j.type||g.type;}g.details=this.details;g.target=this.originalTarget||this.target;g.currentTarget=this.currentTarget;g.stopped=0;g.prevented=0;this._facade=g;return this._facade;};a.stopPropagation=function(){this.stopped=1;if(this.stack){this.stack.stopped=1;}this.events.fire("stopped",this);};a.stopImmediatePropagation=function(){this.stopped=2;if(this.stack){this.stack.stopped=2;}this.events.fire("stopped",this);};a.preventDefault=function(){if(this.preventable){this.prevented=1;if(this.stack){this.stack.prevented=1;}}};a.halt=function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();};c.addTarget=function(g){this._yuievt.targets[f.stamp(g)]=g;this._yuievt.hasTargets=true;};c.getTargets=function(){return f.Object.values(this._yuievt.targets);};c.removeTarget=function(g){delete this._yuievt.targets[f.stamp(g)];};c.bubble=function(u,q,o,s){var m=this._yuievt.targets,p=true,v,r=u&&u.type,h,l,n,j,g=o||(u&&u.target)||this,k;if(!u||((!u.stopped)&&m)){for(l in m){if(m.hasOwnProperty(l)){v=m[l];h=v.getEvent(r,true);j=v.getSibling(r,h);if(j&&!h){h=v.publish(r);}k=v._yuievt.bubbling;v._yuievt.bubbling=r;if(!h){if(v._yuievt.hasTargets){v.bubble(u,q,g,s);}}else{h.sibling=j;h.target=g;h.originalTarget=g;h.currentTarget=v;n=h.broadcast;h.broadcast=false;h.emitFacade=true;h.stack=s;p=p&&h.fire.apply(h,q||u.details||[]);h.broadcast=n;h.originalTarget=null;if(h.stopped){break;}}v._yuievt.bubbling=k;}}}return p;};b=new f.EventFacade();e=f.Object.keys(b);},"3.4.0",{requires:["event-custom-base"]});YUI.add("event-custom",function(a){},"3.4.0",{use:["event-custom-base","event-custom-complex"]});YUI.add("io-base",function(a){var h=a.Lang,k=["start","complete","end","success","failure"],g=["status","statusText","responseText","responseXML"],b="getAllResponseHeaders",d="getResponseHeader",i=a.config.win,j=i.XMLHttpRequest,e=i.XDomainRequest,f=0;function c(m){var l=this;l._uid="io:"+f++;l._init(m);a.io._map[l._uid]=l;}c.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(n){var m=this,l;m.cfg=n||{};a.augment(m,a.EventTarget);for(l=0;l<5;l++){m.publish("io:"+k[l],a.merge({broadcast:1},n));m.publish("io-trn:"+k[l],n);}},_create:function(v,p){var s=this,r={id:h.isNumber(p)?p:s._id++,uid:s._uid},l=v.xdr,m=l?l.use:v.form&&v.form.upload?"iframe":"xhr",q=(l&&l.use==="native"&&e),n=s._transport;switch(m){case"native":case"xhr":r.c=q?new e():j?new j():new ActiveXObject("Microsoft.XMLHTTP");r.t=q?true:false;break;default:r.c=n?n[m]:{};r.t=true;}return r;},_destroy:function(l){if(i){if(j&&l.t===true){l.c.onreadystatechange=null;}else{if(a.UA.ie&&!l.e){l.c.abort();}}}l.c=null;l=null;},_evt:function(q,n,u){var t=this,l,x,v=u["arguments"],w=t.cfg.emitFacade,m="io:"+q,r="io-trn:"+q;if(n.e){n.c={status:0,statusText:n.e};}l=w?[{id:n.id,data:n.c,cfg:u,"arguments":v}]:[n.id];if(!w){if(q===k[0]||q===k[2]){if(v){l.push(v);}}else{x=v?l.push(n.c,v):l.push(n.c);}}l.unshift(m);t.fire.apply(t,l);if(u.on){l[0]=r;t.once(r,u.on[q],u.context||a);t.fire.apply(t,l);}},start:function(l,m){this._evt(k[0],l,m);},complete:function(l,m){this._evt(k[1],l,m);},end:function(l,m){this._evt(k[2],l,m);this._destroy(l);},success:function(l,m){this._evt(k[3],l,m);this.end(l,m);},failure:function(l,m){this._evt(k[4],l,m);this.end(l,m);},_retry:function(m,l,n){this._destroy(m);n.xdr.use="flash";return this.send(l,n,m.id);},_concat:function(l,m){l+=(l.indexOf("?")===-1?"?":"&")+m;return l;},setHeader:function(m,n){if(n){this._headers[m]=n;}else{delete this._headers[m];}},_setHeaders:function(m,l){l=a.merge(this._headers,l);a.Object.each(l,function(n,o){if(n!=="disable"){m.setRequestHeader(o,l[o]);}});},_startTimeout:function(m,l){var n=this;n._timeout[m.id]=i.setTimeout(function(){n._abort(m,"timeout");},l);},_clearTimeout:function(l){i.clearTimeout(this._timeout[l]);delete this._timeout[l];},_result:function(n,p){var l;try{l=n.c.status;}catch(m){l=0;}if(l>=200&&l<300||l===1223){this.success(n,p);}else{this.failure(n,p);}},_rS:function(l,n){var m=this;if(l.c.readyState===4){if(n.timeout){m._clearTimeout(l.id);}i.setTimeout(function(){m.complete(l,n);m._result(l,n);},0);}},_abort:function(m,l){if(m&&m.c){m.e=l;m.c.abort();}},send:function(p,y,t){var n,q,l,A,x,w=this,z=p;y=y?a.Object(y):{};n=w._create(y,t);q=y.method?y.method.toUpperCase():"GET";A=y.sync;x=y.data;if(h.isObject(x)){x=a.QueryString.stringify(x);}if(y.form){if(y.form.upload){return w.upload(n,p,y);}else{x=w._serialize(y.form,x);}}if(x){switch(q){case"GET":case"HEAD":case"DELETE":z=w._concat(z,x);x="";break;case"POST":case"PUT":y.headers=a.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},y.headers);break;}}if(n.t){return w.xdr(z,n,y);}if(!A){n.c.onreadystatechange=function(){w._rS(n,y);};}try{n.c.open(q,z,A?false:true,y.username||null,y.password||null);w._setHeaders(n.c,y.headers||{});w.start(n,y);if(y.xdr&&y.xdr.credentials){if(!a.UA.ie){n.c.withCredentials=true;}}n.c.send(x);if(A){l=a.mix({id:n.id,"arguments":y["arguments"]},n.c,false,g);l[b]=function(){return n.c[b]();};l[d]=function(m){return n.c[d](m);};w.complete(n,y);w._result(n,y);return l;}}catch(v){if(n.t){return w._retry(n,p,y);}else{w.complete(n,y);w._result(n,y);}}if(y.timeout){w._startTimeout(n,y.timeout);}return{id:n.id,abort:function(){return n.c?w._abort(n,"abort"):false;},isInProgress:function(){return n.c?n.c.readyState!==4&&n.c.readyState!==0:false;},io:w};}};a.io=function(l,n){var m=a.io._map["io:0"]||new c();return m.send.apply(m,[l,n]);};a.io.header=function(m,n){var p=a.io._map["io:0"]||new c();p.setHeader(m,n);};a.IO=c;a.io._map={};},"3.4.0",{requires:["event-custom-base","querystring-stringify-simple"]});YUI.add("dom-base",function(b){var o=b.config.doc.documentElement,g=b.DOM,m="tagName",a="ownerDocument",c="",n=b.Features.add,k=b.Features.test;b.mix(g,{getText:(o.textContent!==undefined)?function(s){var r="";if(s){r=s.textContent;}return r||"";}:function(s){var r="";if(s){r=s.innerText||s.nodeValue;}return r||"";},setText:(o.textContent!==undefined)?function(r,s){if(r){r.textContent=s;}}:function(r,s){if("innerText" in r){r.innerText=s;}else{if("nodeValue" in r){r.nodeValue=s;}}},CUSTOM_ATTRIBUTES:(!o.hasAttribute)?{"for":"htmlFor","class":"className"}:{htmlFor:"for",className:"class"},setAttribute:function(t,r,u,s){if(t&&r&&t.setAttribute){r=g.CUSTOM_ATTRIBUTES[r]||r;t.setAttribute(r,u,s);}},getAttribute:function(u,r,t){t=(t!==undefined)?t:2;var s="";if(u&&r&&u.getAttribute){r=g.CUSTOM_ATTRIBUTES[r]||r;s=u.getAttribute(r,t);if(s===null){s="";}}return s;},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(t){var s="",r;if(t&&t[m]){r=g.VALUE_GETTERS[t[m].toLowerCase()];if(r){s=r(t);}else{s=t.value;}}if(s===c){s=c;}return(typeof s==="string")?s:"";},setValue:function(r,s){var t;if(r&&r[m]){t=g.VALUE_SETTERS[r[m].toLowerCase()];if(t){t(r,s);}else{r.value=s;}}},creators:{}});n("value-set","select",{test:function(){var r=b.config.doc.createElement("select");r.innerHTML="<option>1</option><option>2</option>";r.value="2";return(r.value&&r.value==="2");}});if(!k("value-set","select")){g.VALUE_SETTERS.select=function(u,v){for(var s=0,r=u.getElementsByTagName("option"),t;t=r[s++];){if(g.getValue(t)===v){t.selected=true;break;}}};}b.mix(g.VALUE_GETTERS,{button:function(r){return(r.attributes&&r.attributes.value)?r.attributes.value.value:"";}});b.mix(g.VALUE_SETTERS,{button:function(s,t){var r=s.attributes.value;if(!r){r=s[a].createAttribute("value");s.setAttributeNode(r);}r.value=t;}});b.mix(g.VALUE_GETTERS,{option:function(s){var r=s.attributes;return(r.value&&r.value.specified)?s.value:s.text;},select:function(s){var t=s.value,r=s.options;if(r&&r.length){if(s.multiple){}else{t=g.getValue(r[s.selectedIndex]);}}return t;}});var h,f,q;b.mix(b.DOM,{hasClass:function(t,s){var r=b.DOM._getRegExp("(?:^|\\s+)"+s+"(?:\\s+|$)");return r.test(t.className);},addClass:function(s,r){if(!b.DOM.hasClass(s,r)){s.className=b.Lang.trim([s.className,r].join(" "));}},removeClass:function(s,r){if(r&&f(s,r)){s.className=b.Lang.trim(s.className.replace(b.DOM._getRegExp("(?:^|\\s+)"+r+"(?:\\s+|$)")," "));if(f(s,r)){q(s,r);}}},replaceClass:function(s,r,t){q(s,r);h(s,t);},toggleClass:function(s,r,t){var u=(t!==undefined)?t:!(f(s,r));if(u){h(s,r);}else{q(s,r);}}});f=b.DOM.hasClass;q=b.DOM.removeClass;h=b.DOM.addClass;var e=/<([a-z]+)/i,g=b.DOM,n=b.Features.add,k=b.Features.test,j={},i=function(t,r){var u=b.config.doc.createElement("div"),s=true;u.innerHTML=t;if(!u.firstChild||u.firstChild.tagName!==r.toUpperCase()){s=false;}return s;},p=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,d="<table>",l="</table>";b.mix(b.DOM,{_fragClones:{},_create:function(s,t,r){r=r||"div";var u=g._fragClones[r];if(u){u=u.cloneNode(false);}else{u=g._fragClones[r]=t.createElement(r);}u.innerHTML=s;return u;},create:function(v,y){if(typeof v==="string"){v=b.Lang.trim(v);}y=y||b.config.doc;var u=e.exec(v),w=g._create,s=j,x=null,t,z,r;if(v!=undefined){if(u&&u[1]){t=s[u[1].toLowerCase()];if(typeof t==="function"){w=t;}else{z=t;}}r=w(v,y,z).childNodes;if(r.length===1){x=r[0].parentNode.removeChild(r[0]);}else{if(r[0]&&r[0].className==="yui3-big-dummy"){if(r.length===2){x=r[0].nextSibling;}else{r[0].parentNode.removeChild(r[0]);x=g._nl2frag(r,y);}}else{x=g._nl2frag(r,y);}}}return x;},_nl2frag:function(s,v){var t=null,u,r;if(s&&(s.push||s.item)&&s[0]){v=v||s[0].ownerDocument;t=v.createDocumentFragment();if(s.item){s=b.Array(s,0,true);}for(u=0,r=s.length;u<r;u++){t.appendChild(s[u]);}}return t;},addHTML:function(y,x,t){var r=y.parentNode,v=0,w,s=x,u;if(x!=undefined){if(x.nodeType){u=x;}else{if(typeof x=="string"||typeof x=="number"){s=u=g.create(x);}else{if(x[0]&&x[0].nodeType){u=b.config.doc.createDocumentFragment();while((w=x[v++])){u.appendChild(w);}}}}}if(t){if(t.nodeType){t.parentNode.insertBefore(u,t);}else{switch(t){case"replace":while(y.firstChild){y.removeChild(y.firstChild);}if(u){y.appendChild(u);}break;case"before":r.insertBefore(u,y);break;case"after":if(y.nextSibling){r.insertBefore(u,y.nextSibling);}else{r.appendChild(u);}break;default:y.appendChild(u);}}}else{if(u){y.appendChild(u);}}return s;}});n("innerhtml","table",{test:function(){var r=b.config.doc.createElement("table");try{r.innerHTML="<tbody></tbody>";}catch(s){return false;}return(r.firstChild&&r.firstChild.nodeName==="TBODY");}});n("innerhtml-div","tr",{test:function(){return i("<tr></tr>","tr");}});n("innerhtml-div","script",{test:function(){return i("<script><\/script>","script");}});if(!k("innerhtml","table")){j.tbody=function(s,t){var u=g.create(d+s+l,t),r=u.children.tags("tbody")[0];if(u.children.length>1&&r&&!p.test(s)){r.parentNode.removeChild(r);}return u;};}if(!k("innerhtml-div","script")){j.script=function(r,s){var t=s.createElement("div");t.innerHTML="-"+r;t.removeChild(t.firstChild);return t;};j.link=j.style=j.script;}if(!k("innerhtml-div","tr")){b.mix(j,{option:function(r,s){return g.create('<select><option class="yui3-big-dummy" selected></option>'+r+"</select>",s);},tr:function(r,s){return g.create("<tbody>"+r+"</tbody>",s);},td:function(r,s){return g.create("<tr>"+r+"</tr>",s);},col:function(r,s){return g.create("<colgroup>"+r+"</colgroup>",s);},tbody:"table"});b.mix(j,{legend:"fieldset",th:j.td,thead:j.tbody,tfoot:j.tbody,caption:j.tbody,colgroup:j.tbody,optgroup:j.option});}g.creators=j;b.mix(b.DOM,{setWidth:function(s,r){b.DOM._setSize(s,"width",r);},setHeight:function(s,r){b.DOM._setSize(s,"height",r);},_setSize:function(s,u,t){t=(t>0)?t:0;var r=0;s.style[u]=t+"px";r=(u==="height")?s.offsetHeight:s.offsetWidth;if(r>t){t=t-(r-t);if(t<0){t=0;}s.style[u]=t+"px";}}});},"3.4.0",{requires:["dom-core"]});YUI.add("dom-style",function(a){(function(e){var p="documentElement",b="defaultView",n="ownerDocument",h="style",i="float",r="cssFloat",s="styleFloat",k="transparent",d="getComputedStyle",c="getBoundingClientRect",o=e.config.win,g=e.config.doc,t=undefined,q=e.DOM,f="transform",l=["WebkitTransform","MozTransform","OTransform"],m=/color$/i,j=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(l,function(u){if(u in g[p].style){f=u;}});e.mix(q,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(x,u,y,w){w=w||x.style;var v=q.CUSTOM_STYLES;if(w){if(y===null||y===""){y="";}else{if(!isNaN(new Number(y))&&j.test(u)){y+=q.DEFAULT_UNIT;}}if(u in v){if(v[u].set){v[u].set(x,y,w);return;}else{if(typeof v[u]==="string"){u=v[u];}}}else{if(u===""){u="cssText";y="";}}w[u]=y;}},getStyle:function(x,u,w){w=w||x.style;var v=q.CUSTOM_STYLES,y="";if(w){if(u in v){if(v[u].get){return v[u].get(x,u,w);}else{if(typeof v[u]==="string"){u=v[u];}}}y=w[u];if(y===""){y=q[d](x,u);}}return y;},setStyles:function(v,w){var u=v.style;e.each(w,function(x,y){q.setStyle(v,y,x,u);},q);},getComputedStyle:function(v,u){var x="",w=v[n];if(v[h]&&w[b]&&w[b][d]){x=w[b][d](v,null)[u];}return x;}});if(g[p][h][r]!==t){q.CUSTOM_STYLES[i]=r;}else{if(g[p][h][s]!==t){q.CUSTOM_STYLES[i]=s;}}if(e.UA.opera){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(m.test(v)){x=e.Color.toRGB(x);}return x;};}if(e.UA.webkit){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(x==="rgba(0, 0, 0, 0)"){x=k;}return x;};}e.DOM._getAttrOffset=function(y,v){var A=e.DOM[d](y,v),x=y.offsetParent,u,w,z;if(A==="auto"){u=e.DOM.getStyle(y,"position");if(u==="static"||u==="relative"){A=0;}else{if(x&&x[c]){w=x[c]()[v];z=y[c]()[v];if(v==="left"||v==="top"){A=z-w;}else{A=w-y[c]()[v];}}}}return A;};e.DOM._getOffset=function(u){var w,v=null;if(u){w=q.getStyle(u,"position");v=[parseInt(q[d](u,"left"),10),parseInt(q[d](u,"top"),10)];if(isNaN(v[0])){v[0]=parseInt(q.getStyle(u,"left"),10);if(isNaN(v[0])){v[0]=(w==="relative")?0:u.offsetLeft||0;}}if(isNaN(v[1])){v[1]=parseInt(q.getStyle(u,"top"),10);if(isNaN(v[1])){v[1]=(w==="relative")?0:u.offsetTop||0;}}}return v;};q.CUSTOM_STYLES.transform={set:function(v,w,u){u[f]=w;},get:function(v,u){return q[d](v,f);}};})(a);(function(d){var b=parseInt,c=RegExp;d.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!d.Color.re_RGB.test(e)){e=d.Color.toHex(e);}if(d.Color.re_hex.exec(e)){e="rgb("+[b(c.$1,16),b(c.$2,16),b(c.$3,16)].join(", ")+")";}return e;},toHex:function(f){f=d.Color.KEYWORDS[f]||f;if(d.Color.re_RGB.exec(f)){f=[Number(c.$1).toString(16),Number(c.$2).toString(16),Number(c.$3).toString(16)];for(var e=0;e<f.length;e++){if(f[e].length<2){f[e]="0"+f[e];}}f=f.join("");}if(f.length<6){f=f.replace(d.Color.re_hex3,"$1$1");}if(f!=="transparent"&&f.indexOf("#")<0){f="#"+f;}return f.toUpperCase();}};})(a);},"3.4.0",{requires:["dom-base"]});YUI.add("dom-screen",function(a){(function(f){var d="documentElement",q="compatMode",o="position",c="fixed",m="relative",g="left",h="top",i="BackCompat",p="medium",e="borderLeftWidth",b="borderTopWidth",r="getBoundingClientRect",k="getComputedStyle",l=f.DOM,n=/^t(?:able|d|h)$/i,j;if(f.UA.ie){if(f.config.doc[q]!=="BackCompat"){j=d;}else{j="body";}}f.mix(l,{winHeight:function(t){var s=l._getWinSize(t).height;return s;},winWidth:function(t){var s=l._getWinSize(t).width;return s;},docHeight:function(t){var s=l._getDocSize(t).height;return Math.max(s,l._getWinSize(t).height);},docWidth:function(t){var s=l._getDocSize(t).width;return Math.max(s,l._getWinSize(t).width);},docScrollX:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageXOffset:0;return Math.max(v[d].scrollLeft,v.body.scrollLeft,s);},docScrollY:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageYOffset:0;return Math.max(v[d].scrollTop,v.body.scrollTop,s);},getXY:function(){if(f.config.doc[d][r]){return function(x){var E=null,y,u,z,C,B,t,w,A,D,s,v;if(x&&x.tagName){D=x.ownerDocument;v=D[d];if(v.contains){s=v.contains(x);}else{s=f.DOM.contains(v,x);}if(s){y=(j)?D[j].scrollLeft:l.docScrollX(x,D);u=(j)?D[j].scrollTop:l.docScrollY(x,D);z=x[r]();E=[z.left,z.top];if(f.UA.ie){C=2;B=2;A=D[q];t=l[k](D[d],e);w=l[k](D[d],b);if(f.UA.ie===6){if(A!==i){C=0;B=0;}}if((A==i)){if(t!==p){C=parseInt(t,10);}if(w!==p){B=parseInt(w,10);}}E[0]-=C;E[1]-=B;}if((u||y)){if(!f.UA.ios||(f.UA.ios>=4.2)){E[0]+=y;E[1]+=u;}}}else{E=l._getOffset(x);}}return E;};}else{return function(t){var w=null,v,s,y,u,x;if(t){if(l.inDoc(t)){w=[t.offsetLeft,t.offsetTop];v=t.ownerDocument;s=t;y=((f.UA.gecko||f.UA.webkit>519)?true:false);while((s=s.offsetParent)){w[0]+=s.offsetLeft;w[1]+=s.offsetTop;if(y){w=l._calcBorders(s,w);}}if(l.getStyle(t,o)!=c){s=t;while((s=s.parentNode)){u=s.scrollTop;x=s.scrollLeft;if(f.UA.gecko&&(l.getStyle(s,"overflow")!=="visible")){w=l._calcBorders(s,w);}if(u||x){w[0]-=x;w[1]-=u;}}w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}else{w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}}else{w=l._getOffset(t);}}return w;};}}(),getX:function(s){return l.getXY(s)[0];},getY:function(s){return l.getXY(s)[1];},setXY:function(t,w,z){var u=l.setStyle,y,x,s,v;if(t&&w){y=l.getStyle(t,o);x=l._getOffset(t);if(y=="static"){y=m;u(t,o,y);}v=l.getXY(t);if(w[0]!==null){u(t,g,w[0]-v[0]+x[0]+"px");}if(w[1]!==null){u(t,h,w[1]-v[1]+x[1]+"px");}if(!z){s=l.getXY(t);if(s[0]!==w[0]||s[1]!==w[1]){l.setXY(t,w,true);}}}else{}},setX:function(t,s){return l.setXY(t,[s,null]);},setY:function(s,t){return l.setXY(s,[null,t]);},swapXY:function(t,s){var u=l.getXY(t);l.setXY(t,l.getXY(s));l.setXY(s,u);},_calcBorders:function(v,w){var u=parseInt(l[k](v,b),10)||0,s=parseInt(l[k](v,e),10)||0;if(f.UA.gecko){if(n.test(v.tagName)){u=0;s=0;}}w[0]+=s;w[1]+=u;return w;},_getWinSize:function(v,y){y=y||(v)?l._getDoc(v):f.config.doc;var x=y.defaultView||y.parentWindow,z=y[q],u=x.innerHeight,t=x.innerWidth,s=y[d];if(z&&!f.UA.opera){if(z!="CSS1Compat"){s=y.body;}u=s.clientHeight;t=s.clientWidth;}return{height:u,width:t};},_getDocSize:function(t){var u=(t)?l._getDoc(t):f.config.doc,s=u[d];if(u[q]!="CSS1Compat"){s=u.body;}return{height:s.scrollHeight,width:s.scrollWidth};}});})(a);(function(g){var d="top",c="right",h="bottom",b="left",f=function(m,k){var o=Math.max(m[d],k[d]),p=Math.min(m[c],k[c]),i=Math.min(m[h],k[h]),j=Math.max(m[b],k[b]),n={};n[d]=o;n[c]=p;n[h]=i;n[b]=j;return n;},e=g.DOM;g.mix(e,{region:function(j){var k=e.getXY(j),i=false;if(j&&k){i=e._getRegion(k[1],k[0]+j.offsetWidth,k[1]+j.offsetHeight,k[0]);}return i;},intersect:function(k,i,m){var j=m||e.region(k),l={},p=i,o;if(p.tagName){l=e.region(p);}else{if(g.Lang.isObject(i)){l=i;}else{return false;}}o=f(l,j);return{top:o[d],right:o[c],bottom:o[h],left:o[b],area:((o[h]-o[d])*(o[c]-o[b])),yoff:((o[h]-o[d])),xoff:(o[c]-o[b]),inRegion:e.inRegion(k,i,false,m)};},inRegion:function(l,i,j,o){var m={},k=o||e.region(l),q=i,p;if(q.tagName){m=e.region(q);}else{if(g.Lang.isObject(i)){m=i;}else{return false;}}if(j){return(k[b]>=m[b]&&k[c]<=m[c]&&k[d]>=m[d]&&k[h]<=m[h]);}else{p=f(m,k);if(p[h]>=p[d]&&p[c]>=p[b]){return true;}else{return false;}}},inViewportRegion:function(j,i,k){return e.inRegion(j,e.viewportRegion(j),i,k);},_getRegion:function(k,m,i,j){var n={};n[d]=n[1]=k;n[b]=n[0]=j;n[h]=i;n[c]=m;n.width=n[c]-n[b];n.height=n[h]-n[d];return n;},viewportRegion:function(j){j=j||g.config.doc.documentElement;var i=false,l,k;if(j){l=e.docScrollX(j);k=e.docScrollY(j);i=e._getRegion(k,e.winWidth(j)+l,k+e.winHeight(j),l);}return i;}});})(a);},"3.4.0",{requires:["dom-base","dom-style"]});YUI.add("selector-native",function(a){(function(e){e.namespace("Selector");var c="compareDocumentPosition",d="ownerDocument";var b={_foundCache:[],useNative:true,_compare:("sourceIndex" in e.config.doc.documentElement)?function(i,h){var g=i.sourceIndex,f=h.sourceIndex;if(g===f){return 0;}else{if(g>f){return 1;}}return -1;}:(e.config.doc.documentElement[c]?function(g,f){if(g[c](f)&4){return -1;}else{return 1;}}:function(j,i){var h,f,g;if(j&&i){h=j[d].createRange();h.setStart(j,0);f=i[d].createRange();f.setStart(i,0);g=h.compareBoundaryPoints(1,f);}return g;}),_sort:function(f){if(f){f=e.Array(f,0,true);if(f.sort){f.sort(b._compare);}}return f;},_deDupe:function(f){var g=[],h,j;for(h=0;(j=f[h++]);){if(!j._found){g[g.length]=j;j._found=true;}}for(h=0;(j=g[h++]);){j._found=null;j.removeAttribute("_found");}return g;},query:function(g,o,p,f){o=o||e.config.doc;var l=[],h=(e.Selector.useNative&&e.config.doc.querySelector&&!f),k=[[g,o]],m,q,j,n=(h)?e.Selector._nativeQuery:e.Selector._bruteQuery;if(g&&n){if(!f&&(!h||o.tagName)){k=b._splitQueries(g,o);}for(j=0;(m=k[j++]);){q=n(m[0],m[1],p);if(!p){q=e.Array(q,0,true);}if(q){l=l.concat(q);}}if(k.length>1){l=b._sort(b._deDupe(l));}}return(p)?(l[0]||null):l;},_splitQueries:function(h,l){var g=h.split(","),j=[],m="",k,f;if(l){if(l.tagName){l.id=l.id||e.guid();m='[id="'+l.id+'"] ';}for(k=0,f=g.length;k<f;++k){h=m+g[k];j.push([h,l]);}}return j;},_nativeQuery:function(f,g,h){if(e.UA.webkit&&f.indexOf(":checked")>-1&&(e.Selector.pseudos&&e.Selector.pseudos.checked)){return e.Selector.query(f,g,h,true);}try{return g["querySelector"+(h?"":"All")](f);}catch(i){return e.Selector.query(f,g,h,true);}},filter:function(g,f){var h=[],j,k;if(g&&f){for(j=0;(k=g[j++]);){if(e.Selector.test(k,f)){h[h.length]=k;}}}else{}return h;},test:function(h,k,p){var n=false,f=false,g,q,t,o,s,m,l,r;if(h&&h.tagName){if(typeof k=="function"){n=k.call(h,h);}else{g=k.split(",");if(!p&&!e.DOM.inDoc(h)){q=h.parentNode;if(q){p=q;}else{s=h[d].createDocumentFragment();s.appendChild(h);p=s;f=true;}}p=p||h[d];if(!h.id){h.id=e.guid();}for(m=0;(r=g[m++]);){r+='[id="'+h.id+'"]';o=e.Selector.query(r,p);for(l=0;t=o[l++];){if(t===h){n=true;break;}}if(n){break;}}if(f){s.removeChild(h);}}}return n;},ancestor:function(g,f,h){return e.DOM.ancestor(g,function(i){return e.Selector.test(i,f);},h);}};e.mix(e.Selector,b,true);})(a);},"3.4.0",{requires:["dom-base"]});YUI.add("selector-css2",function(g){var h="parentNode",d="tagName",e="attributes",a="combinator",f="pseudos",c=g.Selector,b={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_children:function(n,j){var k=n.children,m,l=[],o,p;if(n.children&&j&&n.children.tags){l=n.children.tags(j);}else{if((!k&&n[d])||(k&&j)){o=k||n.childNodes;k=[];for(m=0;(p=o[m++]);){if(p.tagName){if(!j||j===p.tagName){k.push(p);}}}}}return k||[];},_re:{attr:/(\[[^\]]*\])/g,esc:/\\[:\[\]\(\)#\.\'\>+~"]/gi,pseudos:/(\([^\)]*\))/g},shorthand:{"\\#(-?[_a-z0-9]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(j,i){return g.DOM.getAttribute(j,i)!=="";},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(i){return g.Selector._children(i[h])[0]===i;}},_bruteQuery:function(n,r,t){var o=[],i=[],q=c._tokenize(n),m=q[q.length-1],s=g.DOM._getDoc(r),k,j,p,l;if(m){j=m.id;p=m.className;l=m.tagName||"*";if(r.getElementsByTagName){if(j&&(r.all||(r.nodeType===9||g.DOM.inDoc(r)))){i=g.DOM.allById(j,r);}else{if(p){i=r.getElementsByClassName(p);}else{i=r.getElementsByTagName(l);}}}else{k=r.firstChild;while(k){if(k.tagName){i.push(k);}k=k.nextSilbing||k.firstChild;}}if(i.length){o=c._filterNodes(i,q,t);}}return o;},_filterNodes:function(u,q,s){var z=0,y,A=q.length,t=A-1,p=[],w=u[0],D=w,B=g.Selector.getters,o,x,m,r,k,v,l,C;for(z=0;(D=w=u[z++]);){t=A-1;r=null;testLoop:while(D&&D.tagName){m=q[t];l=m.tests;y=l.length;if(y&&!k){while((C=l[--y])){o=C[1];if(B[C[0]]){v=B[C[0]](D,C[0]);}else{v=D[C[0]];if(v===undefined&&D.getAttribute){v=D.getAttribute(C[0]);}}if((o==="="&&v!==C[2])||(typeof o!=="string"&&o.test&&!o.test(v))||(!o.test&&typeof o==="function"&&!o(D,C[0],C[2]))){if((D=D[r])){while(D&&(!D.tagName||(m.tagName&&m.tagName!==D.tagName))){D=D[r];}}continue testLoop;}}}t--;if(!k&&(x=m.combinator)){r=x.axis;D=D[r];while(D&&!D.tagName){D=D[r];}if(x.direct){r=null;}}else{p.push(w);if(s){return p;}break;}}}w=D=null;return p;},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:e,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(l,m){var k=l[2]||"",i=c.operators,j=(l[3])?l[3].replace(/\\/g,""):"",n;if((l[1]==="id"&&k==="=")||(l[1]==="className"&&g.config.doc.documentElement.getElementsByClassName&&(k==="~="||k==="="))){m.prefilter=l[1];l[3]=j;m[l[1]]=(l[1]==="id")?l[3]:j;}if(k in i){n=i[k];if(typeof n==="string"){l[3]=j.replace(c._reRegExpTokens,"\\$1");n=new RegExp(n.replace("{val}",l[3]));}l[2]=n;}if(!m.last||m.prefilter!==l[1]){return l.slice(1);}}},{name:d,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(j,k){var i=j[1].toUpperCase();k.tagName=i;if(i!=="*"&&(!k.last||k.prefilter)){return[d,"=",i];}if(!k.prefilter){k.prefilter="tagName";}}},{name:a,re:/^\s*([>+~]|\s)\s*/,fn:function(i,j){}},{name:f,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(i,j){var k=c[f][i[1]];if(k){if(i[2]){i[2]=i[2].replace(/\\/g,"");}return[i[2],k];}else{return false;}}}],_getToken:function(i){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]};},_tokenize:function(l){l=l||"";l=c._replaceShorthand(g.Lang.trim(l));var k=c._getToken(),q=l,p=[],r=false,n,o,m,j;outer:do{r=false;for(m=0;(j=c._parsers[m++]);){if((n=j.re.exec(l))){if(j.name!==a){k.selector=l;}l=l.replace(n[0],"");if(!l.length){k.last=true;}if(c._attrFilters[n[1]]){n[1]=c._attrFilters[n[1]];}o=j.fn(n,k);if(o===false){r=false;break outer;}else{if(o){k.tests.push(o);}}if(!l.length||j.name===a){p.push(k);k=c._getToken(k);if(j.name===a){k.combinator=g.Selector.combinators[n[1]];}}r=true;}}}while(r&&l.length);if(!r||l.length){p=[];}return p;},_replaceShorthand:function(k){var m=c.shorthand,l=k.match(c._re.esc),n,q,p,o,j;if(l){k=k.replace(c._re.esc,"\uE000");}n=k.match(c._re.attr);q=k.match(c._re.pseudos);if(n){k=k.replace(c._re.attr,"\uE001");}if(q){k=k.replace(c._re.pseudos,"\uE002");}for(p in m){if(m.hasOwnProperty(p)){k=k.replace(new RegExp(p,"gi"),m[p]);}}if(n){for(o=0,j=n.length;o<j;++o){k=k.replace(/\uE001/,n[o]);}}if(q){for(o=0,j=q.length;o<j;++o){k=k.replace(/\uE002/,q[o]);}}k=k.replace(/\[/g,"\uE003");k=k.replace(/\]/g,"\uE004");k=k.replace(/\(/g,"\uE005");k=k.replace(/\)/g,"\uE006");if(l){for(o=0,j=l.length;o<j;++o){k=k.replace("\uE000",l[o]);}}return k;},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(j,i){return g.DOM.getAttribute(j,i);}}};g.mix(g.Selector,b,true);g.Selector.getters.src=g.Selector.getters.rel=g.Selector.getters.href;if(g.Selector.useNative&&g.config.doc.querySelector){g.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]";}},"3.4.0",{requires:["selector-native"]});YUI.add("selector-css3",function(a){a.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;a.Selector._getNth=function(d,o,q,h){a.Selector._reNth.test(o);var m=parseInt(RegExp.$1,10),c=RegExp.$2,j=RegExp.$3,k=parseInt(RegExp.$4,10)||0,p=[],l=a.Selector._children(d.parentNode,q),f;if(j){m=2;f="+";c="n";k=(j==="odd")?1:0;}else{if(isNaN(m)){m=(c)?1:0;}}if(m===0){if(h){k=l.length-k+1;}if(l[k-1]===d){return true;}else{return false;}}else{if(m<0){h=!!h;m=Math.abs(m);}}if(!h){for(var e=k-1,g=l.length;e<g;e+=m){if(e>=0&&l[e]===d){return true;}}}else{for(var e=l.length-k,g=l.length;e>=0;e-=m){if(e<g&&l[e]===d){return true;}}}return false;};a.mix(a.Selector.pseudos,{root:function(b){return b===b.ownerDocument.documentElement;},"nth-child":function(b,c){return a.Selector._getNth(b,c);},"nth-last-child":function(b,c){return a.Selector._getNth(b,c,null,true);},"nth-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName);},"nth-last-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName,true);},"last-child":function(c){var b=a.Selector._children(c.parentNode);return b[b.length-1]===c;},"first-of-type":function(b){return a.Selector._children(b.parentNode,b.tagName)[0]===b;},"last-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b[b.length-1]===c;},"only-child":function(c){var b=a.Selector._children(c.parentNode);return b.length===1&&b[0]===c;},"only-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b.length===1&&b[0]===c;},empty:function(b){return b.childNodes.length===0;},not:function(b,c){return !a.Selector.test(b,c);},contains:function(b,c){var d=b.innerText||b.textContent||"";return d.indexOf(c)>-1;},checked:function(b){return(b.checked===true||b.selected===true);},enabled:function(b){return(b.disabled!==undefined&&!b.disabled);},disabled:function(b){return(b.disabled);}});a.mix(a.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"});a.Selector.combinators["~"]={axis:"previousSibling"};},"3.4.0",{requires:["selector-native","selector-css2"]});YUI.add("selector",function(a){},"3.4.0",{requires:["selector-native"]});YUI.add("dom",function(a){},"3.4.0",{use:["dom-base","dom-style","dom-screen","selector-native","selector"]});YUI.add("dom-style-ie",function(a){(function(d){var A="hasLayout",l="px",m="filter",b="filters",x="opacity",q="auto",h="borderWidth",k="borderTopWidth",u="borderRightWidth",z="borderBottomWidth",i="borderLeftWidth",j="width",s="height",v="transparent",w="visible",c="getComputedStyle",C=undefined,B=d.config.doc.documentElement,p=d.Features.test,n=d.Features.add,t=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,o=(d.UA.ie>=8),f=function(e){return e.currentStyle||e.style;},r={CUSTOM_STYLES:{},get:function(e,E){var D="",F;if(e){F=f(e)[E];if(E===x&&d.DOM.CUSTOM_STYLES[x]){D=d.DOM.CUSTOM_STYLES[x].get(e);}else{if(!F||(F.indexOf&&F.indexOf(l)>-1)){D=F;}else{if(d.DOM.IE.COMPUTED[E]){D=d.DOM.IE.COMPUTED[E](e,E);}else{if(t.test(F)){D=r.getPixel(e,E)+l;}else{D=F;}}}}}return D;},sizeOffsets:{width:["Left","Right"],height:["Top","Bottom"],top:["Top"],bottom:["Bottom"]},getOffset:function(E,e){var I=f(E)[e],J=e.charAt(0).toUpperCase()+e.substr(1),F="offset"+J,D="pixel"+J,H=r.sizeOffsets[e],G=E.ownerDocument.compatMode,K="";if(I===q||I.indexOf("%")>-1){K=E["offset"+J];if(G!=="BackCompat"){if(H[0]){K-=r.getPixel(E,"padding"+H[0]);K-=r.getBorderWidth(E,"border"+H[0]+"Width",1);}if(H[1]){K-=r.getPixel(E,"padding"+H[1]);K-=r.getBorderWidth(E,"border"+H[1]+"Width",1);}}}else{if(!E.style[D]&&!E.style[e]){E.style[e]=I;}K=E.style[D];}return K+l;},borderMap:{thin:(o)?"1px":"2px",medium:(o)?"3px":"4px",thick:(o)?"5px":"6px"},getBorderWidth:function(D,F,e){var E=e?"":l,G=D.currentStyle[F];if(G.indexOf(l)<0){if(r.borderMap[G]&&D.currentStyle.borderStyle!=="none"){G=r.borderMap[G];}else{G=0;}}return(e)?parseFloat(G):G;},getPixel:function(E,e){var G=null,D=f(E),H=D.right,F=D[e];E.style.right=F;G=E.style.pixelRight;E.style.right=H;return G;},getMargin:function(E,e){var F,D=f(E);if(D[e]==q){F=0;}else{F=r.getPixel(E,e);}return F+l;},getVisibility:function(D,e){var E;while((E=D.currentStyle)&&E[e]=="inherit"){D=D.parentNode;}return(E)?E[e]:w;},getColor:function(D,e){var E=f(D)[e];if(!E||E===v){d.DOM.elementByAxis(D,"parentNode",null,function(F){E=f(F)[e];if(E&&E!==v){D=F;return true;}});}return d.Color.toRGB(E);},getBorderColor:function(D,e){var E=f(D),F=E[e]||E.color;return d.Color.toRGB(d.Color.toHex(F));}},g={};n("style","computedStyle",{test:function(){return"getComputedStyle" in d.config.win;}});n("style","opacity",{test:function(){return"opacity" in B.style;}});n("style","filter",{test:function(){return"filters" in B;}});if(!p("style","opacity")&&p("style","filter")){d.DOM.CUSTOM_STYLES[x]={get:function(E){var G=100;try{G=E[b]["DXImageTransform.Microsoft.Alpha"][x];}catch(F){try{G=E[b]("alpha")[x];}catch(D){}}return G/100;},set:function(E,H,D){var G,F=f(E),e=F[m];D=D||E.style;if(H===""){G=(x in F)?F[x]:1;H=G;}if(typeof e=="string"){D[m]=e.replace(/alpha([^)]*\))/gi,"")+((H<1)?"alpha("+x+"="+H*100+")":"");if(!D[m]){D.removeAttribute(m);}if(!F[A]){D.zoom=1;}}}};}try{d.config.doc.createElement("div").style.height="-1px";}catch(y){d.DOM.CUSTOM_STYLES.height={set:function(E,F,D){var e=parseFloat(F);if(e>=0||F==="auto"||F===""){D.height=F;}else{}}};d.DOM.CUSTOM_STYLES.width={set:function(E,F,D){var e=parseFloat(F);if(e>=0||F==="auto"||F===""){D.width=F;}else{}}};}if(!p("style","computedStyle")){g[j]=g[s]=r.getOffset;g.color=g.backgroundColor=r.getColor;g[h]=g[k]=g[u]=g[z]=g[i]=r.getBorderWidth;g.marginTop=g.marginRight=g.marginBottom=g.marginLeft=r.getMargin;g.visibility=r.getVisibility;g.borderColor=g.borderTopColor=g.borderRightColor=g.borderBottomColor=g.borderLeftColor=r.getBorderColor;d.DOM[c]=r.get;d.namespace("DOM.IE");d.DOM.IE.COMPUTED=g;d.DOM.IE.ComputedStyle=r;}})(a);},"3.4.0",{requires:["dom-style"]});YUI.add("dom-deprecated",function(a){a.mix(a.DOM,{children:function(d,b){var c=[];if(d){b=b||"*";c=a.Selector.query("> "+b,d);}return c;},firstByTag:function(b,c){var d;c=c||a.config.doc;if(b&&c.getElementsByTagName){d=c.getElementsByTagName(b)[0];}return d||null;},previous:function(b,d,c){return a.DOM.elementByAxis(b,"previousSibling",d,c);},next:function(b,d,c){return a.DOM.elementByAxis(b,"nextSibling",d,c);}});},"3.4.0",{requires:["dom-base"]});(function(){var a=YUI.Env;if(!a._ready){a._ready=function(){a.DOMReady=true;a.remove(YUI.config.doc,"DOMContentLoaded",a._ready);};a.add(YUI.config.doc,"DOMContentLoaded",a._ready);}})();YUI.add("event-base",function(e){e.publish("domready",{fireOnce:true,async:true});if(YUI.Env.DOMReady){e.fire("domready");}else{e.Do.before(function(){e.fire("domready");},YUI.Env,"_ready");}var b=e.UA,d={},a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},c=function(h){if(!h){return h;}try{if(h&&3==h.nodeType){h=h.parentNode;}}catch(g){return null;}return e.one(h);},f=function(g,h,i){this._event=g;this._currentTarget=h;this._wrapper=i||d;this.init();};e.extend(f,Object,{init:function(){var i=this._event,j=this._wrapper.overrides,g=i.pageX,l=i.pageY,k,h=this._currentTarget;this.altKey=i.altKey;this.ctrlKey=i.ctrlKey;this.metaKey=i.metaKey;this.shiftKey=i.shiftKey;this.type=(j&&j.type)||i.type;this.clientX=i.clientX;this.clientY=i.clientY;this.pageX=g;this.pageY=l;k=i.keyCode||i.charCode;if(b.webkit&&(k in a)){k=a[k];}this.keyCode=k;this.charCode=k;this.which=i.which||i.charCode||k;this.button=this.which;this.target=c(i.target);this.currentTarget=c(h);this.relatedTarget=c(i.relatedTarget);if(i.type=="mousewheel"||i.type=="DOMMouseScroll"){this.wheelDelta=(i.detail)?(i.detail*-1):Math.round(i.wheelDelta/80)||((i.wheelDelta<0)?-1:1);}if(this._touch){this._touch(i,h,this._wrapper);}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){var g=this._event;if(g.stopImmediatePropagation){g.stopImmediatePropagation();}else{this.stopPropagation();}this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(g){var h=this._event;h.preventDefault();h.returnValue=g||false;this._wrapper.prevented=1;this.prevented=1;},halt:function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();}});f.resolve=c;e.DOM2EventFacade=f;e.DOMEventFacade=f;(function(){e.Env.evt.dom_wrappers={};e.Env.evt.dom_map={};var q=e.Env.evt,i=e.config,n=i.win,s=YUI.Env.add,l=YUI.Env.remove,p=function(){YUI.Env.windowLoaded=true;e.Event._load();l(n,"load",p);},g=function(){e.Event._unload();},j="domready",m="~yui|2|compat~",o=function(u){try{return(u&&typeof u!=="string"&&e.Lang.isNumber(u.length)&&!u.tagName&&!u.alert);}catch(t){return false;}},h=e.CustomEvent.prototype._delete,k=function(u){var t=h.apply(this,arguments);if(!this.subCount&&!this.afterCount){e.Event._clean(this);}return t;},r=function(){var v=false,w=0,u=[],x=q.dom_wrappers,t=null,y=q.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!r._interval){r._interval=setInterval(r._poll,r.POLL_INTERVAL);}},onAvailable:function(z,D,H,A,E,G){var F=e.Array(z),B,C;for(B=0;B<F.length;B=B+1){u.push({id:F[B],fn:D,obj:H,override:A,checkReady:E,compat:G});}w=this.POLL_RETRYS;setTimeout(r._poll,0);C=new e.EventHandle({_delete:function(){if(C.handle){C.handle.detach();return;}var J,I;for(J=0;J<F.length;J++){for(I=0;I<u.length;I++){if(F[J]===u[I].id){u.splice(I,1);}}}}});return C;},onContentReady:function(D,B,C,A,z){return r.onAvailable(D,B,C,A,true,z);},attach:function(C,B,A,z){return r._attach(e.Array(arguments,0,true));},_createWrapper:function(F,E,z,A,D){var C,G=e.stamp(F),B="event:"+G+E;if(false===D){B+="native";}if(z){B+="capture";}C=x[B];if(!C){C=e.publish(B,{silent:true,bubbles:false,contextFn:function(){if(A){return C.el;}else{C.nodeRef=C.nodeRef||e.one(C.el);return C.nodeRef;}}});C.overrides={};C.el=F;C.key=B;C.domkey=G;C.type=E;C.fn=function(H){C.fire(r.getEvent(H,F,(A||(false===D))));};C.capture=z;if(F==n&&E=="load"){C.fireOnce=true;t=B;}C._delete=k;x[B]=C;y[G]=y[G]||{};y[G][B]=C;s(F,E,C.fn,z);}return C;},_attach:function(F,E){var K,M,C,J,z,B=false,D,G=F[0],H=F[1],A=F[2]||n,N=E&&E.facade,L=E&&E.capture,I=E&&E.overrides;if(F[F.length-1]===m){K=true;}if(!H||!H.call){return false;}if(o(A)){M=[];e.each(A,function(P,O){F[2]=P;M.push(r._attach(F.slice(),E));});return new e.EventHandle(M);}else{if(e.Lang.isString(A)){if(K){C=e.DOM.byId(A);}else{C=e.Selector.query(A);switch(C.length){case 0:C=null;break;case 1:C=C[0];break;default:F[2]=C;return r._attach(F,E);}}if(C){A=C;}else{D=r.onAvailable(A,function(){D.handle=r._attach(F,E);},r,true,false,K);return D;}}}if(!A){return false;}if(e.Node&&e.instanceOf(A,e.Node)){A=e.Node.getDOMNode(A);}J=r._createWrapper(A,G,L,K,N);if(I){e.mix(J.overrides,I);}if(A==n&&G=="load"){if(YUI.Env.windowLoaded){B=true;}}if(K){F.pop();}z=F[3];D=J._on(H,z,(F.length>4)?F.slice(4):null);if(B){J.fire();}return D;},detach:function(G,H,B,E){var F=e.Array(arguments,0,true),J,C,I,D,z,A;if(F[F.length-1]===m){J=true;}if(G&&G.detach){return G.detach();}if(typeof B=="string"){if(J){B=e.DOM.byId(B);}else{B=e.Selector.query(B);C=B.length;if(C<1){B=null;}else{if(C==1){B=B[0];}}}}if(!B){return false;}if(B.detach){F.splice(2,1);return B.detach.apply(B,F);}else{if(o(B)){I=true;for(D=0,C=B.length;D<C;++D){F[2]=B[D];I=(e.Event.detach.apply(e.Event,F)&&I);}return I;}}if(!G||!H||!H.call){return r.purgeElement(B,false,G);}z="event:"+e.stamp(B)+G;A=x[z];if(A){return A.detach(H);}else{return false;}},getEvent:function(C,A,z){var B=C||n.event;return(z)?B:new e.DOMEventFacade(B,A,x["event:"+e.stamp(A)+C.type]);},generateId:function(z){return e.DOM.generateID(z);},_isValidCollection:o,_load:function(z){if(!v){v=true;if(e.fire){e.fire(j);}r._poll();}},_poll:function(){if(r.locked){return;}if(e.UA.ie&&!YUI.Env.DOMReady){r.startInterval();return;}r.locked=true;var A,z,E,B,D,F,C=!v;if(!C){C=(w>0);}D=[];F=function(I,J){var H,G=J.override;if(J.compat){if(J.override){if(G===true){H=J.obj;}else{H=G;}}else{H=I;}J.fn.call(H,J.obj);}else{H=J.obj||e.one(I);J.fn.apply(H,(e.Lang.isArray(G))?G:[]);}};for(A=0,z=u.length;A<z;++A){E=u[A];if(E&&!E.checkReady){B=(E.compat)?e.DOM.byId(E.id):e.Selector.query(E.id,null,true);if(B){F(B,E);u[A]=null;}else{D.push(E);}}}for(A=0,z=u.length;A<z;++A){E=u[A];if(E&&E.checkReady){B=(E.compat)?e.DOM.byId(E.id):e.Selector.query(E.id,null,true);if(B){if(v||(B.get&&B.get("nextSibling"))||B.nextSibling){F(B,E);u[A]=null;}}else{D.push(E);}}}w=(D.length===0)?0:w-1;if(C){r.startInterval();}else{clearInterval(r._interval);r._interval=null;}r.locked=false;return;},purgeElement:function(B,z,G){var E=(e.Lang.isString(B))?e.Selector.query(B,null,true):B,H=r.getListeners(E,G),D,F,C,A;if(z&&E){H=H||[];C=e.Selector.query("*",E);D=0;F=C.length;for(;D<F;++D){A=r.getListeners(C[D],G);if(A){H=H.concat(A);}}}if(H){for(D=0,F=H.length;D<F;++D){H[D].detachAll();}}},_clean:function(B){var A=B.key,z=B.domkey;l(B.el,B.type,B.fn,B.capture);delete x[A];delete e._yuievt.events[A];if(y[z]){delete y[z][A];if(!e.Object.size(y[z])){delete y[z];}}},getListeners:function(D,C){var E=e.stamp(D,true),z=y[E],B=[],A=(C)?"event:"+E+C:null,F=q.plugins;if(!z){return null;}if(A){if(F[C]&&F[C].eventDef){A+="_synth";}if(z[A]){B.push(z[A]);}A+="native";if(z[A]){B.push(z[A]);}}else{e.each(z,function(H,G){B.push(H);});}return(B.length)?B:null;},_unload:function(z){e.each(x,function(B,A){if(B.type=="unload"){B.fire(z);}B.detachAll();});l(n,"unload",g);},nativeAdd:s,nativeRemove:l};}();e.Event=r;if(i.injected||YUI.Env.windowLoaded){p();}else{s(n,"load",p);}if(e.UA.ie){e.on(j,r._poll);}s(n,"unload",g);r.Custom=e.CustomEvent;r.Subscriber=e.Subscriber;r.Target=e.EventTarget;r.Handle=e.EventHandle;r.Facade=e.EventFacade;r._poll();})();e.Env.evt.plugins.available={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onAvailable.call(e.Event,k,h,j,g);}};e.Env.evt.plugins.contentready={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onContentReady.call(e.Event,k,h,j,g);}};},"3.4.0",{requires:["event-custom-base"]});(function(){var b,f=YUI.Env,d=YUI.config,g=d.doc,c=g&&g.documentElement,e="onreadystatechange",a=d.pollInterval||40;if(c.doScroll&&!f._ieready){f._ieready=function(){f._ready();};
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller/Diego Perini */
if(self!==self.top){b=function(){if(g.readyState=="complete"){f.remove(g,e,b);f.ieready();}};f.add(g,e,b);}else{f._dri=setInterval(function(){try{c.doScroll("left");clearInterval(f._dri);f._dri=null;f._ieready();}catch(h){}},a);}}})();YUI.add("event-base-ie",function(c){function h(){c.DOM2EventFacade.apply(this,arguments);}function i(n){var l=c.config.doc.createEventObject(n),m=i.prototype;l.hasOwnProperty=function(){return true;};l.init=m.init;l.halt=m.halt;l.preventDefault=m.preventDefault;l.stopPropagation=m.stopPropagation;l.stopImmediatePropagation=m.stopImmediatePropagation;c.DOM2EventFacade.apply(l,arguments);return l;}var a=c.config.doc&&c.config.doc.implementation,b=c.config.lazyEventFacade,j={0:1,4:2,2:3},d={mouseout:"toElement",mouseover:"fromElement"},k=c.DOM2EventFacade.resolve,f={init:function(){h.superclass.init.apply(this,arguments);var o=this._event,m,r,p,l,q,n;this.target=k(o.srcElement);if(("clientX" in o)&&(!m)&&(0!==m)){m=o.clientX;r=o.clientY;p=c.config.doc;l=p.body;q=p.documentElement;m+=(q.scrollLeft||(l&&l.scrollLeft)||0);r+=(q.scrollTop||(l&&l.scrollTop)||0);this.pageX=m;this.pageY=r;}if(o.type=="mouseout"){n=o.toElement;}else{if(o.type=="mouseover"){n=o.fromElement;}}this.relatedTarget=k(n||o.relatedTarget);if(o.button!==undefined){this.which=this.button=j[o.button]||o.button;}},stopPropagation:function(){this._event.cancelBubble=true;this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){this.stopPropagation();this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(e){this._event.returnValue=e||false;this._wrapper.prevented=1;this.prevented=1;}};c.extend(h,c.DOM2EventFacade,f);c.extend(i,c.DOM2EventFacade,f);i.prototype.init=function(){var l=this._event,m=this._wrapper.overrides,p=i._define,o=i._lazyProperties,n;this.altKey=l.altKey;this.ctrlKey=l.ctrlKey;this.metaKey=l.metaKey;this.shiftKey=l.shiftKey;this.type=(m&&m.type)||l.type;this.clientX=l.clientX;this.clientY=l.clientY;for(n in o){if(o.hasOwnProperty(n)){p(this,n,o[n]);}}if(this._touch){this._touch(l,this._currentTarget,this._wrapper);}};i._lazyProperties={charCode:function(){var l=this._event;return l.keyCode||l.charCode;},keyCode:function(){return this.charCode;},button:function(){var l=this._event;return(l.button!==undefined)?(j[l.button]||l.button):(l.which||l.charCode||this.charCode);},which:function(){return this.button;},target:function(){return k(this._event.srcElement);},relatedTarget:function(){var m=this._event,l=d[m.type]||"relatedTarget";return k(m[l]||m.relatedTarget);},currentTarget:function(){return k(this._currentTarget);},wheelDelta:function(){var l=this._event;if(l.type==="mousewheel"||l.type==="DOMMouseScroll"){return(l.detail)?(l.detail*-1):Math.round(l.wheelDelta/80)||((l.wheelDelta<0)?-1:1);}},pageX:function(){var n=this._event,p=n.pageX,m,o,l;if(p===undefined){m=c.config.doc;o=m.body&&m.body.scrollLeft;l=m.documentElement.scrollLeft;p=n.clientX+(l||o||0);}return p;},pageY:function(){var n=this._event,p=n.pageY,m,o,l;if(p===undefined){m=c.config.doc;o=m.body&&m.body.scrollTop;l=m.documentElement.scrollTop;p=n.clientY+(l||o||0);}return p;}};i._define=function(m,n,e){function l(o){var p=(arguments.length)?o:e.call(this);delete m[n];Object.defineProperty(m,n,{value:p,configurable:true,writable:true});return p;}Object.defineProperty(m,n,{get:l,set:l,configurable:true});};if(a&&(!a.hasFeature("Events","2.0"))){if(b){try{Object.defineProperty(c.config.doc.createEventObject(),"z",{});}catch(g){b=false;}}c.DOMEventFacade=(b)?i:h;}},"3.4.0",{after:["event-base"],requires:["node-base"]});YUI.add("event-delegate",function(a){var c=a.Array,h=a.Lang,b=h.isString,i=h.isObject,e=h.isArray,g=a.Selector.test,d=a.Env.evt.handles;function f(u,w,l,k){var s=c(arguments,0,true),t=b(l)?l:null,r,o,j,n,v,m,q,x,p;if(i(u)){x=[];if(e(u)){for(m=0,q=u.length;m<q;++m){s[0]=u[m];x.push(a.delegate.apply(a,s));}}else{s.unshift(null);for(m in u){if(u.hasOwnProperty(m)){s[0]=m;s[1]=u[m];x.push(a.delegate.apply(a,s));}}}return new a.EventHandle(x);}r=u.split(/\|/);if(r.length>1){v=r.shift();s[0]=u=r.shift();}o=a.Node.DOM_EVENTS[u];if(i(o)&&o.delegate){p=o.delegate.apply(o,arguments);}if(!p){if(!u||!w||!l||!k){return;}j=(t)?a.Selector.query(t,null,true):l;if(!j&&b(l)){p=a.on("available",function(){a.mix(p,a.delegate.apply(a,s),true);},l);}if(!p&&j){s.splice(2,2,j);p=a.Event._attach(s,{facade:false});p.sub.filter=k;p.sub._notify=f.notifySub;}}if(p&&v){n=d[v]||(d[v]={});n=n[u]||(n[u]=[]);n.push(p);}return p;}f.notifySub=function(q,l,p){l=l.slice();if(this.args){l.push.apply(l,this.args);}var o=f._applyFilter(this.filter,l,p),n,m,j,k;if(o){o=c(o);n=l[0]=new a.DOMEventFacade(l[0],p.el,p);n.container=a.one(p.el);for(m=0,j=o.length;m<j&&!n.stopped;++m){n.currentTarget=a.one(o[m]);k=this.fn.apply(this.context||n.currentTarget,l);if(k===false){break;}}return k;}};f.compileFilter=a.cached(function(j){return function(l,k){return g(l._node,j,k.currentTarget._node);};});f._applyFilter=function(n,l,q){var p=l[0],j=q.el,o=p.target||p.srcElement,k=[],m=false;if(o.nodeType===3){o=o.parentNode;}l.unshift(o);if(b(n)){while(o){m=(o===j);if(g(o,n,(m?null:j))){k.push(o);}if(m){break;}o=o.parentNode;}}else{l[0]=a.one(o);l[1]=new a.DOMEventFacade(p,j,q);while(o){if(n.apply(l[0],l)){k.push(o);}if(o===j){break;}o=o.parentNode;l[0]=a.one(o);}l[1]=p;}if(k.length<=1){k=k[0];}l.shift();return k;};a.delegate=a.Event.delegate=f;},"3.4.0",{requires:["node-base"]});YUI.add("attribute-base",function(c){c.State=function(){this.data={};};c.State.prototype={add:function(B,C,E){var D=this.data;D[C]=D[C]||{};D[C][B]=E;},addAll:function(B,D){var C;for(C in D){if(D.hasOwnProperty(C)){this.add(B,C,D[C]);}}},remove:function(B,C){var D=this.data;if(D[C]&&(B in D[C])){delete D[C][B];}},removeAll:function(B,D){var C=this.data;c.each(D||C,function(F,E){if(c.Lang.isString(E)){this.remove(B,E);}else{this.remove(B,F);}},this);},get:function(B,C){var D=this.data;return(D[C]&&B in D[C])?D[C][B]:undefined;},getAll:function(B){var D=this.data,C;c.each(D,function(F,E){if(B in D[E]){C=C||{};C[E]=F[B];}},this);return C;}};var k=c.Object,f=c.Lang,l=c.EventTarget,w=".",t="Change",n="getter",m="setter",o="readOnly",x="writeOnce",u="initOnly",A="validator",h="value",p="valueFn",e="broadcast",r="lazyAdd",j="_bypassProxy",z="added",b="initializing",i="initValue",v="published",s="defaultValue",a="lazy",q="isLazyAdd",g,y={};y[o]=1;y[x]=1;y[n]=1;y[e]=1;function d(C,B,D){var E=this;E._ATTR_E_FACADE={};l.call(E,{emitFacade:true});E._conf=E._state=new c.State();E._stateProxy=E._stateProxy||null;E._requireAddAttr=E._requireAddAttr||false;this._initAttrs(C,B,D);}d.INVALID_VALUE={};g=d.INVALID_VALUE;d._ATTR_CFG=[m,n,A,h,p,x,o,r,e,j];d.prototype={addAttr:function(C,B,E){var F=this,H=F._state,G,D;E=(r in B)?B[r]:E;if(E&&!F.attrAdded(C)){H.add(C,a,B||{});H.add(C,z,true);}else{if(!F.attrAdded(C)||H.get(C,q)){B=B||{};D=(h in B);if(D){G=B.value;delete B.value;}B.added=true;B.initializing=true;H.addAll(C,B);if(D){F.set(C,G);}H.remove(C,b);}}return F;},attrAdded:function(B){return !!this._state.get(B,z);},modifyAttr:function(C,B){var D=this,F,E;if(D.attrAdded(C)){if(D._isLazyAttr(C)){D._addLazyAttr(C);}E=D._state;for(F in B){if(y[F]&&B.hasOwnProperty(F)){E.add(C,F,B[F]);if(F===e){E.remove(C,v);}}}}},removeAttr:function(B){this._state.removeAll(B);},get:function(B){return this._getAttr(B);},_isLazyAttr:function(B){return this._state.get(B,a);},_addLazyAttr:function(C){var D=this._state,B=D.get(C,a);D.add(C,q,true);D.remove(C,a);this.addAttr(C,B);},set:function(B,D,C){return this._setAttr(B,D,C);},reset:function(B){var D=this,C;if(B){if(D._isLazyAttr(B)){D._addLazyAttr(B);}D.set(B,D._state.get(B,i));}else{C=D._state.data.added;c.each(C,function(E,F){D.reset(F);},D);}return D;},_set:function(B,D,C){return this._setAttr(B,D,C,true);},_getAttr:function(D){var E=this,I=D,F=E._state,G,B,H,C;if(D.indexOf(w)!==-1){G=D.split(w);D=G.shift();}if(E._tCfgs&&E._tCfgs[D]){C={};C[D]=E._tCfgs[D];delete E._tCfgs[D];E._addAttrs(C,E._tVals);}if(E._isLazyAttr(D)){E._addLazyAttr(D);}H=E._getStateVal(D);B=F.get(D,n);if(B&&!B.call){B=this[B];}H=(B)?B.call(E,H,I):H;H=(G)?k.getValue(H,G):H;return H;},_setAttr:function(D,G,B,E){var K=true,C=this._state,H=this._stateProxy,M=C.data,J,N,O,F,I,L;if(D.indexOf(w)!==-1){N=D;O=D.split(w);D=O.shift();}if(this._isLazyAttr(D)){this._addLazyAttr(D);}J=(!M.value||!(D in M.value));if(H&&D in H&&!this._state.get(D,j)){J=false;}if(this._requireAddAttr&&!this.attrAdded(D)){}else{I=C.get(D,x);L=C.get(D,b);if(!J&&!E){if(I){K=false;}if(C.get(D,o)){K=false;}}if(!L&&!E&&I===u){K=false;}if(K){if(!J){F=this.get(D);}if(O){G=k.setValue(c.clone(F),O,G);if(G===undefined){K=false;}}if(K){if(L){this._setAttrVal(D,N,F,G);}else{this._fireAttrChange(D,N,F,G,B);}}}}return this;},_fireAttrChange:function(H,G,E,D,B){var J=this,F=H+t,C=J._state,I;if(!C.get(H,v)){J.publish(F,{queuable:false,defaultTargetOnly:true,defaultFn:J._defAttrChangeFn,silent:true,broadcast:C.get(H,e)});C.add(H,v,true);}I=(B)?c.merge(B):J._ATTR_E_FACADE;I.attrName=H;I.subAttrName=G;I.prevVal=E;I.newVal=D;J.fire(F,I);},_defAttrChangeFn:function(B){if(!this._setAttrVal(B.attrName,B.subAttrName,B.prevVal,B.newVal)){B.stopImmediatePropagation();}else{B.newVal=this.get(B.attrName);}},_getStateVal:function(B){var C=this._stateProxy;return C&&(B in C)&&!this._state.get(B,j)?C[B]:this._state.get(B,h);},_setStateVal:function(B,D){var C=this._stateProxy;if(C&&(B in C)&&!this._state.get(B,j)){C[B]=D;}else{this._state.add(B,h,D);}},_setAttrVal:function(M,L,I,G){var O=this,J=true,D=O._state,E=D.get(M,A),H=D.get(M,m),K=D.get(M,b),N=this._getStateVal(M),C=L||M,F,B;if(E){if(!E.call){E=this[E];}if(E){B=E.call(O,G,C);if(!B&&K){G=D.get(M,s);B=true;}}}if(!E||B){if(H){if(!H.call){H=this[H];}if(H){F=H.call(O,G,C);if(F===g){J=false;}else{if(F!==undefined){G=F;}}}}if(J){if(!L&&(G===N)&&!f.isObject(G)){J=false;}else{if(D.get(M,i)===undefined){D.add(M,i,G);}O._setStateVal(M,G);}}}else{J=false;}return J;},setAttrs:function(B,C){return this._setAttrs(B,C);},_setAttrs:function(C,D){for(var B in C){if(C.hasOwnProperty(B)){this.set(B,C[B]);}}return this;},getAttrs:function(B){return this._getAttrs(B);},_getAttrs:function(E){var G=this,I={},F,C,B,H,D=(E===true);E=(E&&!D)?E:k.keys(G._state.data.added);for(F=0,C=E.length;F<C;F++){B=E[F];H=G.get(B);if(!D||G._getStateVal(B)!=G._state.get(B,i)){I[B]=G.get(B);}}return I;},addAttrs:function(B,C,D){var E=this;if(B){E._tCfgs=B;E._tVals=E._normAttrVals(C);E._addAttrs(B,E._tVals,D);E._tCfgs=E._tVals=null;}return E;},_addAttrs:function(C,D,E){var G=this,B,F,H;for(B in C){if(C.hasOwnProperty(B)){F=C[B];F.defaultValue=F.value;H=G._getAttrInitVal(B,F,G._tVals);if(H!==undefined){F.value=H;}if(G._tCfgs[B]){delete G._tCfgs[B];}G.addAttr(B,F,E);}}},_protectAttrs:function(C){if(C){C=c.merge(C);for(var B in C){if(C.hasOwnProperty(B)){C[B]=c.merge(C[B]);}}}return C;},_normAttrVals:function(B){return(B)?c.merge(B):null;},_getAttrInitVal:function(B,C,E){var F,D;if(!C[o]&&E&&E.hasOwnProperty(B)){F=E[B];}else{F=C[h];D=C[p];if(D){if(!D.call){D=this[D];}if(D){F=D.call(this);}}}return F;},_getAttrCfg:function(B){var D,C=this._state.data;if(C){D={};c.each(C,function(E,F){if(B){if(B in E){D[F]=E[B];}}else{c.each(E,function(H,G){D[G]=D[G]||{};D[G][F]=H;});}});}return D;},_initAttrs:function(C,B,E){C=C||this.constructor.ATTRS;var D=c.Base;if(C&&!(D&&c.instanceOf(this,D))){this.addAttrs(this._protectAttrs(C),B,E);}}};c.mix(d,l,false,null,1);c.Attribute=d;},"3.4.0",{requires:["event-custom"]});YUI.add("attribute-complex",function(b){var a=b.Object,c=".";b.Attribute.Complex=function(){};b.Attribute.Complex.prototype={_normAttrVals:function(g){var i={},h={},j,d,f,e;if(g){for(e in g){if(g.hasOwnProperty(e)){if(e.indexOf(c)!==-1){j=e.split(c);d=j.shift();f=h[d]=h[d]||[];f[f.length]={path:j,value:g[e]};}else{i[e]=g[e];}}}return{simple:i,complex:h};}else{return null;}},_getAttrInitVal:function(m,j,p){var e=j.value,o=j.valueFn,d,f,h,g,q,n,k;if(o){if(!o.call){o=this[o];}if(o){e=o.call(this);}}if(!j.readOnly&&p){d=p.simple;if(d&&d.hasOwnProperty(m)){e=d[m];}f=p.complex;if(f&&f.hasOwnProperty(m)){k=f[m];for(h=0,g=k.length;h<g;++h){q=k[h].path;n=k[h].value;a.setValue(e,q,n);}}}return e;}};b.mix(b.Attribute,b.Attribute.Complex,true,null,1);},"3.4.0",{requires:["attribute-base"]});YUI.add("attribute",function(a){},"3.4.0",{use:["attribute-base","attribute-complex"]});YUI.add("base-base",function(d){var g=d.Object,h=d.Lang,o=".",q="destroy",b="init",r="initialized",m="destroyed",n="initializer",j="bubbleTargets",e="_bubbleTargets",a=Object.prototype.constructor,c="deep",p="shallow",k="destructor",f=d.Attribute,l=function(v,u,t){var w;for(w in u){if(t[w]){v[w]=u[w];}}return v;};function i(){d.stamp(this);f.call(this);var s=d.Plugin&&d.Plugin.Host;if(this._initPlugins&&s){s.call(this);}if(this._lazyAddAttrs!==false){this._lazyAddAttrs=true;}this.name=this.constructor.NAME;this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME;this.init.apply(this,arguments);}i._ATTR_CFG=f._ATTR_CFG.concat("cloneDefaultValue");i._ATTR_CFG_HASH=d.Array.hash(i._ATTR_CFG);i.NAME="base";i.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};i.prototype={init:function(s){this._yuievt.config.prefix=this._eventPrefix;this.publish(b,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defInitFn});this._preInitEventCfg(s);this.fire(b,{cfg:s});return this;},_preInitEventCfg:function(t){if(t){if(t.on){this.on(t.on);}if(t.after){this.after(t.after);}}var u,s,w,v=(t&&j in t);if(v||e in this){w=v?(t&&t.bubbleTargets):this._bubbleTargets;if(h.isArray(w)){for(u=0,s=w.length;u<s;u++){this.addTarget(w[u]);}}else{if(w){this.addTarget(w);}}}},destroy:function(){this.publish(q,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defDestroyFn});this.fire(q);this.detachAll();return this;},_defInitFn:function(s){this._initHierarchy(s.cfg);if(this._initPlugins){this._initPlugins(s.cfg);}this._set(r,true);},_defDestroyFn:function(s){if(this._destroyPlugins){this._destroyPlugins();}this._destroyHierarchy();this._set(m,true);},_getClasses:function(){if(!this._classes){this._initHierarchyData();}return this._classes;},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData();}return this._attrs;},_filterAttrCfgs:function(w,t){var u=null,s,v=w.ATTRS;if(v){for(s in v){if(t[s]){u=u||{};u[s]=t[s];t[s]=null;}}}return u;},_initHierarchyData:function(){var u=this.constructor,t=[],s=[];while(u){t[t.length]=u;if(u.ATTRS){s[s.length]=u.ATTRS;}u=u.superclass?u.superclass.constructor:null;}this._classes=t;this._attrs=this._aggregateAttrs(s);},_aggregateAttrs:function(z){var v,A,u,s,B,t,y,x=i._ATTR_CFG_HASH,w={};if(z){for(t=z.length-1;t>=0;--t){A=z[t];for(v in A){if(A.hasOwnProperty(v)){u=l({},A[v],x);s=u.value;y=u.cloneDefaultValue;if(s){if((y===undefined&&(a===s.constructor||h.isArray(s)))||y===c||y===true){u.value=d.clone(s);}else{if(y===p){u.value=d.merge(s);}}}B=null;if(v.indexOf(o)!==-1){B=v.split(o);v=B.shift();}if(B&&w[v]&&w[v].value){g.setValue(w[v].value,B,s);}else{if(!B){if(!w[v]){w[v]=u;}else{l(w[v],u,x);}}}}}}}return w;},_initHierarchy:function(y){var u=this._lazyAddAttrs,z,A,C,w,t,B,x,v=this._getClasses(),s=this._getAttrCfgs();for(C=v.length-1;C>=0;C--){z=v[C];A=z.prototype;x=z._yuibuild&&z._yuibuild.exts;if(x){for(w=0,t=x.length;w<t;w++){x[w].apply(this,arguments);}}this.addAttrs(this._filterAttrCfgs(z,s),y,u);if(A.hasOwnProperty(n)){A.initializer.apply(this,arguments);}if(x){for(w=0;w<t;w++){B=x[w].prototype;if(B.hasOwnProperty(n)){B.initializer.apply(this,arguments);}}}}},_destroyHierarchy:function(){var w,x,A,y,u,s,v,z,t=this._getClasses();for(A=0,y=t.length;A<y;A++){w=t[A];x=w.prototype;v=w._yuibuild&&w._yuibuild.exts;if(v){for(u=0,s=v.length;u<s;u++){z=v[u].prototype;if(z.hasOwnProperty(k)){z.destructor.apply(this,arguments);}}}if(x.hasOwnProperty(k)){x.destructor.apply(this,arguments);}}},toString:function(){return this.name+"["+d.stamp(this,true)+"]";}};d.mix(i,f,false,null,1);i.prototype.constructor=i;d.Base=i;},"3.4.0",{requires:["attribute-base"]});YUI.add("pluginhost-base",function(c){var a=c.Lang;function b(){this._plugins={};}b.prototype={plug:function(g,d){var e,h,f;if(a.isArray(g)){for(e=0,h=g.length;e<h;e++){this.plug(g[e]);}}else{if(g&&!a.isFunction(g)){d=g.cfg;g=g.fn;}if(g&&g.NS){f=g.NS;d=d||{};d.host=this;if(this.hasPlugin(f)){this[f].setAttrs(d);}else{this[f]=new g(d);this._plugins[f]=g;}}}return this;},unplug:function(f){var e=f,d=this._plugins;if(f){if(a.isFunction(f)){e=f.NS;if(e&&(!d[e]||d[e]!==f)){e=null;}}if(e){if(this[e]){this[e].destroy();delete this[e];}if(d[e]){delete d[e];}}}else{for(e in this._plugins){if(this._plugins.hasOwnProperty(e)){this.unplug(e);}}}return this;},hasPlugin:function(d){return(this._plugins[d]&&this[d]);},_initPlugins:function(d){this._plugins=this._plugins||{};if(this._initConfigPlugins){this._initConfigPlugins(d);}},_destroyPlugins:function(){this.unplug();}};c.namespace("Plugin").Host=b;},"3.4.0",{requires:["yui-base"]});YUI.add("pluginhost-config",function(c){var b=c.Plugin.Host,a=c.Lang;b.prototype._initConfigPlugins=function(e){var g=(this._getClasses)?this._getClasses():[this.constructor],d=[],h={},f,j,l,m,k;for(j=g.length-1;j>=0;j--){f=g[j];m=f._UNPLUG;if(m){c.mix(h,m,true);}l=f._PLUG;if(l){c.mix(d,l,true);}}for(k in d){if(d.hasOwnProperty(k)){if(!h[k]){this.plug(d[k]);}}}if(e&&e.plugins){this.plug(e.plugins);}};b.plug=function(e,j,g){var k,h,d,f;if(e!==c.Base){e._PLUG=e._PLUG||{};if(!a.isArray(j)){if(g){j={fn:j,cfg:g};}j=[j];}for(h=0,d=j.length;h<d;h++){k=j[h];f=k.NAME||k.fn.NAME;e._PLUG[f]=k;}}};b.unplug=function(e,h){var j,g,d,f;if(e!==c.Base){e._UNPLUG=e._UNPLUG||{};if(!a.isArray(h)){h=[h];}for(g=0,d=h.length;g<d;g++){j=h[g];f=j.NAME;if(!e._PLUG[f]){e._UNPLUG[f]=j;}else{delete e._PLUG[f];}}}};},"3.4.0",{requires:["pluginhost-base"]});YUI.add("pluginhost",function(a){},"3.4.0",{use:["pluginhost-base","pluginhost-config"]});YUI.add("node-base",function(f){var b="tagName";var e=["hasClass","addClass","removeClass","replaceClass","toggleClass"];f.Node.importMethod(f.DOM,e);f.NodeList.importMethod(f.Node.prototype,e);var d=f.Node,c=f.DOM;d.create=function(g,h){if(h&&h._node){h=h._node;}return f.one(c.create(g,h));};f.mix(d.prototype,{create:d.create,insert:function(h,g){this._insert(h,g);return this;},_insert:function(j,h){var i=this._node,g=null;if(typeof h=="number"){h=this._node.childNodes[h];}else{if(h&&h._node){h=h._node;}}if(j&&typeof j!="string"){j=j._node||j._nodes||j;}g=c.addHTML(i,j,h);return g;},prepend:function(g){return this.insert(g,0);},append:function(g){return this.insert(g,null);},appendChild:function(g){return d.scrubVal(this._insert(g));},insertBefore:function(h,g){return f.Node.scrubVal(this._insert(h,g));},appendTo:function(g){f.one(g).append(this);return this;},setContent:function(g){this._insert(g,"replace");return this;},getContent:function(g){return this.get("innerHTML");}});f.NodeList.importMethod(f.Node.prototype,["append","insert","appendChild","insertBefore","prepend","setContent","getContent"]);var d=f.Node,c=f.DOM;d.ATTRS={text:{getter:function(){return c.getText(this._node);},setter:function(g){c.setText(this._node,g);return g;}},"for":{getter:function(){return c.getAttribute(this._node,"for");},setter:function(g){c.setAttribute(this._node,"for",g);return g;}},options:{getter:function(){return this._node.getElementsByTagName("option");}},children:{getter:function(){var k=this._node,j=k.children,l,h,g;if(!j){l=k.childNodes;j=[];for(h=0,g=l.length;h<g;++h){if(l[h][b]){j[j.length]=l[h];}}}return f.all(j);}},value:{getter:function(){return c.getValue(this._node);},setter:function(g){c.setValue(this._node,g);return g;}}};f.Node.importMethod(f.DOM,["setAttribute","getAttribute"]);var d=f.Node;var a=f.NodeList;d.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};f.mix(d.DOM_EVENTS,f.Env.evt.plugins);f.augment(d,f.EventTarget);f.mix(d.prototype,{purge:function(h,g){f.Event.purgeElement(this._node,h,g);return this;}});f.mix(f.NodeList.prototype,{_prepEvtArgs:function(j,i,h){var g=f.Array(arguments,0,true);if(g.length<2){g[2]=this._nodes;}else{g.splice(2,0,this._nodes);}g[3]=h||this;return g;},on:function(i,h,g){return f.on.apply(f,this._prepEvtArgs.apply(this,arguments));},once:function(i,h,g){return f.once.apply(f,this._prepEvtArgs.apply(this,arguments));},after:function(i,h,g){return f.after.apply(f,this._prepEvtArgs.apply(this,arguments));},onceAfter:function(i,h,g){return f.onceAfter.apply(f,this._prepEvtArgs.apply(this,arguments));}});a.importMethod(f.Node.prototype,["detach","detachAll"]);f.mix(f.Node.ATTRS,{offsetHeight:{setter:function(g){f.DOM.setHeight(this._node,g);return g;},getter:function(){return this._node.offsetHeight;}},offsetWidth:{setter:function(g){f.DOM.setWidth(this._node,g);return g;},getter:function(){return this._node.offsetWidth;}}});f.mix(f.Node.prototype,{sizeTo:function(g,i){var j;if(arguments.length<2){j=f.one(g);g=j.get("offsetWidth");i=j.get("offsetHeight");}this.setAttrs({offsetWidth:g,offsetHeight:i});}});var d=f.Node;f.mix(d.prototype,{show:function(g){g=arguments[arguments.length-1];this.toggleView(true,g);return this;},_show:function(){this.setStyle("display","");},_isHidden:function(){return f.DOM.getStyle(this._node,"display")==="none";},toggleView:function(g,h){this._toggleView.apply(this,arguments);},_toggleView:function(g,h){h=arguments[arguments.length-1];if(typeof g!="boolean"){g=(this._isHidden())?1:0;}if(g){this._show();}else{this._hide();}if(typeof h=="function"){h.call(this);}return this;},hide:function(g){g=arguments[arguments.length-1];this.toggleView(false,g);return this;},_hide:function(){this.setStyle("display","none");}});f.NodeList.importMethod(f.Node.prototype,["show","hide","toggleView"]);if(!f.config.doc.documentElement.hasAttribute){f.Node.prototype.hasAttribute=function(g){if(g==="value"){if(this.get("value")!==""){return true;}}return !!(this._node.attributes[g]&&this._node.attributes[g].specified);};}f.Node.prototype.focus=function(){try{this._node.focus();}catch(g){}return this;};f.Node.ATTRS.type={setter:function(h){if(h==="hidden"){try{this._node.type="hidden";}catch(g){this.setStyle("display","none");this._inputType="hidden";}}else{try{this._node.type=h;}catch(g){}}return h;},getter:function(){return this._inputType||this._node.type;},_bypassProxy:true};if(f.config.doc.createElement("form").elements.nodeType){f.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select");}};}},"3.4.0",{requires:["dom-base","node-core","event-base"]});YUI.add("node-style",function(a){(function(c){var b=["getStyle","getComputedStyle","setStyle","setStyles"];c.Node.importMethod(c.DOM,b);c.NodeList.importMethod(c.Node.prototype,b);})(a);},"3.4.0",{requires:["dom-style","node-base"]});YUI.add("node-screen",function(a){a.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(b){a.Node.ATTRS[b]={getter:function(){var c=Array.prototype.slice.call(arguments);c.unshift(a.Node.getDOMNode(this));return a.DOM[b].apply(this,c);}};});a.Node.ATTRS.scrollLeft={getter:function(){var b=a.Node.getDOMNode(this);return("scrollLeft" in b)?b.scrollLeft:a.DOM.docScrollX(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollLeft" in b){b.scrollLeft=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(c,a.DOM.docScrollY(b));}}}else{}}};a.Node.ATTRS.scrollTop={getter:function(){var b=a.Node.getDOMNode(this);return("scrollTop" in b)?b.scrollTop:a.DOM.docScrollY(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollTop" in b){b.scrollTop=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(a.DOM.docScrollX(b),c);}}}else{}}};a.Node.importMethod(a.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]);a.Node.ATTRS.region={getter:function(){var b=this.getDOMNode(),c;if(b&&!b.tagName){if(b.nodeType===9){b=b.documentElement;}}if(a.DOM.isWindow(b)){c=a.DOM.viewportRegion(b);}else{c=a.DOM.region(b);}return c;}};a.Node.ATTRS.viewportRegion={getter:function(){return a.DOM.viewportRegion(a.Node.getDOMNode(this));}};a.Node.importMethod(a.DOM,"inViewportRegion");a.Node.prototype.intersect=function(b,d){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.intersect(c,b,d);};a.Node.prototype.inRegion=function(b,d,e){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.inRegion(c,b,d,e);};},"3.4.0",{requires:["node-base","dom-screen"]});YUI.add("node-pluginhost",function(a){a.Node.plug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.plug.apply(a.Base,b);return a.Node;};a.Node.unplug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.unplug.apply(a.Base,b);return a.Node;};a.mix(a.Node,a.Plugin.Host,false,null,1);a.NodeList.prototype.plug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.plug.apply(a.one(c),b);});};a.NodeList.prototype.unplug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.unplug.apply(a.one(c),b);});};},"3.4.0",{requires:["node-base","pluginhost"]});YUI.add("node-event-delegate",function(a){a.Node.prototype.delegate=function(d){var c=a.Array(arguments,0,true),b=(a.Lang.isObject(d)&&!a.Lang.isArray(d))?1:2;c.splice(b,0,this._node);return a.delegate.apply(a,c);};},"3.4.0",{requires:["node-base","event-delegate"]});YUI.add("node",function(a){},"3.4.0",{skinnable:false,use:["node-base","node-style","node-screen","node-pluginhost","node-event-delegate"]});YUI.add("node-deprecated",function(b){var a=b.Node;a.ATTRS.data={getter:function(){return this._dataVal;},setter:function(c){this._dataVal=c;return c;},value:null};b.get=a.get=function(){return a.one.apply(a,arguments);};b.mix(a.prototype,{query:function(c){return this.one(c);},queryAll:function(c){return this.all(c);},each:function(d,c){c=c||this;return d.call(c,this);},item:function(c){return this;},size:function(){return this._node?1:0;}});},"3.4.0",{requires:["node-base"]});YUI.add("json-parse",function(Y){function fromGlobal(ref){return(Y.config.win||this||{})[ref];}var _JSON=fromGlobal("JSON"),Native=(Object.prototype.toString.call(_JSON)==="[object JSON]"&&_JSON),useNative=!!Native,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_UNSAFE=/[^\],:{}\s]/,_escapeException=function(c){return"\\u"+("0000"+(+(c.charCodeAt(0))).toString(16)).slice(-4);},_revive=function(data,reviver){var walk=function(o,key){var k,v,value=o[key];if(value&&typeof value==="object"){for(k in value){if(value.hasOwnProperty(k)){v=walk(value,k);if(v===undefined){delete value[k];}else{value[k]=v;}}}}return reviver.call(o,key,value);};return typeof reviver==="function"?walk({"":data},""):data;},_parse=function(s,reviver){s=s.replace(_UNICODE_EXCEPTIONS,_escapeException);if(!_UNSAFE.test(s.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""))){return _revive(eval("("+s+")"),reviver);}throw new SyntaxError("JSON.parse");};Y.namespace("JSON").parse=function(s,reviver){if(typeof s!=="string"){s+="";}return Native&&Y.JSON.useNativeParse?Native.parse(s,reviver):_parse(s,reviver);};function workingNative(k,v){return k==="ok"?true:v;}if(Native){try{useNative=(Native.parse('{"ok":false}',workingNative)).ok;}catch(e){useNative=false;}}Y.JSON.useNativeParse=useNative;},"3.4.0");YUI.add("json-stringify",function(b){var j=(b.config.win||{}).JSON,N=b.Lang,p=N.isFunction,I=N.isObject,v=N.isArray,k=Object.prototype.toString,C=(k.call(j)==="[object JSON]"&&j),F=!!C,D="undefined",r="object",A="null",L="string",B="number",x="boolean",l="date",E={"undefined":D,string:L,"[object String]":L,number:B,"[object Number]":B,"boolean":x,"[object Boolean]":x,"[object Date]":l,"[object RegExp]":r},g="",q="{",a="}",y="[",i="]",s=",",c=",\n",m="\n",G=":",h=": ",u='"',d=/[\x00-\x07\x0b\x0e-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n=[[/\\/g,"\\\\"],[/\"/g,'\\"'],[/\x08/g,"\\b"],[/\x09/g,"\\t"],[/\x0a/g,"\\n"],[/\x0c/g,"\\f"],[/\x0d/g,"\\r"]],t=n.length,f={},o,H;function O(P){var e=typeof P;return E[e]||E[k.call(P)]||(e===r?(P?r:A):D);}function K(e){if(!f[e]){f[e]="\\u"+("0000"+(+(e.charCodeAt(0))).toString(16)).slice(-4);o[e]=0;}if(++o[e]===H){n.push([new RegExp(e,"g"),f[e]]);t=n.length;}return f[e];}function w(Q){var e,P;for(e=0;e<t;e++){P=n[e];Q=Q.replace(P[0],P[1]);}return u+Q.replace(d,K)+u;}function z(e,P){return e.replace(/^/gm,P);}function J(P,X,e){if(P===undefined){return undefined;}var R=p(X)?X:null,W=k.call(e).match(/String|Number/)||[],Y=b.JSON.dateToString,V=[],T,S,U;o={};H=b.JSON.charCacheThreshold;if(R||!v(X)){X=undefined;}if(X){T={};for(S=0,U=X.length;S<U;++S){T[X[S]]=true;}X=T;}e=W[0]==="Number"?new Array(Math.min(Math.max(0,e),10)+1).join(" "):(e||g).slice(0,10);function Q(ab,ah){var af=ab[ah],aj=O(af),ae=[],ad=e?h:G,ac,aa,ai,Z,ag;if(I(af)&&p(af.toJSON)){af=af.toJSON(ah);}else{if(aj===l){af=Y(af);}}if(p(R)){af=R.call(ab,ah,af);}if(af!==ab[ah]){aj=O(af);}switch(aj){case l:case r:break;case L:return w(af);case B:return isFinite(af)?af+g:A;case x:return af+g;case A:return A;default:return undefined;}for(aa=V.length-1;aa>=0;--aa){if(V[aa]===af){throw new Error("JSON.stringify. Cyclical reference");}}ac=v(af);V.push(af);if(ac){for(aa=af.length-1;aa>=0;--aa){ae[aa]=Q(af,aa)||A;}}else{ai=X||af;aa=0;for(Z in ai){if(ai.hasOwnProperty(Z)){ag=Q(af,Z);if(ag){ae[aa++]=w(Z)+ad+ag;}}}}V.pop();if(e&&ae.length){return ac?y+m+z(ae.join(c),e)+m+i:q+m+z(ae.join(c),e)+m+a;}else{return ac?y+ae.join(s)+i:q+ae.join(s)+a;}}return Q({"":P},"");}if(C){try{F=("0"===C.stringify(0));}catch(M){F=false;}}b.mix(b.namespace("JSON"),{useNativeStringify:F,dateToString:function(P){function e(Q){return Q<10?"0"+Q:Q;}return P.getUTCFullYear()+"-"+e(P.getUTCMonth()+1)+"-"+e(P.getUTCDate())+"T"+e(P.getUTCHours())+G+e(P.getUTCMinutes())+G+e(P.getUTCSeconds())+"Z";},stringify:function(Q,e,P){return C&&b.JSON.useNativeStringify?C.stringify(Q,e,P):J(Q,e,P);},charCacheThreshold:100});},"3.4.0");YUI.add("json",function(a){},"3.4.0",{use:["json-parse","json-stringify"]});YUI.add("anim-base",function(b){var c="running",n="startTime",l="elapsedTime",j="start",i="tween",m="end",d="node",k="paused",o="reverse",h="iterationCount",a=Number;var f={},e;b.Anim=function(){b.Anim.superclass.constructor.apply(this,arguments);b.Anim._instances[b.stamp(this)]=this;};b.Anim.NAME="anim";b.Anim._instances={};b.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;b.Anim.DEFAULT_UNIT="px";b.Anim.DEFAULT_EASING=function(q,p,s,r){return s*q/r+p;};b.Anim._intervalTime=20;b.Anim.behaviors={left:{get:function(q,p){return q._getOffset(p);}}};b.Anim.behaviors.top=b.Anim.behaviors.left;b.Anim.DEFAULT_SETTER=function(s,t,v,w,y,r,u,x){var q=s._node,p=u(y,a(v),a(w)-a(v),r);if(t in q._node.style||t in b.DOM.CUSTOM_STYLES){x=x||"";q.setStyle(t,p+x);}else{if(q._node.attributes[t]){q.setAttribute(t,p);}else{q.set(t,p);}}};b.Anim.DEFAULT_GETTER=function(r,p){var q=r._node,s="";if(p in q._node.style||p in b.DOM.CUSTOM_STYLES){s=q.getComputedStyle(p);}else{if(q._node.attributes[p]){s=q.getAttribute(p);}else{s=q.get(p);}}return s;};b.Anim.ATTRS={node:{setter:function(p){if(p){if(typeof p=="string"||p.nodeType){p=b.one(p);}}this._node=p;if(!p){}return p;}},duration:{value:1},easing:{value:b.Anim.DEFAULT_EASING,setter:function(p){if(typeof p==="string"&&b.Easing){return b.Easing[p];}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return !!f[b.stamp(this)];},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};b.Anim.run=function(){var q=b.Anim._instances;for(var p in q){if(q[p].run){q[p].run();}}};b.Anim.pause=function(){for(var p in f){if(f[p].pause){f[p].pause();}}b.Anim._stopTimer();};b.Anim.stop=function(){for(var p in f){if(f[p].stop){f[p].stop();}}b.Anim._stopTimer();};b.Anim._startTimer=function(){if(!e){e=setInterval(b.Anim._runFrame,b.Anim._intervalTime);}};b.Anim._stopTimer=function(){clearInterval(e);e=0;};b.Anim._runFrame=function(){var p=true;for(var q in f){if(f[q]._runFrame){p=false;f[q]._runFrame();}}if(p){b.Anim._stopTimer();}};b.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var g={run:function(){if(this.get(k)){this._resume();}else{if(!this.get(c)){this._start();}}return this;},pause:function(){if(this.get(c)){this._pause();}return this;},stop:function(p){if(this.get(c)||this.get(k)){this._end(p);}return this;},_added:false,_start:function(){this._set(n,new Date()-this.get(l));this._actualFrames=0;if(!this.get(k)){this._initAnimAttr();}f[b.stamp(this)]=this;b.Anim._startTimer();this.fire(j);},_pause:function(){this._set(n,null);this._set(k,true);delete f[b.stamp(this)];this.fire("pause");},_resume:function(){this._set(k,false);f[b.stamp(this)]=this;this._set(n,new Date()-this.get(l));b.Anim._startTimer();this.fire("resume");},_end:function(p){var q=this.get("duration")*1000;if(p){this._runAttrs(q,q,this.get(o));}this._set(n,null);this._set(l,0);this._set(k,false);delete f[b.stamp(this)];this.fire(m,{elapsed:this.get(l)});},_runFrame:function(){var u=this._runtimeAttr.duration,r=new Date()-this.get(n),q=this.get(o),p=(r>=u),s,v;this._runAttrs(r,u,q);this._actualFrames+=1;this._set(l,r);this.fire(i);if(p){this._lastFrame();}},_runAttrs:function(A,z,w){var x=this._runtimeAttr,r=b.Anim.behaviors,y=x.easing,p=z,u=false,q,s,v;if(A>=z){u=true;}if(w){A=z-A;p=0;}for(v in x){if(x[v].to){q=x[v];s=(v in r&&"set" in r[v])?r[v].set:b.Anim.DEFAULT_SETTER;if(!u){s(this,v,q.from,q.to,A,z,y,q.unit);}else{s(this,v,q.from,q.to,p,z,y,q.unit);}}}},_lastFrame:function(){var p=this.get("iterations"),q=this.get(h);q+=1;if(p==="infinite"||q<p){if(this.get("direction")==="alternate"){this.set(o,!this.get(o));}this.fire("iteration");}else{q=0;this._end();}this._set(n,new Date());this._set(h,q);},_initAnimAttr:function(){var w=this.get("from")||{},v=this.get("to")||{},p={duration:this.get("duration")*1000,easing:this.get("easing")},r=b.Anim.behaviors,u=this.get(d),t,s,q;b.each(v,function(A,y){if(typeof A==="function"){A=A.call(this,u);}s=w[y];if(s===undefined){s=(y in r&&"get" in r[y])?r[y].get(this,y):b.Anim.DEFAULT_GETTER(this,y);}else{if(typeof s==="function"){s=s.call(this,u);}}var x=b.Anim.RE_UNITS.exec(s);var z=b.Anim.RE_UNITS.exec(A);s=x?x[1]:s;q=z?z[1]:A;t=z?z[2]:x?x[2]:"";if(!t&&b.Anim.RE_DEFAULT_UNIT.test(y)){t=b.Anim.DEFAULT_UNIT;}if(!s||!q){b.error('invalid "from" or "to" for "'+y+'"',"Anim");return;}p[y]={from:s,to:q,unit:t};},this);this._runtimeAttr=p;},_getOffset:function(q){var s=this._node,t=s.getComputedStyle(q),r=(q==="left")?"getX":"getY",u=(q==="left")?"setX":"setY";if(t==="auto"){var p=s.getStyle("position");if(p==="absolute"||p==="fixed"){t=s[r]();s[u](t);}else{t=0;}}return t;},destructor:function(){delete b.Anim._instances[b.stamp(this)];}};b.extend(b.Anim,b.Base,g);},"3.4.0",{requires:["base-base","node-style"]});YUI.add("anim-easing",function(b){var a={easeNone:function(f,e,h,g){return h*f/g+e;},easeIn:function(f,e,h,g){return h*(f/=g)*f+e;},easeOut:function(f,e,h,g){return -h*(f/=g)*(f-2)+e;},easeBoth:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f+e;}return -h/2*((--f)*(f-2)-1)+e;},easeInStrong:function(f,e,h,g){return h*(f/=g)*f*f*f+e;},easeOutStrong:function(f,e,h,g){return -h*((f=f/g-1)*f*f*f-1)+e;},easeBothStrong:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+e;}return -h/2*((f-=2)*f*f*f-2)+e;},elasticIn:function(g,e,k,j,f,i){var h;if(g===0){return e;}if((g/=j)===1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;h=i/4;}else{h=i/(2*Math.PI)*Math.asin(k/f);}return -(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;},elasticOut:function(g,e,k,j,f,i){var h;if(g===0){return e;}if((g/=j)===1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;h=i/4;}else{h=i/(2*Math.PI)*Math.asin(k/f);}return f*Math.pow(2,-10*g)*Math.sin((g*j-h)*(2*Math.PI)/i)+k+e;},elasticBoth:function(g,e,k,j,f,i){var h;if(g===0){return e;}if((g/=j/2)===2){return e+k;}if(!i){i=j*(0.3*1.5);}if(!f||f<Math.abs(k)){f=k;h=i/4;}else{h=i/(2*Math.PI)*Math.asin(k/f);}if(g<1){return -0.5*(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;}return f*Math.pow(2,-10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i)*0.5+k+e;},backIn:function(f,e,i,h,g){if(g===undefined){g=1.70158;}if(f===h){f-=0.001;}return i*(f/=h)*f*((g+1)*f-g)+e;},backOut:function(f,e,i,h,g){if(typeof g==="undefined"){g=1.70158;}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+e;},backBoth:function(f,e,i,h,g){if(typeof g==="undefined"){g=1.70158;}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+e;}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+e;},bounceIn:function(f,e,h,g){return h-b.Easing.bounceOut(g-f,0,h,g)+e;},bounceOut:function(f,e,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+e;}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+e;}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+e;}}}return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+e;},bounceBoth:function(f,e,h,g){if(f<g/2){return b.Easing.bounceIn(f*2,0,h,g)*0.5+e;}return b.Easing.bounceOut(f*2-g,0,h,g)*0.5+h*0.5+e;}};b.Easing=a;},"3.4.0",{requires:["anim-base"]});YUI.add("anim-node-plugin",function(b){var a=function(c){c=(c)?b.merge(c):{};c.node=c.host;a.superclass.constructor.apply(this,arguments);};a.NAME="nodefx";a.NS="fx";b.extend(a,b.Anim);b.namespace("Plugin");b.Plugin.NodeFX=a;},"3.4.0",{requires:["node-pluginhost","anim-base"]});YUI.add("cookie",function(c){var k=c.Lang,i=c.Object,g=null,d=k.isString,n=k.isObject,f=k.isUndefined,e=k.isFunction,h=encodeURIComponent,b=decodeURIComponent,m=c.config.doc;function j(o){throw new TypeError(o);}function l(o){if(!d(o)||o===""){j("Cookie name must be a non-empty string.");}}function a(o){if(!d(o)||o===""){j("Subcookie name must be a non-empty string.");}}c.Cookie={_createCookieString:function(q,t,r,p){p=p||{};var v=h(q)+"="+(r?h(t):t),o=p.expires,u=p.path,s=p.domain;if(n(p)){if(o instanceof Date){v+="; expires="+o.toUTCString();}if(d(u)&&u!==""){v+="; path="+u;}if(d(s)&&s!==""){v+="; domain="+s;}if(p.secure===true){v+="; secure";}}return v;},_createCookieHashString:function(o){if(!n(o)){j("Cookie._createCookieHashString(): Argument must be an object.");}var p=[];i.each(o,function(r,q){if(!e(r)&&!f(r)){p.push(h(q)+"="+h(String(r)));}});return p.join("&");},_parseCookieHash:function(s){var r=s.split("&"),t=g,q={};if(s.length){for(var p=0,o=r.length;p<o;p++){t=r[p].split("=");q[b(t[0])]=b(t[1]);}}return q;},_parseCookieString:function(w,y){var x={};if(d(w)&&w.length>0){var o=(y===false?function(z){return z;}:b),u=w.split(/;\s/g),v=g,p=g,r=g;for(var q=0,s=u.length;q<s;q++){r=u[q].match(/([^=]+)=/i);if(r instanceof Array){try{v=b(r[1]);p=o(u[q].substring(r[1].length+1));}catch(t){}}else{v=b(u[q]);p="";}x[v]=p;}}return x;},_setDoc:function(o){m=o;},exists:function(o){l(o);var p=this._parseCookieString(m.cookie,true);return p.hasOwnProperty(o);},get:function(p,o){l(p);var s,q,r;if(e(o)){r=o;o={};}else{if(n(o)){r=o.converter;}else{o={};}}s=this._parseCookieString(m.cookie,!o.raw);q=s[p];if(f(q)){return g;}if(!e(r)){return q;}else{return r(q);}},getSub:function(o,q,p){var r=this.getSubs(o);if(r!==g){a(q);if(f(r[q])){return g;}if(!e(p)){return r[q];}else{return p(r[q]);}}else{return g;}},getSubs:function(o){l(o);var p=this._parseCookieString(m.cookie,false);if(d(p[o])){return this._parseCookieHash(p[o]);}return g;},remove:function(p,o){l(p);o=c.merge(o||{},{expires:new Date(0)});return this.set(p,"",o);},removeSub:function(p,s,o){l(p);a(s);o=o||{};var r=this.getSubs(p);if(n(r)&&r.hasOwnProperty(s)){delete r[s];if(!o.removeIfEmpty){return this.setSubs(p,r,o);}else{for(var q in r){if(r.hasOwnProperty(q)&&!e(r[q])&&!f(r[q])){return this.setSubs(p,r,o);}}return this.remove(p,o);}}else{return"";}},set:function(p,q,o){l(p);if(f(q)){j("Cookie.set(): Value cannot be undefined.");}o=o||{};var r=this._createCookieString(p,q,!o.raw,o);m.cookie=r;return r;},setSub:function(p,r,q,o){l(p);a(r);if(f(q)){j("Cookie.setSub(): Subcookie value cannot be undefined.");}var s=this.getSubs(p);if(!n(s)){s={};}s[r]=q;return this.setSubs(p,s,o);},setSubs:function(p,q,o){l(p);if(!n(q)){j("Cookie.setSubs(): Cookie value must be an object.");}var r=this._createCookieString(p,this._createCookieHashString(q),false,o);m.cookie=r;return r;}};},"3.4.0",{requires:["yui-base"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("features",function(b){var c={};b.mix(b.namespace("Features"),{tests:c,add:function(d,e,f){c[d]=c[d]||{};c[d][e]=f;},all:function(e,f){var g=c[e],d=[];if(g){b.Object.each(g,function(i,h){d.push(h+":"+(b.Features.test(e,h,f)?1:0));});}return(d.length)?d.join(";"):"";},test:function(e,g,f){f=f||[];var d,i,k,j=c[e],h=j&&j[g];if(!h){}else{d=h.result;if(b.Lang.isUndefined(d)){i=h.ua;if(i){d=(b.UA[i]);}k=h.test;if(k&&((!i)||d)){d=k.apply(b,f);}h.result=d;}}return d;}});var a=b.Features.add;a("load","0",{name:"graphics-canvas-default",test:function(f){var e=f.config.doc,d=e&&e.createElement("canvas");return(e&&!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(d&&d.getContext&&d.getContext("2d")));},trigger:"graphics"});a("load","1",{name:"autocomplete-list-keys",test:function(d){return !(d.UA.ios||d.UA.android);},trigger:"autocomplete-list"});a("load","2",{name:"graphics-svg",test:function(e){var d=e.config.doc;return(d&&d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));},trigger:"graphics"});a("load","3",{name:"history-hash-ie",test:function(e){var d=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange" in e.config.win)||!d||d<8);},trigger:"history-hash"});a("load","4",{name:"graphics-vml-default",test:function(f){var e=f.config.doc,d=e&&e.createElement("canvas");return(e&&!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!d||!d.getContext||!d.getContext("2d")));},trigger:"graphics"});a("load","5",{name:"graphics-svg-default",test:function(e){var d=e.config.doc;return(d&&d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));},trigger:"graphics"});a("load","6",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"});a("load","7",{name:"transition-timer",test:function(g){var f=g.config.doc,e=(f)?f.documentElement:null,d=true;if(e&&e.style){d=!("MozTransition" in e.style||"WebkitTransition" in e.style);}return d;},trigger:"transition"});a("load","8",{name:"dom-style-ie",test:function(j){var h=j.Features.test,i=j.Features.add,f=j.config.win,g=j.config.doc,d="documentElement",e=false;i("style","computedStyle",{test:function(){return f&&"getComputedStyle" in f;}});i("style","opacity",{test:function(){return g&&"opacity" in g[d].style;}});e=(!h("style","opacity")&&!h("style","computedStyle"));return e;},trigger:"dom-style"});a("load","9",{name:"selector-css2",test:function(f){var e=f.config.doc,d=e&&!("querySelectorAll" in e);return d;},trigger:"selector"});a("load","10",{name:"event-base-ie",test:function(e){var d=e.config.doc&&e.config.doc.implementation;return(d&&(!d.hasFeature("Events","2.0")));},trigger:"node-base"});a("load","11",{name:"dd-gestures",test:function(d){return(d.config.win&&("ontouchstart" in d.config.win&&!d.UA.chrome));},trigger:"dd-drag"});a("load","12",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"});a("load","13",{name:"graphics-canvas",test:function(f){var e=f.config.doc,d=e&&e.createElement("canvas");return(e&&!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(d&&d.getContext&&d.getContext("2d")));},trigger:"graphics"});a("load","14",{name:"graphics-vml",test:function(f){var e=f.config.doc,d=e&&e.createElement("canvas");return(e&&!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!d||!d.getContext||!d.getContext("2d")));},trigger:"graphics"});},"3.4.0",{requires:["yui-base"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("dom-core",function(e){var n="nodeType",c="ownerDocument",b="documentElement",a="defaultView",g="parentWindow",j="tagName",k="parentNode",i="previousSibling",l="nextSibling",h="contains",d="compareDocumentPosition",m=[],f={byId:function(p,o){return f.allById(p,o)[0]||null;},ancestor:function(p,q,r){var o=null;if(r){o=(!q||q(p))?p:null;}return o||f.elementByAxis(p,k,q,null);},ancestors:function(q,r,s){var p=f.ancestor.apply(f,arguments),o=(p)?[p]:[];while((p=f.ancestor(p,r))){if(p){o.unshift(p);}}return o;},elementByAxis:function(o,r,q,p){while(o&&(o=o[r])){if((p||o[j])&&(!q||q(o))){return o;}}return null;},contains:function(p,q){var o=false;if(!q||!p||!q[n]||!p[n]){o=false;}else{if(p[h]){if(e.UA.opera||q[n]===1){o=p[h](q);}else{o=f._bruteContains(p,q);}}else{if(p[d]){if(p===q||!!(p[d](q)&16)){o=true;}}}}return o;},inDoc:function(q,r){var p=false,o;if(q&&q.nodeType){(r)||(r=q[c]);o=r[b];if(o&&o.contains&&q.tagName){p=o.contains(q);}else{p=f.contains(o,q);}}return p;},allById:function(t,o){o=o||e.config.doc;var p=[],q=[],r,s;if(o.querySelectorAll){q=o.querySelectorAll('[id="'+t+'"]');}else{if(o.all){p=o.all(t);if(p){if(p.nodeName){if(p.id===t){q.push(p);p=m;}else{p=[p];}}if(p.length){for(r=0;s=p[r++];){if(s.id===t||(s.attributes&&s.attributes.id&&s.attributes.id.value===t)){q.push(s);}}}}}else{q=[f._getDoc(o).getElementById(t)];}}return q;},isWindow:function(o){return !!(o&&o.alert&&o.document);},_removeChildNodes:function(o){while(o.firstChild){o.removeChild(o.firstChild);}},siblings:function(r,q){var o=[],p=r;while((p=p[i])){if(p[j]&&(!q||q(p))){o.unshift(p);}}p=r;while((p=p[l])){if(p[j]&&(!q||q(p))){o.push(p);}}return o;},_bruteContains:function(o,p){while(p){if(o===p){return true;}p=p.parentNode;}return false;},_getRegExp:function(p,o){o=o||"";f._regexCache=f._regexCache||{};if(!f._regexCache[p+o]){f._regexCache[p+o]=new RegExp(p,o);}return f._regexCache[p+o];},_getDoc:function(o){var p=e.config.doc;if(o){p=(o[n]===9)?o:o[c]||o.document||e.config.doc;}return p;},_getWin:function(o){var p=f._getDoc(o);return p[a]||p[g]||e.config.win;},_batch:function(o,w,u,t,s,q){w=(typeof w==="string")?f[w]:w;var x,r=0,p,v;if(w&&o){while((p=o[r++])){x=x=w.call(f,p,u,t,s,q);if(typeof x!=="undefined"){(v)||(v=[]);v.push(x);}}}return(typeof v!=="undefined")?v:o;},wrap:function(r,p){var q=e.DOM.create(p),o=q.getElementsByTagName("*");if(o.length){q=o[o.length-1];}if(r.parentNode){r.parentNode.replaceChild(q,r);}q.appendChild(r);},unwrap:function(r){var p=r.parentNode,q=p.lastChild,o=r,s;if(p){s=p.parentNode;if(s){r=p.firstChild;while(r!==q){o=r.nextSibling;s.insertBefore(r,p);r=o;}s.replaceChild(q,p);}else{p.removeChild(r);}}},generateID:function(o){var p=o.id;if(!p){p=e.stamp(o);o.id=p;}return p;}};e.DOM=f;},"3.4.0",{requires:["oop","features"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("node-core",function(c){var j=".",e="nodeName",n="nodeType",b="ownerDocument",m="tagName",d="_yuid",i={},p=Array.prototype.slice,f=c.DOM,k=function(r){if(!this.getDOMNode){return new k(r);}if(typeof r=="string"){r=k._fromString(r);if(!r){return null;}}var q=(r.nodeType!==9)?r.uniqueID:r[d];if(q&&k._instances[q]&&k._instances[q]._node!==r){r[d]=null;}q=q||c.stamp(r);if(!q){q=c.guid();}this[d]=q;this._node=r;this._stateProxy=r;if(this._initPlugins){this._initPlugins();}},o=function(r){var q=null;if(r){q=(typeof r=="string")?function(s){return c.Selector.test(s,r);}:function(s){return r(c.one(s));};}return q;};k.ATTRS={};k.DOM_EVENTS={};k._fromString=function(q){if(q){if(q.indexOf("doc")===0){q=c.config.doc;}else{if(q.indexOf("win")===0){q=c.config.win;}else{q=c.Selector.query(q,null,true);}}}return q||null;};k.NAME="node";k.re_aria=/^(?:role$|aria-)/;k.SHOW_TRANSITION="fadeIn";k.HIDE_TRANSITION="fadeOut";k._instances={};k.getDOMNode=function(q){if(q){return(q.nodeType)?q:q._node||null;}return null;};k.scrubVal=function(r,q){if(r){if(typeof r=="object"||typeof r=="function"){if(n in r||f.isWindow(r)){r=c.one(r);}else{if((r.item&&!r._nodes)||(r[0]&&r[0][n])){r=c.all(r);}}}}else{if(typeof r==="undefined"){r=q;}else{if(r===null){r=null;}}}return r;};k.addMethod=function(q,s,r){if(q&&s&&typeof s=="function"){k.prototype[q]=function(){var u=p.call(arguments),v=this,t;if(u[0]&&c.instanceOf(u[0],k)){u[0]=u[0]._node;}if(u[1]&&c.instanceOf(u[1],k)){u[1]=u[1]._node;}u.unshift(v._node);t=s.apply(v,u);if(t){t=k.scrubVal(t,v);}(typeof t!="undefined")||(t=v);return t;};}else{}};k.importMethod=function(s,q,r){if(typeof q=="string"){r=r||q;k.addMethod(r,s[q],s);}else{c.Array.each(q,function(t){k.importMethod(s,t);});}};k.one=function(t){var q=null,s,r;if(t){if(typeof t=="string"){t=k._fromString(t);if(!t){return null;}}else{if(t.getDOMNode){return t;}}if(t.nodeType||c.DOM.isWindow(t)){r=(t.uniqueID&&t.nodeType!==9)?t.uniqueID:t._yuid;q=k._instances[r];s=q?q._node:null;if(!q||(s&&t!==s)){q=new k(t);if(t.nodeType!=11){k._instances[q[d]]=q;}}}}return q;};k.DEFAULT_SETTER=function(q,s){var r=this._stateProxy,t;if(q.indexOf(j)>-1){t=q;q=q.split(j);c.Object.setValue(r,q,s);}else{if(typeof r[q]!="undefined"){r[q]=s;}}return s;};k.DEFAULT_GETTER=function(q){var r=this._stateProxy,s;if(q.indexOf&&q.indexOf(j)>-1){s=c.Object.getValue(r,q.split(j));}else{if(typeof r[q]!="undefined"){s=r[q];}}return s;};c.mix(k.prototype,{toString:function(){var t=this[d]+": not bound to a node",s=this._node,q,u,r;if(s){q=s.attributes;u=(q&&q.id)?s.getAttribute("id"):null;r=(q&&q.className)?s.getAttribute("className"):null;t=s[e];if(u){t+="#"+u;}if(r){t+="."+r.replace(" ",".");}t+=" "+this[d];}return t;},get:function(q){var r;if(this._getAttr){r=this._getAttr(q);}else{r=this._get(q);}if(r){r=k.scrubVal(r,this);}else{if(r===null){r=null;}}return r;},_get:function(q){var r=k.ATTRS[q],s;if(r&&r.getter){s=r.getter.call(this);}else{if(k.re_aria.test(q)){s=this._node.getAttribute(q,2);}else{s=k.DEFAULT_GETTER.apply(this,arguments);}}return s;},set:function(q,s){var r=k.ATTRS[q];if(this._setAttr){this._setAttr.apply(this,arguments);}else{if(r&&r.setter){r.setter.call(this,s,q);}else{if(k.re_aria.test(q)){this._node.setAttribute(q,s);}else{k.DEFAULT_SETTER.apply(this,arguments);}}}return this;},setAttrs:function(q){if(this._setAttrs){this._setAttrs(q);}else{c.Object.each(q,function(r,s){this.set(s,r);},this);}return this;},getAttrs:function(r){var q={};if(this._getAttrs){this._getAttrs(r);}else{c.Array.each(r,function(s,t){q[s]=this.get(s);},this);}return q;},compareTo:function(q){var r=this._node;if(c.instanceOf(q,k)){q=q._node;}return r===q;},inDoc:function(r){var q=this._node;r=(r)?r._node||r:q[b];if(r.documentElement){return f.contains(r.documentElement,q);}},getById:function(s){var r=this._node,q=f.byId(s,r[b]);if(q&&f.contains(r,q)){q=c.one(q);}else{q=null;}return q;},ancestor:function(q,r){return c.one(f.ancestor(this._node,o(q),r));},ancestors:function(q,r){return c.all(f.ancestors(this._node,o(q),r));},previous:function(r,q){return c.one(f.elementByAxis(this._node,"previousSibling",o(r),q));},next:function(r,q){return c.one(f.elementByAxis(this._node,"nextSibling",o(r),q));},siblings:function(q){return c.all(f.siblings(this._node,o(q)));},one:function(q){return c.one(c.Selector.query(q,this._node,true));},all:function(q){var r=c.all(c.Selector.query(q,this._node));r._query=q;r._queryRoot=this._node;return r;},test:function(q){return c.Selector.test(this._node,q);},remove:function(q){var r=this._node;if(r&&r.parentNode){r.parentNode.removeChild(r);}if(q){this.destroy();}return this;},replace:function(q){var r=this._node;if(typeof q=="string"){q=k.create(q);}r.parentNode.replaceChild(k.getDOMNode(q),r);return this;},replaceChild:function(r,q){if(typeof r=="string"){r=f.create(r);}return c.one(this._node.replaceChild(k.getDOMNode(r),k.getDOMNode(q)));},destroy:function(s){var r=c.config.doc.uniqueID?"uniqueID":"_yuid",q;this.purge();if(this.unplug){this.unplug();}this.clearData();if(s){c.NodeList.each(this.all("*"),function(t){q=k._instances[t[r]];if(q){q.destroy();}});}this._node=null;this._stateProxy=null;delete k._instances[this._yuid];},invoke:function(x,r,q,w,v,u){var t=this._node,s;if(r&&c.instanceOf(r,k)){r=r._node;}if(q&&c.instanceOf(q,k)){q=q._node;}s=t[x](r,q,w,v,u);return k.scrubVal(s,this);},swap:c.config.doc.documentElement.swapNode?function(q){this._node.swapNode(k.getDOMNode(q));}:function(q){q=k.getDOMNode(q);var s=this._node,r=q.parentNode,t=q.nextSibling;if(t===s){r.insertBefore(s,q);}else{if(q===s.nextSibling){r.insertBefore(q,s);}else{s.parentNode.replaceChild(q,s);f.addHTML(r,s,t);}}return this;},getData:function(r){var q;this._data=this._data||{};if(arguments.length){q=this._data[r];}else{q=this._data;}return q;},setData:function(q,r){this._data=this._data||{};if(arguments.length>1){this._data[q]=r;}else{this._data=q;}return this;},clearData:function(q){if("_data" in this){if(q){delete this._data[q];}else{delete this._data;}}return this;},hasMethod:function(r){var q=this._node;return !!(q&&r in q&&typeof q[r]!="unknown"&&(typeof q[r]=="function"||String(q[r]).indexOf("function")===1));},isFragment:function(){return(this.get("nodeType")===11);},empty:function(){this.get("childNodes").remove().destroy(true);return this;},getDOMNode:function(){return this._node;}},true);c.Node=k;c.one=k.one;var a=function(q){var r=[];if(typeof q==="string"){this._query=q;q=c.Selector.query(q);}else{if(q.nodeType||f.isWindow(q)){q=[q];}else{if(c.instanceOf(q,c.Node)){q=[q._node];}else{if(c.instanceOf(q[0],c.Node)){c.Array.each(q,function(s){if(s._node){r.push(s._node);}});q=r;}else{q=c.Array(q,0,true);}}}}this._nodes=q;};a.NAME="NodeList";a.getDOMNodes=function(q){return(q&&q._nodes)?q._nodes:q;};a.each=function(q,t,s){var r=q._nodes;if(r&&r.length){c.Array.each(r,t,s||q);}else{}};a.addMethod=function(q,s,r){if(q&&s){a.prototype[q]=function(){var u=[],t=arguments;c.Array.each(this._nodes,function(z){var y=(z.uniqueID&&z.nodeType!==9)?"uniqueID":"_yuid",w=c.Node._instances[z[y]],x,v;if(!w){w=a._getTempNode(z);}x=r||w;v=s.apply(x,t);if(v!==undefined&&v!==w){u[u.length]=v;}});return u.length?u:this;};}else{}};a.importMethod=function(s,q,r){if(typeof q==="string"){r=r||q;a.addMethod(q,s[q]);}else{c.Array.each(q,function(t){a.importMethod(s,t);});}};a._getTempNode=function(r){var q=a._tempNode;if(!q){q=c.Node.create("<div></div>");a._tempNode=q;}q._node=r;q._stateProxy=r;return q;};c.mix(a.prototype,{item:function(q){return c.one((this._nodes||[])[q]);},each:function(s,r){var q=this;c.Array.each(this._nodes,function(u,t){u=c.one(u);return s.call(r||u,u,t,q);});return q;},batch:function(r,q){var s=this;c.Array.each(this._nodes,function(v,u){var t=c.Node._instances[v[d]];if(!t){t=a._getTempNode(v);}return r.call(q||t,t,u,s);});return s;},some:function(s,r){var q=this;return c.Array.some(this._nodes,function(u,t){u=c.one(u);r=r||u;return s.call(r,u,t,q);});},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes));},indexOf:function(q){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(q));},filter:function(q){return c.all(c.Selector.filter(this._nodes,q));},modulus:function(t,s){s=s||0;var q=[];a.each(this,function(u,r){if(r%t===s){q.push(u);}});return c.all(q);},odd:function(){return this.modulus(2,1);},even:function(){return this.modulus(2);},destructor:function(){},refresh:function(){var t,r=this._nodes,s=this._query,q=this._queryRoot;if(s){if(!q){if(r&&r[0]&&r[0].ownerDocument){q=r[0].ownerDocument;}}this._nodes=c.Selector.query(s,q);}return this;},_prepEvtArgs:function(t,s,r){var q=c.Array(arguments,0,true);if(q.length<2){q[2]=this._nodes;}else{q.splice(2,0,this._nodes);}q[3]=r||this;return q;},on:function(s,r,q){return c.on.apply(c,this._prepEvtArgs.apply(this,arguments));},once:function(s,r,q){return c.once.apply(c,this._prepEvtArgs.apply(this,arguments));},after:function(s,r,q){return c.after.apply(c,this._prepEvtArgs.apply(this,arguments));},size:function(){return this._nodes.length;},isEmpty:function(){return this._nodes.length<1;},toString:function(){var t="",s=this[d]+": not bound to any nodes",q=this._nodes,r;if(q&&q[0]){r=q[0];t+=r[e];if(r.id){t+="#"+r.id;}if(r.className){t+="."+r.className.replace(" ",".");}if(q.length>1){t+="...["+q.length+" items]";}}return t||s;},getDOMNodes:function(){return this._nodes;}},true);a.importMethod(c.Node.prototype,["destroy","empty","remove","set"]);a.prototype.get=function(r){var u=[],t=this._nodes,s=false,v=a._getTempNode,q,w;if(t[0]){q=c.Node._instances[t[0]._yuid]||v(t[0]);w=q._get(r);if(w&&w.nodeType){s=true;}}c.Array.each(t,function(x){q=c.Node._instances[x._yuid];if(!q){q=v(x);}w=q._get(r);if(!s){w=c.Node.scrubVal(w,q);}u.push(w);});return(s)?c.all(u):u;};c.NodeList=a;c.all=function(q){return new a(q);};c.Node.all=c.all;var l=c.NodeList,h=Array.prototype,g={concat:1,pop:0,push:0,shift:0,slice:1,splice:1,unshift:0};c.Object.each(g,function(r,q){l.prototype[q]=function(){var u=[],v=0,s,t;while(typeof(s=arguments[v++])!="undefined"){u.push(s._node||s._nodes||s);}t=h[q].apply(this._nodes,u);if(r){t=c.all(t);}else{t=c.Node.scrubVal(t);}return t;};});c.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(q){c.Node.prototype[q]=function(u,s,r){var t=this.invoke(q,u,s,r);return t;};});c.Node.importMethod(c.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]);c.NodeList.importMethod(c.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"]);},"3.4.0",{requires:["dom-core","selector"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("yui-untrusted",function(a){},"3.4.0",{use:["ua","yui-later","yui-log","substitute"]});YModules={};YUI.add("module_platform",function(J){var i,R=J.Lang,aa=J.Array,al=J.Object,at=R.isString,F=R.isUndefined,ao=R.isBoolean,am=R.isFunction,t=R.isObject,a=R.isArray,N=R.later,E=true,p=false,V=null,aq=0,S=V,ai=V,ap={},U={},ad={},ah={},af=[],K={init:function(){}},M=["closeView","hideView","isViewOpen","openView","openViewHtml","refreshView","showView","setView"],h="modulestart",x="viewload",ae="viewunload",ay="started",au="props",n="config",I="res",aw="resourcemgr",T="signal",H="state",ac="message",O="MPServices",z="ModulePlatformProvider";function aj(az,L,Y){if(!t(L)){L=new Error(L);}if(S.debug){throw L;}else{var A={type:"error",errorType:az,error:L};if(t(Y)){J.mix(A,Y);}i.fire(A);}}function P(A,L){return t(ap[A])?ap[A].getService(i,L):V;}function C(az,Y,A){if(A){var L=al(A);al.each(A,function(aA,aB){if(am(aA)&&!S.debug){L[aB]=function(){try{return aA.apply(this,arguments);}catch(aC){aj(aB,aC,{moduleId:az});}};}});return L;}else{return K;}}function ag(L,A,Y){f(A,"viewevent",[Y,L]);}function Z(az,Y){var aA=ad[az],aC,A,aB,L;if(aA){if(!aA[ay]){aC=aA[n];L=aC[au];A=YModules[L.ns];aB=aC[H];aA.module=C(az,L.type,A);aA.module.init(aA.api);aA[ay]=E;if(Y&&aB&&at(aB.view)){f(az,x,[aB.view]);}i.fire({type:h,moduleId:az});}}}function l(A){var L=af.shift();Z(L,A);if(af.length){ai=N(0,V,l,[A]);}else{if(aq==1){aq=4;i.fire({type:"ready"});}ai=V;}}function o(Y,L){var A=Y[L];delete Y[L];return A;}function an(Y,A,az){i.fire({type:ac,messageName:A,moduleId:Y,data:az});var L=ah[A];if(L){al.each(L,function(aB,aA){f(aA,ac,[A,ad[Y].api.getProperty("type"),az]);});}}function ax(L,A){i.fire({type:"navigate",moduleId:L,url:A});}function D(L,A){if(!(A instanceof Array)){A=[A];}aa.each(A,function(Y){if(!ah[Y]){ah[Y]={};}ah[Y][L]=1;i.fire({type:"listen",moduleId:L,messageName:Y});});}function G(L,A){if(A&&!(A instanceof Array)){A=[A];}else{A=al.keys(ah);}aa.each(A,function(Y){if(ah[Y]){delete ah[Y][L];i.fire({type:"unlisten",moduleId:L,messageName:Y});}});}function f(L,aB,aD){if(!at(L)){aj(T,"Module ID must be a string.");return E;}else{if(!ad[L]){aj(T,"No module information for module ("+L+"), couldn't signal ("+aB+")");return E;}}aD=aD||[];var aI=E,A=ad[L],aF=A.module,aE=A[ay],aC=A.api,aG=aD[0],az=A.handlers,Y,aH,aA;if(aE){if(aB==x||aB==ae){Y=aC.getViewNode(aD[0]);aA=aF.viewevents||[];if(!az[aG]){az[aG]=[];}if(aB==x){if(aA.length){if(Y){aa.each(aA,function(aJ){az[aG].push(Y.on(aJ,J.rbind(ag,i,L,aG)));});}else{aj(T,"Module missing a node for '"+aG+"' view",{moduleId:L});}}}else{if(az[aG]){aH=az[aG].pop();while(aH){aH.detach();aH=az[aG].pop();}}}}i.fire({type:"modulesignal",signal:aB,moduleId:L,args:aD});aB="on"+aB;if(aF[aB]){aI=aF[aB].apply(aF,aD);if(ao(aI)){}else{aI=E;}}else{}}else{}return aI;}function u(){return S;}function W(A){return F(ad[A])?V:ad[A].api;}function q(A){return F(ad[A])?V:ad[A][n][H]||V;}function m(A){return S[au][A];}function e(L,A){return P(aw).getString(L,A);}function k(A,L){return U[L]?U[L].getViewDirection(A):V;}function av(A,L){return U[L]?U[L].getViewNode(A):V;}function c(A){ap[A.name]=A;}function B(A){return o(ap,A);}function X(A){return !!ad[A];}function ab(aD){var Y=aD[au],L=aD.mods,aA=Y.id,aC=P(aw),az=YModules[Y.ns],A,aB;if(ad[aA]){A=ad[aA].config;aa.each(["strs","data","prefs"],function(aE){if(!A[aE]){A[aE]={};}J.mix(A[aE],aD[aE],E);});A.mods=aD.mods;}else{ad[aA]={config:aD,api:J.ModuleApi(i,aD),started:p,handlers:{}};aC.setLoaded(aD[I]);}aC.setStrings(Y.type,aD.strs);if(a(L)){aa.each(L,ab);}if(at(Y.parentId)){aB=ad[Y.parentId].config;if(!a(aB.mods)){aB.mods=[];}if(aa.indexOf(aB.mods,aD)==-1){aB.mods.push(aD);}}if(Y.trusted&&az&&a(az.services)){aa.each(az.services,c);}}function v(L){var A=ad[L];if(A){if(A[ay]){aj("unregisterModule","Module "+L+" must be stopped before being unregistered.",{moduleId:L});}aa.each(b(L),v);delete ad[L];}else{}}function Q(L,aA){var az=P("transport"),Y=aA.success||function(){},A=aA.scope||V;aA.success=function(aB,aC){ab(aB.mod);aB.data=aB.data||{};aB.data.moduleId=aB.mod.props.id;delete aB.mod;Y.call(A,aB,aC);};az.makeRequest(J.merge({type:"loadmodule"},L),aA);}function y(A){U[A.name]=A.create(i);}function d(A){return o(U,A);}function ar(L){var A=[];al.each(ad,function(Y,az){if(L(az)){A.push(az);}});return A;}function r(){return ar(function(){return E;});}function b(az){var L=ad[az],Y=L?L.config.mods:V,A=[];if(S&&a(Y)){aa.each(Y,function(aA){A.push(aA.props.id);});}return A;}function g(L,Y){var A=[];aa.each(Y,function(az){A.push(ad[az].config);});ad[L].config.mods=A;}function w(A){return ad[A]&&!!ad[A][ay];}function s(A){af.push(A);aa.each(b(A),s);}function j(A,Y,L){if(at(A)){A=[A];Y=(ao(Y)?Y:p);}else{if(A instanceof Array){Y=(ao(Y)?Y:E);}else{return;}}if(Y){aa.each(A,s);if(ai===V){ai=N(0,V,l,[L]);}}else{aa.each(A,function(az){Z(az,L);j(b(az),Y,L);});}}function ak(A){var Y=P("transport"),L;if(at(A)){A=[A];}aa.each(A,function(az){var aA=ad[az];Y.abortModuleRequests(az);al.each(U,function(aB,aC){i.closeView(az,aC);});if(w(az)){f(az,"destroy");aA[ay]=p;aA.module=V;G(az);i.fire({type:"modulestop",moduleId:az});L=b(az);if(a(L)){ak(L);}}});}i={error:aj,getConfig:u,getModuleApi:W,getModuleState:q,getProperty:m,getService:P,getString:e,getModules:r,getChildModules:b,setChildModules:g,queryModules:ar,isStarted:w,start:j,stop:ak,broadcast:an,listen:D,unlisten:G,navigate:ax,signal:f,getViewDirection:k,getViewNode:av,registerService:c,unregisterService:B,registerViewType:y,unregisterViewType:d,isModuleRegistered:X,loadModule:Q,registerModule:ab,unregisterModule:v};J.augment(i,J.Event.Target);J.ModulePlatform={BaseViewType:{getViewDirection:function(){return V;},getViewNode:function(){return V;}},init:function(L,A){S=L||{};if(L){P(aw).setLoaded(S[I]);if(S.mods){aa.each(S.mods,function(Y){ab(Y);if(!Y[H]||!Y[H].defer){j(Y[au].id,E,A);}});}aq=1;this.fire({type:"init"});}}};aa.each(M,function(A){i[A]=function(){var Y=arguments,L=function(){var aC=arguments,aD=aC[0],aB=aC.length==3?[aD,aC[2]]:[aD],aA=U[aC[1]];return aA?aA[A].apply(aA,aB):p;};if(S.debug){return L.apply(this,Y);}else{try{return L.apply(this,Y);}catch(az){aj(A,az,{moduleId:Y[0],view:Y[1]});}}};J.ModulePlatform.BaseViewType[A]=function(){return p;};});J.mix(J.ModulePlatform,i);J.namespace(O);J[O][z]={name:"moduleplatform",getService:function(A,Y){if(!Y){return A;}else{var L=A.getModuleApi(Y);return(L&&L.getProperty("trusted")?i:V);}}};J.ModulePlatform.registerService(J[O][z]);},"1.0",{requires:["event-base"]});YUI.add("resourcemgr",function(a){var s=null,h=true,b={},o={},q={},t={},r=s,k=s,l=0,u=s,c={},m=a.ModulePlatform,f=a.Object,j=a.Lang,d,g="MPServices",n="ResourceMgrProvider";function i(w){var v=t[w];if(!j.isUndefined(v)){v();delete t[w];}delete o[w];d.fire({type:"complete",target:d,id:w});}function p(A){var C=A.data.id,B=A.tId,z=A.data.pkgs,y=s,w,v;for(w=0,v=z.length;w<v;w++){y=z[w];q[y]=1;if(A.data.js){a.use(y);}delete b[y];a.Object.each(o,function(x,D){if(x[y]){delete o[D][y];}if(e(D)){i(D);}},this);}}function e(v){return(a.Object.size(o[v])==0);}d={_clearAll:function(){q={};b={};},getString:function(w,v){return c[w+"_"+v]||s;},isLoaded:function(v){return !!q[v];},load:function(x,C){var v=l++,B={js:{urls:[],names:[]},css:{urls:[],names:[]}},w,D,z,y,A;if(C){t[v]=C;}o[v]={};a.Array.each(["js","css"],function(E){D=B[E];z=[];f.each(x[E],function(F,G){if(b[G]){b[G].push(v);o[v][G]=1;}else{if(!q[G]){b[G]=[v];o[v][G]=1;D.names.push(G);if(F.indexOf("http")!==0){if(k){z.push(F);}else{D.urls.push(r+F);}}else{D.urls.push(F);}}}});if(z.length>0){D.urls.unshift(k+z.join("&"));}});if(e(v)){i(v);}else{y=B.js.urls;A=B.css.urls;if(y.length||A.length){if(A.length){w=a.Get.css(A,{onSuccess:p,scope:this,data:{id:v,pkgs:B.css.names}});}if(y.length){w=a.Get.script(y,{onSuccess:p,scope:this,data:{id:v,js:true,pkgs:B.js.names}});}this.fire({type:"start",target:this,id:v});}}},setLoaded:function(v){if(v){f.each(v.js,function(w,x){q[x]=h;});f.each(v.css,function(w,x){q[x]=h;});}},setStrings:function(v,w){f.each(w,function(y,x){c[v+"_"+x]=y;});}};a.augment(d,a.Event.Target);a.namespace(g);a[g][n]={name:"resourcemgr",getService:function(w,v){if(!u){u=w;r=u.getProperty("libRoot");k=u.getProperty("comboRoot");}return v?s:d;}};if(m){m.registerService(a[g][n]);}},"1.0");window.transportEval=function(code){return eval("("+code+")");};YUI.add("transport",function(W){var f="MPServices",N="TransportProvider",aC="transport",ao="POST",o="GET",w="proxyUrl",aM="proxyTimeout",x="DaliRequestWs",m="module",aE="cfg.dali.handler.ws",aN="cfg.maple_dali.handler.add",ac="INVALID_CRUMB",aD=aN,I=x,au="ok",am="post",r="pr",z="dt",q="rt",ak="default",ae="response",i="request",a="server",aA="browser",aa="crumb",av="abort",an="timeout",s=a,A="nocookies",U="badcrumb",y="badformat",u=2,aw=1,n=0,b=i,ar=ae,aK=av,L="failure",t="success",Q="failure",C="error",aB=15000,ab=1500,j=2,c=5,p="Gateway Timeout",Z=W.Lang,aG=Z.isString,ay=Z.isFunction,B=Z.isObject,S=Z.isUndefined,aL=Z.isNull,d=Z.isArray,P=Z.isNumber,aI=null,e=false,ad={},al=null,G=n,K=null,v={},l=W.ModulePlatform,h=/Content-Type\:\s([^\n]+)/,E=/boundary=([^\n\s]+)\;/,ag=/\{[^\n]+\}/,at=/Content-ID\:\s([0-9]+)/,O={tData:{},rData:{}};RequestBlackboard=function(){var Y={};var aO=1;return{create:function(aP){Y[aO]=aP;return aO++;},remove:function(aP){if(Y[aP]){delete (Y[aP]);return true;}else{return false;}},setProp:function(aR,aP,aQ){if(Y[aR]){Y[aR][aP]=aQ;}else{return false;}},getProp:function(aQ,aP){if(!S(Y[aQ])){return Y[aQ][aP];}else{return false;}},queryAll:function(aP){var aT=[];for(var aQ in Y){if(Y.hasOwnProperty(aQ)){var aS=Y[aQ];if(!S(aS)&&aP(Y[aQ])){Y[aQ].txId=aQ;var aR=Y[aQ];aT.push(Y[aQ]);}}}return aT;},getByTx:function(aQ){var aP=aQ;return this.queryAll(function(aR){if(aR.transactionId==aP){return true;}else{return false;}});},get:function(aP){return Y[aP];},reset:function(){aO=1;Y={};O={tData:{},rData:{}};},getSize:function(){if(aO===1){return 0;}var aQ=0;for(var aP in Y){aQ++;}return aQ;},_requestStore:Y};}();var aF=function(){var Y=[];return{enqueue:function(aO){return Y.push(aO);},next:function(){return Y.shift();},peek:function(){return Y[0];},getSize:function(){return Y.length;},reset:function(){Y=[];}};}();function H(){l=W.ModulePlatform;aI=null;RequestBlackboard.reset();aF.reset();aj.reset();al=R;ad[m]=aH;ad[x]=ax;G=n;if(ay(e.cancel)){e.cancel();}}function T(){return new Date();}var ah={disable:function(Y){G=Y?u:aw;},enable:function(){if(G===u){af();}G=n;},isEnabled:function(){return(G==n);},setRequestFormatter:function(Y,aO){ad[Y]=aO;},setResponseFormatter:function(Y){al=Y;},abortRequest:function(aO,Y){if((!Y)||Y==RequestBlackboard.getProp(aO,"moduleId")){F(aO);this.fire(aK,{type:av,response:{}});return aq(aO,Q,av,"");}else{return false;}},abortModuleRequests:function(Y){var aO=RequestBlackboard.queryAll(function(aP){return aP.originId==Y;});W.Array.each(aO,function(aP){this.abortRequest(aP.txId,Y);},this);},isRequestPending:function(aP,aO){if(aO){var Y=RequestBlackboard.get(aP);return(B(Y)&&(Y.moduleId==aO));}else{return(RequestBlackboard.get(aP))?true:false;}},makeRequest:function(aP,aR,aQ){if(G!==aw){if(d(aP)&&aP.length>1){for(var aO=0,Y=aP.length;aO<Y;aO++){g(aP[aO],aR,aQ);}return null;}else{return g((d(aP)?aP[0]:aP),aR,aQ);}}else{return false;}},getMetrics:function(Y){return(B(O.rData[Y])?O.rData[Y]:null);},clearMetrics:function(aO){if(aO){delete (O.rData[aO]);}else{var Y=RequestBlackboard.get(aO);if(RequestBlackboard.getSize()>0){O.rData={};}else{O={tData:{},rData:{}};}}},_simulateResponse:function(aS,aP,aR){var aQ="";var Y=aj.simulateResponse;if(aP._raw){Y(1,{status:200,statusText:"OK",responseText:aP._raw});return;}if(aP._result){switch(aP._result){case"abort":Y(1,{status:0,statusText:aP._result},1);break;case"timeout":Y(1,{status:0,statusText:aP._result},1);break;case"ok":aQ='[{"txId":'+aS+',"status":200,"statusText":"OK", "data":';if(aP.html){aQ+='"html":"'+aP.html+'",';}aQ+='{"mods":[{"props":{}}]}}]';var aO='{"props":{}, "status":"OK", "resps":'+aQ+"}";Y(1,{status:200,statusText:"OK",responseText:aO},1);break;case C:if(aP._resultDetail&&aP._resultDetail=="badcrumb"){aQ="[]";Y(1,{status:200,statusText:"ok",responseText:'{"props":{}, "status":400, "statusText":"Bad Request", "resps":'+aQ+"}"},false);return true;}else{if(aP._resultDetail&&aP._resultDetail=="nocookies"){aQ="[]";Y(1,{status:200,statusText:C,responseText:'{"props":{}, "status":400, "statusText":"Bad Request", "resps":'+aQ+"}"},true);return true;}}aQ='[{"txId":'+aS+',"status":404,"statusText":"ERROR", "data":{"mods":[{"props":{}}]}}]';Y(1,{status:404,statusText:"File not Found",responseText:"<html><head><title>404</title></head><body><p>File not found</p></body></html>"},false);break;}}},_reset:H};function aJ(Y){var aQ=W.Object(Y.data);var aP=false;var aO=false;aQ.getResponseHeader=function(aV){if(!aP){this.responseHeader=aQ.responseHeader.replace("\r\n","\n");aO=true;var aS=aQ.responseHeader.split("\n");var aR=aS.length;aP={};for(var aT=0;aT<aR;aT++){var aU=aS[aT].split(": ");aP[aU[0]]=aU[1];}}return aP[aV];};aQ.getAllResponseHeaders=function(){if(!aO){this.responseHeader=aQ.responseHeader.replace("\r\n","\n");}return this.responseHeader;};return W.mix(Y,aQ);}var az=function(aO,Y){if(aO.data&&aO.data.responseText){return aJ(aO);}else{if(aO.data){if(aO.data.mods){aO.mods=aO.data.mods;aO.mod=aO.mods[0];delete (aO.data.mods);}if(aO.data.html){aO.html=aO.data.html;delete (aO.data.html);}if(aO.data.res){aO.res=aO.data.res;delete (aO.data.res);}}return aO;}};function R(aO,Y){return aO;}al=R;function F(Y){if(!RequestBlackboard.getProp(Y,"isBatch")){var aO=RequestBlackboard.getProp("transactionObject");if(B(aO)&&aO.isInProgress()){aO.abort();}}else{}}function aq(aW,aT,aY,aR){var aO=RequestBlackboard.get(aW);if(S(aO)){return false;}var aP=aO.response||{},aU=null,a4=null;aP.result=aY||au;aP.resultDetail=aR||"";aP.originId=aO.originId||null;aP.targetId=aO.targetId||aO.originId;if(aO.html){aP.html=aO.html;}ah.fire(ar,{type:ar,response:aP});if(B(aP.data)){a4=aP.data.res;aU=aP.data.mods;}if(B(aU)){if(aU[0].state&&aU[0].state.defer){if(!ap(aW,aU[0].state)){RequestBlackboard.remove(aW);aP.status=504;aP.statusText=p;aT=Q;}else{return;}}for(var a1=0,Y=aU.length;a1<Y;a1++){if(aU[a1].props&&aU[a1].props.id){aI.registerModule(aU[a1]);}}}aP=az(aP);aP=al(aP,aI);var aZ=aO.cb,aV,aQ=this,a3=null;if(O.tData[aO.transactionId]&&aY==au){a3=O.tData[aO.transactionId];O.rData[aW]={rt:a3.rt,pr:a3.pr,dt:0};}if(!S(aZ.argument)){aP.argument=aZ.argument;aV=aZ.argument;}if(ay(aZ[aT])){var aS=W.bind(aZ[aT],aZ.scope||this,aP,aV);if(B(a4)){var a2=aI.getService("resourcemgr"),aX=null;if(a3){aX=T();var a0=O.rData[aW];}a2.load(a4,function(){if(a3){a0.dt=T()-aX;}aS();});}else{aS();}}return RequestBlackboard.remove(aW);}function ap(aR,aQ){var Y=RequestBlackboard.get(aR);var aS=RequestBlackboard.getProp(aR,"retries");if((aS>(c))){return false;}var aO=aQ.retryCount||c;var aP=aQ.retryInterval;aS=(P(aS))?aS:0;if(aS<aO){++aS;W.Lang.later(aP,this,function(){RequestBlackboard.setProp((g(Y.requestObject,Y.cb,Y.originId)),"retries",aS);});RequestBlackboard.remove(aR);return true;}else{return false;}}function X(aP,aW,aQ){var Y=aP.txId;var aO=RequestBlackboard.get(Y);if(S(aO)){return;}var aR=true;var aU={data:aP.data};var aY,aV;var aS=aO.cb;if(aP.status==200||aP.status==201){aU.status=au;aU.result=au;aY=au;aR=false;}else{aU.status=C;aU.result=C;if(aP.status==400){var aT=aa,aX="Invalid crumb.";aV=U;aY=C;if(!window.navigator.cookieEnabled||aQ=="badcookie"){aT=aA;aV=A;aX="Cookies are disabled";}aI[C](aT,aX);}}RequestBlackboard.setProp(Y,ae,aU);aq(Y,((aR)?Q:t),aY,aV);}function J(Y,aR,aO){var aQ=null,aP=aO||false;if(Y.resps&&Y.resps.length===0){aQ=RequestBlackboard.getByTx(aR);W.Array.each(aQ,function(aU){var aT=aa,aS=U;if(!window.navigator.cookieEnabled||(aP===true)){aT=aA;aS=A;}aI[C](aT,"A crumb error occured: ",Y);aq(aU.txId,Q,C,aS);},this);}else{W.Array.each(Y.resps,function(aS){aI[C](aa,"A crumb error occured: ",Y);aS.status=400;X(aS,ioResponseObj);},this);}delete (v[aR]);}function V(bg,aX,aO){var aT=aO||false,a7=aX.status,bb=bg,a3="",a1=C;if(a7!=200&&a7!=201&&a7!=au){if(a7===0){a1=(aX.statusText==an)?an:av;}else{a3=a;aI[C](a,"A server error occured: ",{responseObject:aX});}var a2=RequestBlackboard.getByTx(bb);W.Array.each(a2,function(bc){if(O.rData[bc.txId]){delete (O.rData[bc.txId]);}aq(bc.txId,Q,a1,a3);});}else{O.tData[bg].startParse=T();var aZ=aX.responseText;var be=aX.getResponseHeader("Content-Type");if(be.indexOf("Multipart/Related")!==-1){var a0=E.exec(be),aQ=aX.responseText.split("--"+a0[1]),ba=aQ.length;for(var a9=1;a9<ba;a9++){var aP=aQ[a9],a6=h.exec(aP),aS=a6[1];if(aS.match(/application\/json/)){var aY=aP.match(ag)[0];aZ=aY;}else{if(aS.match(/text\/html/)){var bh=at.exec(aP),bd=bh[1],aR=aP.substring(aP.search(/\n\n/));aR=Z.trim(aR);RequestBlackboard.setProp(bd,"html",aR);}}}}var aV;try{aV=window.transportEval(aZ);}catch(bf){aI[C](a,"A parse error occured: "+bf.message,bf);var a5=RequestBlackboard.getByTx(bg);W.Array.each(a5,function(bc){aq(bc.txId,Q,C,y);},this);return;}if(!B(aV)){result=C;resultDetail=y;aI[C](a,"A parse error occured: ",aX);var aW=RequestBlackboard.getByTx(bg);W.Array.each(aW,function(bc){aq(bc.txId,Q,result,resultDetail);},this);return;}switch(aV.status){case ac:try{K.dali.crumb=aV.props.dali.crumb;}catch(a8){J(aV,bg,badcoookie);return;}var aU=v[bg];if(S(aU.cfg.retries)){aU.cfg.retries=1;}else{++aU.cfg.retries;}if(aU.cfg.retries<j){var Y=k(aU.cfg,aU.forcepost);var a4=RequestBlackboard.getByTx(bg);W.Array.each(a4,function(bc){bc.transactionId=Y.id;},this);delete (v[bg]);}else{J(aV,bg,aO);}break;case 400:J(aV,bg,aO);break;default:delete (v[bg]);O.tData[bg].pr=T()-O.tData[bg].startParse;W.Array.each(aV.resps,function(bc){X(bc,aX,aT);},this);break;}}}var aj=function(){var aP=null,aO={};function Y(aU,aT,aR){var aS=(new Date())-aO[aU];O.tData[aU]={rt:aS,pr:null};V(aU,aT,aR);}function aQ(aR){aO[aR]=new Date();}return{execute:function(aT,aW,aX){if(!aP){var aV=aI.getProperty(aM);if(!S(aV)){aP=aV;}else{aP=aB;}}var aS=am+"="+encodeURIComponent(aW);aT=(aX==o)?D(aT,"&__r="+new Date().getTime()):aT;var aR={method:aX,data:aS,on:{success:Y,failure:Y,start:aQ},timeout:aP};var aU=W.io(aT,aR);return aU;},simulateResponse:function(aT,aR,aS){aR.getResponseHeader=function(){return"";};if(aS){Y(aT,aR,true);}else{Y(aT,aR,false);}},reset:function(){aO={};v={};}};}();function D(Y,aO){return Y+((Y.indexOf("?")==-1)?"?":"&")+aO;}var ax=function(Y){var aP=aE,aQ=Y.batchable||false;if(S(Y.method)){Y.method="get";}var aO=false;switch(Y.method.toUpperCase()){case ao:aO=true;var aR=Y.data;if(!aG(aR)){aI[C](aC,"data must be a string");}else{Y.data=aR;}break;case (o||"DELETE"):if(Y.data!==undefined&&aG(Y.data)){Y.url=D(Y.url,Y.data);}break;default:}return{handler:aP,data:Y,batchable:aQ,forcepost:aO,targetId:Y.url};};var aH=function(aQ,aR,Y){var aO=aQ.args||{};var aP=aQ.moduleId||null;aO.moduleId=aP;if(aO.maple){aO.maple.module=aP;}else{aO.maple={module:aP};}return{handler:aN,data:aO,batchable:aQ.batchable||false};};ad[m]=aH;ad[x]=ax;function M(aQ,aP){var aO=aP.requestObject;var Y=aO.type||I;aO=(ay(ad[Y]))?ad[Y](aO,aP.moduleId,aI):aO;aO.txId=aQ;if(Y==x&&S(aP.targetId)){aP.targetId=aO.targetId;}if(S(aO.handler)){aO.handler=aD;}return aO;}function g(aO,Y,aR){var aP={requestObject:aO,cb:Y,moduleId:aR,originId:aR};if(aO.moduleId){aP.targetId=aO.moduleId;}var aQ=RequestBlackboard.create(aP);if(aO.batchable!==true&&G===n){af(aQ);}else{aF.enqueue(aQ);if(aO.batchable===true){if(!e){e=W.later(1,this,af);}else{e.cancel();e=W.later(1,this,af);}}else{if(G===n){af();}}}return aQ;}function k(aR,aS){var aO=aI.getProperty(w);if(aL(K)){K={};K.dali=aI.getProperty("dali")||{};}var aP=W.JSON.stringify({reqs:aR,props:K});var Y="GET";if((encodeURIComponent(aP).length>ab)||aS){Y="POST";}var aQ=aj.execute(aO,aP,Y);v[aQ.id]={ioObj:aQ,cfg:aR,forcepost:aS};return aQ;}function af(aV){var aO=false;var aW=[];var aS=[];var aU=false;if(aV){var aT=RequestBlackboard.get(aV);ah.fire(b,{type:b,request:aT.requestObject,originId:aT.originId});var Y=M(aV,aT);aW.push(Y);if(Y.forcepost===true){aU=true;}RequestBlackboard.setProp(aV,"isBatch",false);aS[0]=aV;}else{if(ay(e.cancel)){e.cancel();}var aX=aF.next();while(aX){var aQ=RequestBlackboard.get(aX),aR=false;if(aQ){ah.fire(b,{type:b,request:aQ.requestObject,originId:aQ.originId});aQ=M(aX,aQ);if(aQ.batchable!==true){if(aQ.forcepost===true){aR=true;}tx=k([aQ],aR);RequestBlackboard.setProp(aX,"transactionId",tx.id);RequestBlackboard.setProp(aX,"transactionObject",tx);aO=true;}else{if(aQ.forcepost===true){aU=true;}aW.push(aQ);aS.push(aX);}}aX=aF.next();}}if(aW.length>=1){var aP=k(aW,aU);W.Array.each(aS,function(aY){RequestBlackboard.setProp(aY,"transactionId",aP.id);RequestBlackboard.setProp(aY,"transactionObject",aP);aO=true;});}}function ai(){RequestBlackboard.reset();aF.reset();aj.reset();O={tData:{},rData:{}};}W.on("unload",ai,window);W.augment(ah,W.Event.Target);W.namespace(f);W[f][N]={name:"transport",getService:function(aO,Y){if(Y){return null;}if(!aI){aI=aO;}return ah;}};if(l){l.registerService(W[f][N]);}},"1.6.1",{requires:["event","io"]});YUI.add("arcade_transport",function(e){var M=null,ag=false,H=true,S,d=e.ModulePlatform,c=M,ah,h=encodeURIComponent,m=e.Lang,k=e.Object,v=e.Array,N,F,C,G,ab=ag,P={},ad={},ai=[],w,f=ag,t,n,X=0,aj=1,r=2,u=3,B=2048,af=131072,o="_status",Z="_txnid",U="POST",z="GET",g="getProperty",R="MPServices",ac="TransportProvider";function K(L,A){c.error("transport",L,A);}function W(O){var L=M,A;switch(O.type){case"moduleload":L={_action:"show",_create:1,_suid:O.contentId};break;case"setpref":L={_action:"save",_subAction:S,_type:"pref",modid:O.moduleId,_create:1};break;case"loadview":if(O.view=="pa"){A=c.queryModules(function(ak){var Y=c.getModuleApi(ak);return Y&&Y.getProperty("type")=="pa";})[0];L={_action:"show",_subAction:"single",modId:O.moduleId,_container:0,_id:A};}else{L={_action:"show",_subAction:O.view=="default"?S:O.view,_id:O.moduleId,_container:O.chrome?1:0};}break;case"arcade":case"module":L=O.args;L._container=O.chrome?1:0;L._id=O.moduleId;break;default:K("Request doesn't have a type.");break;}O=L?e.merge(L,O):e.mix({},O);delete O.type;delete O.moduleId;delete O.args;return O;}function J(L){var A=L.match(/^((?:\w+:\/\/)?[^#?]+)/);return(A&&m.isArray(A))?A[1]:"";}function aa(L){if(!L){return"";}var A=[];k.each(L,function(Y,O){if(m.isValue(Y)){if(!m.isString(Y)){Y=e.JSON.stringify(Y);}A.push(O+"="+h(Y));}});return A.join("&");}function D(O,am,al){if(!al){K("Proxy request: No module id given, unable to look up proxy signature.");}var ak=J(O.url),Y=c.getModuleState(al).proxy[ak],L,A;if(!Y){K("Proxy request: '"+O.url+"' has not been registered for proxying.");}L=F+"?url="+h(O.url)+"&.sig="+Y+"&.crumb="+N;A={method:O.method,data:O.bodyData,on:am,headers:O.headers};return e.io(L,A);}function b(al,ap,L){if(al.type=="xhr"){return D(al,ap,L).id;}C=C?C:"/jsal";var A=C,am={method:z,on:w},ak={_crumb:N,_mode:"json"},ao,an,Y,O;if(m.isArray(al)){am.method=U;}else{al=[al];}ak[Z]=new Date().getTime();v.each(al,function(ar,aq){al[aq]=W(ar);al[aq][Z]=ak[Z];});if(am.method==z){ao=e.merge(al[0],ak);an=aa(ao);if(an.length>2000){am.method=U;}else{A=C+"?"+an;}}if(G){A+=(A.indexOf("?")>-1?"&":"?")+G;}if(am.method==U){am.data=aa(ak)+"&_json="+h(e.JSON.stringify(al));}Y=e.io(A,am);O=Y.id;P[O]={args:arguments,moduleId:L,conn:Y};if(ap){P[O].callback=ap;}return O;}function l(){if(m.isArray(n)){while(n.length>0){var A=n.shift();b.apply(this,A);}t.detach();t=n=M;}f=ag;}function i(A){f=H;if(A){n=[];t=e.on("unload",e.bind(l,this,H),window);}}function y(ak,Y,O){var L=Y.responseText,A;if(L){A=L.indexOf("<!--");if(A>0){L=L.substring(0,A);}}N=L;l();ab=ag;}function T(O,L,A){K("Unable to update crumb.");}function E(){if(ab){return ag;}ab=H;i(H);var A={success:y,failure:T,scope:this};e.io("/?_mode=html&_action=show&_type=pref&_create=1&_subAction=_cFetch",{method:z,on:A});}function q(O,Y,L){if(f){if(m.isArray(n)){var A=e.Array(arguments);n.push(A);return M;}return ag;}return b(O,Y,L);}function a(L){var A=(P[L]&&P[L].conn&&P[L].conn.isInProgress());return A;}function V(A){if(a(A)){P[A].conn.abort();}else{return false;}}function s(A){if(A&&P[A]&&P[A].args){q.apply(M,P[A].args);delete P[A];delete ad[A];return H;}return ag;}function j(ak,O,A){if(m.isUndefined(O)){O=H;}if(m.isFunction(ak)){ak(ak.argument,A);}else{var L=ak.scope||ak,Y=O?ak.success:ak.failure;if(Y){Y.call(L,A,ak.argument);}}}function x(Y,A,L){var O=P[Y].callback;if(O){j(O,L,A);}if(!m.isUndefined(ad[Y])){if(ad[Y]>1){ad[Y]-=1;}else{delete ad[Y];}}if(m.isUndefined(ad[Y])){delete P[Y];}}function Q(al,A){var L=A._errorCode,Y=A._error,ak=P[al].callback,O={message:Y,moduleId:P[al].moduleId};if(A[o]==aj){if(L==af){if(!ab){E();}s(al);}else{K(Y,O);if(O.moduleId){return;}}}if(ak){j(ak,ag,O);}}function ae(){var A=ai.shift(),O,L;if(A){O=A[Z];if(A[o]!=X){Q(O,A);}else{L=c.getService("resourcemgr");if(A.props&&A.props.id){c.registerModule(A);}if(A.res){L.load(A.res,e.bind(x,M,O,A));}else{x(O,A);}}if(ai.length){m.later(1,this,ae);}}}function I(O,L,A){setTimeout(function(){x(O,L,ag);},0);}function p(ak,Y,A){var O;try{O=e.JSON.parse(Y.responseText);}catch(L){}finally{if(!m.isArray(O)){I(ak,Y,A);return;}}v.each(O,function(am){if(am[o]!=X){Q(ak,am);return;}var al;if(am.response){al=am.response;}else{al=[am];}if(!ad[ak]){ad[ak]=0;}ad[ak]+=al.length;v.each(al,function(an,ao){an._partId=ao;an[Z]=ak;if(!an.data){an.data={};}an.data=e.merge(am.data,an.data);});ai=ai.concat(al);});if(ai.length){m.later(1,this,ae);}}ah={E_OK:X,E_FATAL:aj,E_GLOBAL:r,E_MODULE:u,EC_CRUMB_ERR:B,EC_CRUMB_STALE:af,disable:i,enable:l,isEnabled:function(){return !f;},makeRequest:q,abortRequest:V,isRequestPending:a,_reset:function(){ab=ag;P={};ad={};ai=[];n=M;l();}};w={success:p,failure:I,scope:this};e.namespace(R);e[R][ac]={name:"arcade_transport",getService:function(L,A){if(!c){c=L;N=c[g]("crumb");if(m.isUndefined(N)){N=c[g]("dali").crumb;}F=c[g]("proxyUrl");C=c[g]("requestUrlLite");G=c[g]("passthru");}return A?M:ah;}};if(d){d.registerService(e[R][ac]);}},"1.0",{requires:["event","io"]});YUI.add("metro_dali",function(b){var a=b.ModulePlatform;a.subscribe("init",function(){var f=a.getService("transport"),e=0,d="cfg.maple_dali.handler.add",c="cfg.maple_dali.handler.refresh";f.setResponseFormatter(function(g){if(g.mod){g.data=g.mod.data;}if(g.data){delete g.data.maple;}return g;});f.setRequestFormatter("arcade",function(h,i){var g=b.mix({},h),j=h._id;delete g.type;if(!j){j=i;}if(h._type){j=h._type;}return{handler:c,data:{maple:{module:j,ba:b.merge(g,{_txnid:e++,_mode:"json",_id:j,_container:0,chrome:"false"})}}};});f.setRequestFormatter("loadview",function(k,j){var g=b.mix({},k),i=a.queryModules(function(p){var o=a.getModuleApi(p);return o&&o.getProperty("type")=="pa";})[0],m,n=k.moduleId,h=n,l=a.getModuleApi(n);switch(g.view){case"pa":g={handler:c,data:{maple:{module:i,ba:{_action:"show",_subAction:"single",modId:n,chrome:(g.chrome?"true":"false"),_txnid:e++,_mode:"json",_id:i,_container:(g.chrome?1:0),data:(g.data?g.data:null),cpos:l.getProperty("cpos")||undefined,pointer:(l.isViewOpen("default")||l.isViewOpen("edit"))?1:undefined}}},batchable:true};break;case"default":if(g.chrome){if(i){m=a.queryModules(function(q){var p=a.getModuleApi(q),o=p&&p.getProperty("type");return o=="pacontainer";})[0];h=m;}g={handler:d,data:{maple:{module:h,ba:{_action:"show",chrome:(g.chrome?"true":"false"),_txnid:e++,_mode:"json",_id:h,modId:n,_container:(g.chrome?1:0),view:"default"}}}};break;}default:g={handler:c,data:{maple:{module:n,ba:{_action:"show",_subAction:g.view=="default"?undefined:g.view,view:g.view,_txnid:e++,_mode:"json",_id:n,_container:(g.chrome?1:0),chrome:(g.chrome?"true":"false")}}}};break;}delete g.moduleId;delete g.type;return g;});f.setRequestFormatter("module",function(g,h){var i=g.moduleId;if(!i){i=h;}return{handler:c,data:{maple:{module:i,ba:b.merge({_txnid:e++,_mode:"json",_id:i,_container:0},g.args)}}};});});},"1.0",{requires:["transport"]});YUI.add("module_api",function(a){a.ModuleApi=function(d,i){var h=i.props,f=a.Lang.isUndefined,b=h.id,j=i.prefs||{},g=null,c=["broadcast","listen","unlisten","closeView","getViewNode","getViewDirection","isViewOpen","navigate","openView","refreshView","setView"],e={getContextData:function(k){var m=i.data,l;if(m){l=(k?m[k]:m);}return(f(l)?g:l);},getId:function(){return b;},getProperty:function(k){var l=h[k];return f(l)?g:l;},getString:function(k){return d.getString(h.type,k);},getPref:function(k){var l=j[k];return f(l)?g:l;},setPref:function(k,l){var m=d.getService("transport");j[k]=l;if(m){m.makeRequest({type:"setpref",prefName:k,prefValue:l,moduleId:b},g,b);return true;}else{return false;}},getService:function(k){return d.getService(k,b);},error:function(k,l){d.error("module",k,a.merge((l?l:{}),{moduleId:b}));},abortRequest:function(k){var l=d.getService("transport");return !!(l&&l.abortRequest(k,b));},isRequestPending:function(k){var l=d.getService("transport");return !!(l&&l.isRequestPending(k,b));},makeRequest:function(k,m){var l=d.getService("transport");return(l?l.makeRequest(k,m,b):-1);}};a.Array.each(c,function(k){e[k]=function(){var l=a.Array(arguments,0,true);l.unshift(b);return d[k].apply(d,l);};});return e;};},"1.0");YUI.add("metro_viewtype",function(d){var c=null,b=false,a=true;d.namespace("Metro");d.Metro.createViewType=function(l,f){function k(p,o){return f.signal(p,o,[l]);}function j(o){return(o=="fp"||o=="toolbar")?d.one("body"):d.one("#"+l+"-"+o+"-bd");}function e(p){var o=j(p);return o?o.getStyle("direction"):c;}function i(q,p){var o=q.targetId,r=p?p.callback:c;this.setView(o,q.html);if(d.Lang.isFunction(r)){r(o,l);}}function n(o){return j(o)!=c;}function m(p,o,s,q){p=d.Array(p);var r=[];d.Array.each(p,function(t){r.push({type:"loadview",view:l,moduleId:t,chrome:o,data:q});});return f.getService("transport").makeRequest(r,s);}function h(p,r){var q=[],o=a;p=d.Array(p);if(p.length){d.Array.each(p,function(s){if(n(s)){var t=k(s,"viewrefresh");if(t){q.push(s);}}else{o=o&&b;}});if(o){this.loadView(q,false,{success:d.bind(i,this)},r);}}else{o=b;}return o;}function g(p,o){if(n(p)){k(p,"viewunload");j(p).set("innerHTML",o);this._afterSetView(p,o);k(p,"viewload");return a;}else{return b;}}return d.merge(d.ModulePlatform.BaseViewType,{_afterSetView:function(){},getViewDirection:e,getViewNode:j,isViewOpen:n,loadView:m,refreshView:h,setView:g});};},"1.0");YUI.add("default_viewtype",function(c){var m=c.ModulePlatform,h=null,j=false,g=true,k=c.Lang,o=c.DOM,b=j,i={},l={},d={},e,n="default",a="MPViewTypes",f="DefaultViewTypeProvider";c.on("unload",function(){b=g;},window);c.namespace(a);c[a][f]={name:n,create:function(r){function u(B,C,E){var G=r.getModuleApi(B),A=G.getProperty("detailUrl"),F,K,z,D,I,H=j,J=r.queryModules(function(N){var M=r.getModuleApi(N),L=M&&M.getProperty("type");return L=="pacontainer";})[0];switch(C){case"badcrumb":E=r.getProperty("crumbErrorHtml");H=g;break;case"nocookies":E=r.getProperty("cookieErrorHtml");break;default:if(!E){E=c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:G.getProperty("title"),img:G.getProperty("icon"),title:G.getProperty("title"),url:G.getProperty("detailUrl")});}}F=E.indexOf('id="default-'+B+'"')>-1?E:c.Lang.substitute(r.getProperty("modChromeHtml"),{html:E,type_name:G.getProperty("type"),view_name:"error"});K=E.indexOf('id="default-'+J+'"')>-1?F:c.Lang.substitute(r.getString("pa","pacontainerHtml"),{html:F,title:G.getProperty("title")});z=o.create(K);if(!A){o.addClass(z,"no-link");}if(H){D=o.create('<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+r.getString("pa","STR.OK")+"</a></p>");}else{if(e!=B){D=o.create('<p class="oops"><button class="cta-btn pa-mod-err-retry">'+r.getString("pa","STR.TRY_AGAIN")+"</button></p>");}}if(D){I=c.Selector.query(".oops-msg",z,g);if(I){I.appendChild(D);}}e=B;return z;}function v(A,z){if(k.isFunction(A)){A(z,n);}}function p(A){var z=r.getService("pa");return !!(z&&z.isPAModule(A));}function x(A,z){return r.signal(A,z,[n]);}function t(B){if(p(B)){var z=r.getModuleApi(B),C=z.getProperty("type"),A=r.getString("pa","STR.PA.DISCLAIMER"),D;if(A&&!z.getProperty("trusted")&&C!="yap"){D=c.one("#default-"+B+"-ft");if(D){D.set("innerHTML",A);}}}}function q(D,A){var C=r.getService("pa"),E=C.getPacontainerId(),B=r.getService("metrics"),z;if(B){B.start("rv",{moduleId:D});}z=o.create(A);if(z&&!z.length){if(!r.isStarted(E)){r.start(E);}C.setChild(z,D);t(D);C.setModuleLoading(j);x(E,"viewload");i[D]=z;}else{r.error("loadview","Invalid HTML received",{moduleId:D});}if(B){B.stop("rv");}}function w(B,C,z){var A=r.getService("pa"),D=A.getPacontainerId();if(!r.isStarted(D)){r.start(D);}A.setChild(u(B,C,z),B,C);A.setModuleLoading(j);x(D,"viewload");}function y(E,B){var C=E.targetId,A=l[C],H=B?B.callback:h,G=r.getService("metrics"),D=r.getService("transport"),F=E.html,z;if(G){z=D.getMetrics(A);if(z){if("rt" in z){G.set("rt",z.rt);}if("pr" in z){G.set("pr",z.pr);}if("dt" in z){G.set("js",z.dt);}}D.clearMetrics();G.stop("ov");}q(C,F);delete l[C];delete d[C];v(H,C);}function s(C,B){if(!b){var A=C.targetId,D=B?B.callback:h,z;d[A]=1;delete l[A];if(C.result!="abort"){z=r.getService("metrics");if(z){z.clear("ov");}r.error("loadview","Server error while loading default view.",{moduleId:A,html:(C?C.html:""),viewName:n});w(A,C.resultDetail,C.html);v(D,A);}}}return c.merge(c.Metro.createViewType(n,r),{closeView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z=(A&&p(B))?C:B;if(this.isViewOpen(B)&&x(z,"viewclose")){x(z,"viewunload");if(z==C){delete i[B];A.clearChild(B);}v(D,B);return g;}else{if(k.isNumber(l[B])){r.getService("transport").abortRequest(l[B]);delete l[B];}}return j;},hideView:function(A){var z=r.getService("pa"),B=z&&z.getPacontainerId();if(z&&p(A)&&this.isViewOpen(A)){this.getViewNode(A).get("parentNode").setStyle("display","none");x(B,"viewresize");return g;}return j;},openView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z;if(A&&p(B)&&!this.isViewOpen(B)&&x(C,"viewopen")){z=r.getService("metrics");if(z){z.start("ov",{moduleId:B});}l[B]=this.loadView(B,g,{success:y,failure:s,argument:{moduleId:B,callback:D}});return l[B]!=-1;}else{return j;}},showView:function(A){var z=r.getService("pa"),B=z&&z.getPacontainerId();if(z&&p(A)&&this.isViewOpen(A)){this.getViewNode(A).get("parentNode").setStyle("display","");x(B,"viewresize");return g;}return j;},_afterSetView:function(A,z){t(A);}});}};if(m){m.registerViewType(c[a][f]);}},"1.0");YUI.add("edit_viewtype",function(c){var p=null,m=false,i=true,k=c.ModulePlatform,s=p,g=m,r,e=p,f={},h="viewload",o="edit",j="MPViewTypes",a="EditViewTypeProvider";function n(u,t){return s.signal(u,t,[o]);}function d(w,v){var u=w.targetId,t=s.getService("pa");if(t){g=m;r.setView(t.getPacontainerId(),w.html);if(c.Lang.isFunction(v.callback)){v.callback(u,o);}}}function b(w,v){var u=w.targetId,x=v?v.callback:p,t=s.getService("pa");delete f[u];g=m;e=c.DOM.create(w.html);if(e&&!e.length){s.hideView(u,"default");s.getViewNode(u,"default").get("parentNode").insert(e,"after");t.setModuleLoading(m);n(u,h);if(c.Lang.isFunction(x)){x(u,o);}}else{s.error("loadview","Invalid HTML received",{moduleId:u});}}function q(u){var t=s.getModuleApi(u);return c.Lang.substitute(s.getProperty("modErrorHtml"),{message:s.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:t.getProperty("title"),img:t.getProperty("icon"),title:t.getProperty("title"),url:t.getProperty("detailUrl")});}function l(w,v){var u=w.targetId,x=v?v.callback:p,t=s.getService("pa");g=m;s.error("loadview","Server error while loading edit view.",{moduleId:u,html:(w?w.html:""),viewName:o});delete f[u];if(t){t.setModuleLoading(m);t.showAppError(q(u));}if(c.Lang.isFunction(x)){x(u,o);}}r={closeView:function(u,w){var t=s.getService("pa"),v=t?t.getPacontainerId():p;if(t&&this.isViewOpen(u)&&n(v,"viewclose")){n(v,"viewunload");e.parentNode.removeChild(e);s.showView(u,"default");if(c.Lang.isFunction(w)){w(u,o);}return i;}else{if(c.Lang.isValue(f[u])){s.getService("transport").abortRequest(f[u]);delete f[u];}else{return m;}}},getViewNode:function(t){return c.Node.get("#edit-"+t+"-bd");},isViewOpen:function(t){return this.getViewNode(t)!=p;},loadView:function(t,u){g=i;return s.getService("transport").makeRequest({type:"loadview",view:"edit",moduleId:t,chrome:true},u);},openView:function(u,w){var t=s.getService("pa"),v=t&&t.getPacontainerId();if(t&&t.isPAModule(u)&&!this.isViewOpen(u)&&!g&&n(v,"viewopen")){f[u]=this.loadView(u,{success:b,failure:l,argument:{moduleId:u,callback:w}});return f[u]!=-1;}else{return m;}},refreshView:function(v){if(this.isViewOpen(v)){var t=s.getService("pa"),w=t&&n(t.getPacontainerId(),"viewrefresh"),u;if(w){u={type:"loadview",view:o,moduleId:v,chrome:false};s.getService("transport").makeRequest(u,{success:d,argument:v});}return w;}else{return m;}},setView:function(u,t){if(this.isViewOpen(u)){n(u,"viewunload");this.getViewNode(u).set("innerHTML",t);n(u,h);return i;}else{return m;}},showView:function(t){return m;}};c.namespace(j);c[j][a]={name:o,create:function(t){s=t;return r;}};if(k){k.registerViewType(c[j][a]);}},"1.0");YUI.add("pa_viewtype",function(e){var d=e.ModulePlatform,c="pa",b="MPViewTypes",a="DefaultViewTypeProvider";e.namespace(b);e[b][a]={name:c,create:function(f){return e.Metro.createViewType(c,f);}};if(d){d.registerViewType(e[b][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("userinfo_service",function(g){var d=null,c=g.ModulePlatform,a=d,f,b="MPServices",e="UserInfoProvider";f={getDisplayName:function(){return a.getProperty("user");},isLoggedIn:function(){return !!a.getProperty("user");},getLocation:function(){var i={},l=a.getProperty("userLocation"),j=["zip","city","state","country","woeid","lat","lon"],h=j.length,k;if(l){while((k=j[--h])){i[k]=l[k]||null;}}return i;}};g.namespace(b);g[b][e]={name:"userinfo",getService:function(i,h){if(!a){a=i;}return f;}};if(c){c.registerService(g[b][e]);}},"1.0");if(typeof YAHOO=="undefined"){YAHOO={};}if(!YAHOO.ULT){YAHOO.ULT={};}if(!YAHOO.ULT.BEACON){YAHOO.ULT.BEACON="http://geo.yahoo.com/t";}if(!YAHOO.ULT.IMG){YAHOO.ULT.IMG=new Image();}YAHOO.ULT.SRC_SPACEID_KEY="_S";YAHOO.ULT.DEST_SPACEID_KEY="_s";YAHOO.ULT.YLC_LIBSRC=2;YAHOO.ULT.CTRL_C="\x03";YAHOO.ULT.CTRL_D="\x04";YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-";(function(){YAHOO.ULT.track_click=function(c,g){if(!c||!g){return c;}g._r=YAHOO.ULT.YLC_LIBSRC;var h=[];var d=0;for(var b in g){var a=g[b];if(typeof(a)=="undefined"){a=g[b]="";}if(b.length<1){return c;}if(b.length>8){return c;}if(b.indexOf(" ")!=-1){return c;}if(YAHOO.ULT.has_ctrl_char(b)||YAHOO.ULT.has_ctrl_char(a)){return c;}h[d++]=b;}h=h.sort();var e=[];for(d=0;d<h.length;d++){e[d]=h[d]+YAHOO.ULT.CTRL_C+g[h[d]];}e=e.join(YAHOO.ULT.CTRL_D);if(e.length<1||e.length>1024){return c;}e=";_ylc="+YAHOO.ULT.encode64(e);d=c.indexOf("/*");if(d==-1){d=c.indexOf("/?");}if(d==-1){d=c.indexOf("?");}if(d==-1){return c+e;}else{return c.substr(0,d)+e+c.substr(d);}};YAHOO.ULT.beacon_click=function(c,b){if(!b){b=YAHOO.ULT.IMG;}if(c){var a=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,c);a+="?t="+Math.random();b.src=a;}return true;};YAHOO.ULT.has_ctrl_char=function(b){for(var a=0;a<b.length;a++){if(b.charCodeAt(a)<32){return true;}}return false;};YAHOO.ULT.encode64=function(c){var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+YAHOO.ULT.BASE64_STR.charAt(j)+YAHOO.ULT.BASE64_STR.charAt(g)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(d);k=h=f="";j=g=e=d="";}while(b<c.length);return a;};})();YUI.add("instrumentation",function(c){var v=null,q=false,j=c.ModulePlatform,y=v,t=v,z=v,k=v,x=q,e=v,i={},g,s,w="getProperty",p="data-b",o="aria-disabled",h="MPServices",m="InstrumentationProvider";function d(){var A=new Image();A.id=c.guid();i[A.id]=A;A.onload=A.onerror=function(){delete i[this.id];};return A;}function n(D){var B=D.hasAttribute(p)?D:D.ancestor(function(E){return E.hasAttribute(p);}),A=D.getAttribute(o)=="true",C=B?B.getAttribute(o)=="true":q;if(B&&!D.hasClass("nobeacon")&&!A&&!C){return B.getAttribute(p);}else{return v;}}function a(C,A){if(C instanceof c.Node){C=n(C);}if(!C){return;}var B=d();if(c.Lang.isObject(C)){if(!C[YAHOO.ULT.SRC_SPACEID_KEY]){C[YAHOO.ULT.SRC_SPACEID_KEY]=t;}if(A){YAHOO.ULT.BEACON=YAHOO.ULT.BEACON+";"+A;}YAHOO.ULT.beacon_click(C,B);if(A){YAHOO.ULT.BEACON=k;}}else{if(A){C+=";"+A;}B.src=(z||YAHOO.ULT.BEACON)+";"+C+"?t="+(new Date()).getTime();}}function l(C){if(x){return;}var B=y.getProperty("ylp"),A=d();if(!B){return;}if(!C){return;}A.src=(z||YAHOO.ULT.BEACON)+";"+B+"?t="+(new Date()).getTime()+"&"+C;x=true;}function r(B){if(e){return;}var A=n(B);if(A){e=A;}else{}}function u(){e=v;}function b(){return(e!==v);}function f(){if(e){a(e);e=v;}}g={fireBeacon:a,fireUltBeacon:a};s={collectData:r,fireBeacon:a,fireUltBeacon:a,firePageParameterBeacon:l,clearPendingBeacons:u,firePendingBeacons:f,hasPendingBeacons:b};c.namespace(h);c[h][m]={name:"instrumentation",getService:function(B,A){if(!y){y=B;t=y[w]("ultSpaceId");z=y[w]("ultBeaconHost");if(z){YAHOO.ULT.BEACON=z;}k=YAHOO.ULT.BEACON;}return(!A||y.getModuleApi(A)[w]("trusted")?s:g);}};if(j){j.registerService(c[h][m]);}});YUI.add("metrologger",function(b){var j=b.ModulePlatform,c,k="/jserror",g="/perf.gif",h=k,i={},f,d="MPServices",a="MetroLoggerProvider";function e(o,n){var m=new Image(),l="",p=b.merge(o,{rid:c.getProperty("requestId")});m.id=b.guid();i[m.id]=m;m.onload=m.onerror=function(){delete i[this.id];};b.Object.each(p,function(r,q){l+=encodeURIComponent(q)+"="+encodeURIComponent(r)+"&";});m.src=n+"?"+l;return l;}f={logError:function(m,l){e({moduleId:m,msg:l},k);},logPAPerf:function(l){e(l,g);},logAd:function(l){var m=e(l,h);}};b.namespace(d);b[d][a]={name:"metrologger",getService:function(m,l){if(!c){c=m;}return(!l||m.getModuleApi(l).getProperty("trusted")?f:null);}};if(j){j.registerService(b[d][a]);}});YUI.add("ads_bridge_service",function(b){var m=b.config,c=m.win,g=m.doc.documentElement,n=b.DOM,j="ad-takeover",h="ad-running",d=false,i,k=b.ModulePlatform,f="MPServices",a="AdsBridgeProvider",e,l;c.ad_running=function(q){if(d){return false;}var p=g.className.match(/[^\-](bkt\d+)/),o=p&&p[1]?h+"-"+p[1]:"",r=q?n.addClass:n.removeClass;r(g,h);r(g,o);return true;};c.ad_takeover=function(q){if(d){return false;}var p=g.className.match(/[^\-](bkt\d+)/),o=p&&p[1]?j+"-"+p[1]:"",r=q?n.addClass:n.removeClass;r(g,j);r(g,o);return true;};c.ad_feature_active=function(){return d;};c.ad_user_info=function(){var o=null;if(l){o={loc:l.getLocation()||null};}return o;};i={MODULE_ACTIVE:"moduleactive",fire:function(o){var p=c.ad_action;if(o.type==this.MODULE_ACTIVE){d=!!o.active;}if(b.Lang.isFunction(p)){p(b.merge({detail:{}},o));}}};b.namespace(f);b[f][a]={name:"ads_bridge",getService:function(p,o){if(!e){e=p;l=e.getService("userinfo");}return i;}};if(k){k.registerService(b[f][a]);}});YUI.add("autohide_service",function(h){var f=h.ModulePlatform,b={},e=-1,a,c="MPServices",g="AutoHideProvider";a={register:function(i){b[++e]=i;if(!i.triggers){i.triggers=["click"];}return e;},unregister:function(i){delete b[i];}};function d(i){h.Object.each(b,function(n){if(h.Array.indexOf(n.triggers,i.type)>-1){var o=i.target,k=n.targets,l=true,m=0,j=k.length;if(!o.inDoc(document)){l=false;}else{for(;m<j&&l;m++){if(o.compareTo(k[m])||k[m].contains(o)){l=false;}}}if(l){n.hide();}}});}h.on("click",d,document);h.on("keydown",d,document);h.on("unload",function(){h.detach("click",d,document);h.detach("keydown",d,document);},window);h.namespace(c);h[c][g]={name:"autohide",getService:function(){return a;}};if(f){f.registerService(h[c][g]);}},"1.0");YUI.add("sethomepage_service",function(a){var B=null,w=false,h=true,n=a.ModulePlatform,C,q,j=a.Cookie,p=a.UA,g="MPServices",s="SetHomepageProvider",b="m.",e="click",f="HP",i="ilc",c="keydown",o=27,k="mousedown",y="y-hpset-show",l,A;function t(D){j.set(i,D,{domain:q});}function r(){return j.get(i);}function v(E,D){j.set(f,D,{domain:".yahoo.com"});if(E){t(E);}}function m(){return j.get(f);}function u(D){D=!a.Lang.isUndefined(D)?D:r();var E=window.location.host;if(E.indexOf(b)===0){E=E.substring(2);}return"http://"+E+"/"+(D?"?ilc="+D:"");}function d(E){var D,F=w;if(l){D=u(E);l.setHomePage(D);F=l.isHomePage(D);if(F){v(E,"1");}}return F;}function z(E){var D,F=w;if(j.get(f)==1){F=h;}else{if(p.ie){if(window.location.host.indexOf(b)===0){F=window.history.length==1;}else{D=u(E);F=l.isHomePage(D);}}else{if((p.gecko||p.webkit)&&window.history.length==1){F=h;}else{if(p.opera&&window.history.length===0){F=h;}}}}return F;}function x(F,E){var D;F=a.Node.get(F);E=E||{};F.on(e,this._handleClick,this);F.on(c,this._handleKeydown,this);F.on(k,this._handleMousedown,this);D=E.autohideTargets||[];D.push(F);this.autohide=C.getService("autohide");this.autohideId=this.autohide.register({targets:D,hide:a.bind(this.hide,this)});this.instrumentation=C.getService("instrumentation");this.overlay=F;this.options=E;}x.prototype={autohide:B,autohideId:B,instrumentation:B,options:B,overlay:B,_handleClick:function(E){var D=E.target;if(D.hasClass("hs-close")){this.hide();}else{if(D.hasClass("hs-drag-icon")){E.preventDefault();}}},_handleMousedown:function(D){if(D.target.hasClass("hs-drag-icon")){v(this.options.ilc,"1");this.instrumentation.fireBeacon(this.options.dragBeacon);}},_handleKeydown:function(D){if(D.keyCode==o){this.hide();}},getRootNode:function(){return this.overlay;},hide:function(){this.overlay.removeClass(y);},show:function(){var D=this.overlay,E=D.one("h3");D.addClass(y);E.setAttribute("tabIndex","-1").focus();},toggle:function(){if(this.overlay.hasClass(y)){this.hide();}else{this.show();}},destroy:function(){var D=this.overlay;this.hide();D.detach(e,this._handleClick);D.detach(c,this._handleKeydown);D.detach(k,this._handleMousedown);this.autohide.unregister(this.autohideId);this.overlay=B;}};A={createOverlay:function(E,D){return new x(E,D);},isHomepageSet:z,getHpCookie:m,setHpCookie:v,getIlcCookie:r,setIlcCookie:t,setIEHomepage:d};a.namespace(g);a[g][s]={name:"sethomepage",getService:function(E,D){if(!C){C=E;q=C.getProperty("cookieDomain");}if(a.UA.ie&&!l){l=document.createElement("DIV");l.id="y-ieshp";l.style.behavior="url(#default#homepage)";document.body.appendChild(l);}return A;}};if(n){n.registerService(a[g][s]);}},"1.0");YUI.add("metrics_service",function(e){var c=e.ModulePlatform,b={},f,a="MPServices",d="MetricsProvider";f={clear:function(g){delete b[g+":start"];delete b[g+":total"];delete b[g+":data"];},getData:function(g){return b[g+":data"]||null;},getTotal:function(g){return b[g+":total"];},start:function(g,h){b[g+":start"]=+new Date();b[g+":data"]=h;},stop:function(g){b[g+":total"]=(new Date())-b[g+":start"];delete b[g+":start"];this.fire({type:"datapoint",name:g,total:this.getTotal(g),data:this.getData(g)});return this.getTotal(g);},set:function(g,h,i){b[g+":total"]=h;b[g+":data"]=i;this.fire({type:"datapoint",name:g,total:h,data:i});}};e.augment(f,e.Event.Target);e.namespace(a);e[a][d]={name:"metrics",getService:function(g,h){return f;}};if(c){c.registerService(e[a][d]);}});YUI.add("metro_performance",function(c){var a=c.ModulePlatform,b=a.getService("metrics");b.subscribe("datapoint",function(e){if(e.name=="rv"){if(!isNaN(b.getTotal("ov"))){var d=b.getData("ov").moduleId;a.getService("metrologger").logPAPerf({moduleId:d,suid:d.split("_")[1],rt:b.getTotal("rt"),ov:b.getTotal("ov"),rv:b.getTotal("rv"),pr:b.getTotal("pr"),js:b.getTotal("js")});b.clear("rt");b.clear("ov");b.clear("rv");b.clear("pr");b.clear("js");}}});});YUI.add("gallery-base64",function(b){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.Base64={decode:function(h){h=h.replace(/\s/g,"");if(!(/^[a-z0-9\+\/\s]+\={0,2}$/i.test(h))||h.length%4>0){throw new Error("Not a base64-encoded string.");}var g,e,f,d=0,c=[];h=h.replace(/\=/g,"");while(d<h.length){g=a.indexOf(h.charAt(d));f=d%4;switch(f){case 1:c.push(String.fromCharCode(e<<2|g>>4));break;case 2:c.push(String.fromCharCode((e&15)<<4|g>>2));break;case 3:c.push(String.fromCharCode((e&3)<<6|g));break;}e=g;d++;}return c.join("");},encode:function(h){if(/([^\u0000-\u00ff])/.test(h)){throw new Error("Can't base64 encode non-ASCII characters.");}var e=0,g,f,d,c=[];while(e<h.length){g=h.charCodeAt(e);d=e%3;switch(d){case 0:c.push(a.charAt(g>>2));break;case 1:c.push(a.charAt((f&3)<<4|(g>>4)));break;case 2:c.push(a.charAt((f&15)<<2|(g>>6)));c.push(a.charAt(g&63));break;}f=g;e++;}if(d===0){c.push(a.charAt((f&3)<<4));c.push("==");}else{if(d==1){c.push(a.charAt((f&15)<<2));c.push("=");}}return c.join("");}};},"@VERSION@");YUI.add("gallery-y64",function(b){var a=b.Base64;b.Y64={decode:function(c){c=c.replace(/\s/g,"");if(!(/^[a-z0-9\._\s]+\-{0,2}$/i.test(c))||c.length%4>0){throw new Error("Not a Y64-encoded string.");}c=c.replace(/[\._\-]/g,function(d){switch(d){case".":return"+";case"-":return"=";case"_":return"/";}});return a.decode(c);},encode:function(d){if(/([^\u0000-\u00ff])/.test(d)){throw new Error("Can't Y64 encode non-ASCII characters.");}var c=a.encode(d);c=c.replace(/[\+=\/]/g,function(e){switch(e){case"+":return".";case"=":return"-";case"/":return"_";}});return c;}};},"@VERSION@",{requires:["gallery-base64"]});YUI.add("rdsig_click",function(g){var f="href",h="data-ultlink",d="false",a=document.body;function e(i){return i.tagName.toUpperCase()=="A";}function b(j){j=j||window.event;var k=j.target||j.srcElement,i;if(k.tagName.toUpperCase()!="A"){k=g.DOM.ancestor(k,e);}if(k){i=k.getAttribute(h);if(i){k.href=i;}}}function c(j){j=j||window.event;var l=j.target||j.srcElement,i,m,k;if(!l||!l.tagName){return;}if(l.tagName.toUpperCase()!="A"){l=g.DOM.ancestor(l,e);}if(l){i=l.getAttribute(f);if(i){k=i.match(/\/RU=(.*)\//);m=(k&&k[1])?k[1]:null;if(m){m=g.Y64.decode(m);l.setAttribute(h,i);l.href=m;}}}}if(a.addEventListener){a.addEventListener("click",b,d);a.addEventListener("contextmenu",c,d);}else{a.attachEvent("onclick",b);a.attachEvent("oncontextmenu",c);}},"1.0",{requires:["gallery-y64"]});YUI.add("yui_service",function(e){var c=e.ModulePlatform,b=YUI({core:["yui-base","object","oop"],useBrowserConsole:e.config.useBrowserConsole,bootstrap:e.config.bootstrap}).use("yui-untrusted"),a="MPServices",d="YUIProvider";b.log=b.bind(e.log,e);delete b.use;if(e.Plugin&&e.Plugin.NodeFX){e.Node.plug(e.Plugin.NodeFX);}e.namespace(a);e[a][d]={name:"yui",getService:function(f,h){if(!h){return e;}else{var g=f.getModuleApi(h);return(g&&g.getProperty("trusted")?e:b);}}};if(c){c.registerService(e[a][d]);}},"1.0");YUI.add("aria_service",function(d){var i=d.ModulePlatform,g="MPServices",a="AriaProvider",c,f,h="aria-",e={hidden:["hide","show","isHidden"],disabled:["disable","enable","isDisabled"],selected:["select","unselect","isSelected"]},b=(d.UA.ie>=8||d.UA.gecko>=1.9||d.UA.webkit>=530);f={isSupported:function(){return b;},setRole:function(j,k){return j.setAttribute("role",k);},alert:function(m,j){var n=document,l,k;j=d.Node.getDOMNode(j)||n.body;if(b&&m){k=j.firstChild;while(k){if(d.DOM.hasClass(k,"aria-alert")){l=k;break;}k=k.nextSibling;}if(!l){l=n.createElement("div");l.role="alert";l.setAttribute(h+"live","assertive");l.className="hide-offscreen aria-alert";j.appendChild(l);}l.innerHTML="<p>"+m+"</p>";}this.update();},update:function(){if(!c){c=document.createElement("input");c.type="hidden";c.value=1;document.body.appendChild(c);}c.value=(c.value==1?0:1);},clearState:function(j,k){return j.removeAttribute(h+k);},hasState:function(k,l){var j=h+l;return k.hasAttribute?k.hasAttribute(j):k.getAttribute(j)!==null;},setState:function(j,k){j.setAttribute(h+k,true);},focusable:function(k,j){k.tabIndex=j?0:-1;}};d.Object.each(e,function(j,k){f[j[0]]=function(l){return f.setState(l,k);};f[j[1]]=function(l){return f.clearState(l,k);};f[j[2]]=function(l){return f.hasState(l,k);};});d.namespace(g);d[g][a]={name:"aria",getService:function(k,j){return f;}};if(i){i.registerService(d[g][a]);}},"1.0");YUI.add("tablist_service",function(a){var t=null,i=true,q=false,l=a.ModulePlatform,p="tab",c="tabpanel",v="data-pos",g="selected",n="href",u="click",f="keydown",e="aria-labelledby",d="tab",w=37,j=39,s=a.DOM,r=a.Selector,b,o=q,h="MPServices",m="TabListProvider";function k(z,x,y){x=x||{};this.node=a.one(z);this._tabQuery="li.tab";this.options=x;this._panels=x.panels;this._panel=x.panel;this._tabs=null;this._selectedIndex=-1;this._links=[];this._id=a.guid();this._moduleId=y;this._stickyKey=x.stickyKey||d;this._init();}k.prototype={_init:function(){if(!this.node){l.error("TabList","Invalid node passed into TabList.");}if(!b){b=l.getService("aria");o=b.isSupported();}b.setRole(this.node,"tablist");var z=this.node,A=a.Node.getDOMNode(z),G=r.query(this._tabQuery,A),E=this._panels?a.NodeList.getDOMNodes(this._panels):t,C,B=0,D,y,F,x;if(!G.length){G=r.query("li",A);this._tabQuery="li";}this._tabs=G;for(D=G.length;B<D;B++){y=G[B];y.setAttribute(v,B);if(y.id===""){y.id=a.guid();}F=s.firstByTag("a",y);this._links.push(F.getAttribute(n,2));if(o){b.setRole(y,"presentation");b.setRole(F,p);b.focusable(F,q);F.removeAttribute(n);if(E){x=E[B];b.setRole(x,c);b.focusable(x,q);x.setAttribute(e,y.id);if(!s.hasClass(y,g)){b.hide(x);}else{b.focusable(x,i);}}}if(s.hasClass(y,g)){this._selectedIndex=B;b.focusable(F,i);}}if(this._panel){x=this._panel;b.focusable(x,i);b.setRole(x,c);x.setAttribute(e,G[this._selectedIndex].id);}if(o){z.on(f,this._handleKeyDown,this);}z.on(u,this._handleMouseEvent,this);C=this.options.tabchange||l.getProperty("ui.tabchange");if(C&&C!=u){z.on(C,this._handleMouseEvent,this);}},_handleMouseEvent:function(z){var A=z.target,y=(A.get("tagName")=="LI")?A:A.ancestor("LI"),x;if(y&&y.hasAttribute(v)){x=Number(y.getAttribute(v));z.preventDefault();if(z.type==u&&this.options.enableSelectedTabLink&&x==this._selectedIndex){z.stopPropagation();location.href=this._links[x];}this.switchTo(x);}},_handleKeyDown:function(x){switch(x.keyCode){case j:this.next();break;case w:this.previous();break;}},destroy:function(){var x=this.node;if(o){x.detach(f,this.handleKeyDown);}x.detach(u,this.handleClick);this.unsubscribeAll();a.Object.each(this,function(z,y){delete this[y];},this);},getSelectedIndex:function(){return this._selectedIndex;},getTabNode:function(x){return a.one(this._tabs[x]);},getTabNodes:function(){return this.node.queryAll(this._tabQuery);},getTabPanelNode:function(x){return this._panels.item(x);},getTabUrl:function(x){return this._links[x];},next:function(x){if(this._selectedIndex<this._tabs.length-1){this.switchTo(this._selectedIndex+1);}else{if(x){this.switchTo(0);}}},previous:function(x){if(this._selectedIndex>0){this.switchTo(this._selectedIndex-1);}else{if(x){this.switchTo(this._tabs.length-1);}}},switchTo:function(I){if(I!=this._selectedIndex){var G=this._tabs,H=this._selectedIndex,z=G[H],y=G[I],E=G.length,F=this._panels,x=this._panel,C=0,K,J,B,A,D;this.fire({type:"beforetabchange",toIndex:I,fromIndex:H});s.removeClass(z,g);if(o){while(C<E){B=s.firstByTag("a",G[C]);if(G[C]!==y){b.focusable(B,q);b.unselect(B);}else{b.focusable(B,i);b.select(B);B.focus();}C++;}}s.addClass(y,g);if(F&&F.size()>1){K=F.item(H);J=F.item(I);K.toggleClass(g);J.toggleClass(g);if(o){b.hide(K);b.focusable(K,q);b.show(J);b.focusable(J,i);}}else{if(x){x.setAttribute(e,y.id);}}this._selectedIndex=I;if(this.options.sticky){A=l.getModuleApi(this._moduleId);if(A){D=A.getService("statemgr");if(D){D.setUserModuleState(this._stickyKey,I);}}}this.fire({type:"tabchange",toIndex:I,fromIndex:H});}}};a.augment(k,a.Event.Target);a.namespace(h);a[h][m]={name:"tablist",getService:function(y,x){return{create:function(A,z){return new k(A,z,x);}};}};if(l){l.registerService(a[h][m]);}},"1.0");YUI.add("iframeshim_service",function(c){var k=c.ModulePlatform,j=c.Node,p=c.Lang.isNumber,e,f="MPServices",a="IFrameShimProvider",o='<iframe class="y-iframe-shim" tabindex="-1" role="presentation" title="For presentation purposes. Please ignore." src="javascript:false"></iframe>',m="auto",g="display",i="parentNode",h="px",n="zIndex",l,b;function d(){var q=j.create(o);q.setStyle("frameBorder","0");q.setStyle("opacity",0);return q;}l=function(q){this.target=null;this.iframe=d();this.retarget(q);};l.prototype={show:function(){this._positionIFrame();this.iframe.setStyle(g,"block");},hide:function(){this.iframe.setStyle(g,"none");},retarget:function(q){this.hide();this.target=j.get(q);this._attachIFrame();},destroy:function(){this.iframe.get(i).removeChild(this.iframe);this.iframe=this.target=null;},_attachIFrame:function(){var r=this.iframe,q=r.get(i),s=this.target;if(s){s.get(i).insertBefore(r,s);}else{if(q){q.removeChild(r);}}},_positionIFrame:function(){if(!this.target){return;}var r=this.iframe,t=this.target,q=parseInt(t.getStyle("top"),10),v=parseInt(t.getStyle("left"),10),u=t.get(n),s=t.get("region");r.setStyles({top:p(q)?q+h:m,left:p(v)?v+h:m,width:s.width+h,height:s.height+h});if(p(u)){r.setStyle(n,u-1);}}};b={create:function(q){return new l(q);},isShimNeeded:function(){return c.UA.ie>5&&c.UA.ie<7;}};c.namespace(f);c[f][a]={name:"iframeshim",getService:function(r,q){if(!e){e=r;}return b;}};if(k){k.registerService(c[f][a]);}},"1.0");YUI.add("menu_service",function(b){var v=false,j=true,z=null,l=b.ModulePlatform,r="data-pos",e="selected",k="px",s="LI",i="visibility",t=38,d=40,n=27,g=13,c,u,a,q=v,m=[],o=b.Lang.isNumber,y=b.DOM,w,h="MPServices",p="MenuProvider";function x(){b.Array.each(m,function(A){A.hide();});}function f(B,A){this.node=b.one(B);this.options=A||{};this._items=[];this._selectedIndex=-1;this._visible=v;this._id=-1;this._shim=z;this._autohideId=-1;this._autohideTimer=z;this._init();}f.prototype={_init:function(){if(!c){c=l.getService("aria");q=c.isSupported();}var E=this.node,C=b.Node.getDOMNode(E),B=C.firstChild,F=0,A,D;while(B){if(B.nodeType==3){A=B.nextSibling;C.removeChild(B);B=A;}else{D=b.one(y.firstByTag("a",B));this._items.push({element:B,linkElement:D,url:D.get("href")});if(q){c.setRole(B,"presentation");c.setRole(D,"menuitem");c.focusable(D,v);D.removeAttribute("href");}if(!B.id){B.id=b.guid();}B.setAttribute(r,F);B=B.nextSibling;F++;}}if(u.isShimNeeded()){this._shim=u.create(E);}if(q){c.setRole(E,"menu");c.hide(E);}E.on("keydown",this._handleKeyDown,this);E.on("click",this._handleMouseEvents,this);E.on("mouseover",this._handleMouseEvents,this);this._id=m.length;m.push(this);},hide:function(A){if(this._visible){var D=this._shim,B=this.node,C=this.options.focusNode;B.setStyle(i,"hidden");c.hide(B);this._visible=v;if(D){D.hide();}this._clearAutohide();this.fire({type:"hide",target:this});if(A&&C){b.one(C).focus();}}},isVisible:function(){return this._visible;},show:function(A,F,D){if(!this._visible){x();var E=A.left,C=A.right,B=this.node,G=this._shim;D=D||k;if(o(E)){B.setStyle("left",E+D);}else{if(o(C)){B.setStyle("right",C+D);}}B.setStyle("top",A.top+D).setStyle(i,"visible");if(F){this.options.focusNode=F;}if(q){c.show(B);}this.select(0);if(G){G.show();}this._visible=j;this.fire({type:"show",target:this});this._clearAutohide();this._autohideTimer=b.later(50,this,function(){this._autohideTimer=z;this._autohideId=a.register({targets:[this.node],hide:b.bind(function(){this.hide();},this)});});}},_clearAutohide:function(){var A=this._autohideTimer;a.unregister(this._autohideId);if(A){A.cancel();this._autohideTimer=z;}},_handleMouseEvents:function(C){var D=C.target,B=(D.get("tagName")==s)?D:D.ancestor(s),A=-1;if(B&&B.hasAttribute(r)){C.preventDefault();A=Number(B.getAttribute(r));switch(C.type){case"click":this.execute(A);break;case"mouseover":this.select(A);break;default:}}},_handleKeyDown:function(C){var D=C.target,B=(D.get("tagName")==s)?D:null,A=v;switch(C.keyCode){case d:this.selectNext(j);A=j;break;case t:this.selectPrevious(j);A=j;break;case n:this.hide(j);break;case g:if(B){this.execute(Number(B.getAttribute(r)));}break;default:}if(A){C.preventDefault();}},destroy:function(){var A=this.node,B=this._shim;if(q){A.detach("keydown",this._handleKeyDown);}A.detach("click",this._handleMouseEvents);A.detach("mouseover",this._handleMouseEvents);this._clearAutohide();if(B){B.destroy();}b.Object.each(this,function(C,E,D){delete D[E];});m[this._id]=null;},getSelectedIndex:function(){return this._selectedIndex;},getItemNode:function(A){return this.getItemNodes().item(A);},getItemNodes:function(){return this.node.all("li");},getItemUrl:function(A){return this._items[A].url;},execute:function(A){if(A>=0&&A<this._items.length){this.hide(j);this.fire({type:"execute",target:this,relatedTarget:this.getItemNode(A),index:A,url:this._items[A].url});}},selectNext:function(A){if(this._selectedIndex<this._items.length-1){this.select(this._selectedIndex+1);}else{if(A){this.select(0);}}},selectPrevious:function(A){if(this._selectedIndex>0){this.select(this._selectedIndex-1);}else{if(A){this.select(this._items.length-1);}}},select:function(B){if(B!=this._selectedIndex){var D=this._selectedIndex,C=this._items[D],A=this._items[B];if(C){y.removeClass(C.element,e);}y.addClass(A.element,e);if(q){if(C){c.focusable(C.linkElement,v);}c.focusable(A.linkElement,j);}A.linkElement.focus();this._selectedIndex=B;this.fire({type:"select",target:this,toIndex:B,fromIndex:D});}}};b.augment(f,b.Event.Target);w={create:function(B,A){return new f(B,A);}};b.namespace(h);b[h][p]={name:"menu",getService:function(B,A){if(!c){c=l.getService("aria");u=l.getService("iframeshim");a=l.getService("autohide");}return w;}};if(l){l.registerService(b[h][p]);}});function ad_el(b){var a=document;if(a.getElementById){return a.getElementById(b);}else{if(a.all){return a.all[b];}else{if(a.layers){return a.layers[b];}else{return null;}}}}function ad_params(g,f){var e="",b=arguments;for(var d=1;d<b.length;d++){if(g=="object"){e+="<param name="+b[d][0]+' value="'+b[d][1]+'">';}else{if(g=="embed"){e+=b[d][0]+'="'+b[d][1]+'"';if(d<(b.length-1)){e+=" ";}}else{return;}}}return[g,e];}function ad_embedObj(l,i,k,j,f,a){var b="";switch(l){case"swf":var e="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";break;default:return;}var c=l+i;if(a[0]=="object"){b='<object classid="'+e+'" id="'+c+'" width="'+j+'" height="'+f+'">'+a[1]+"</object>";}else{if(a[0]=="embed"){b='<embed name="'+c+'" '+a[1]+"></embed>";}else{return;}}if(k!==""){var g=ad_el(k);g.innerHTML=b;}else{document.write(b);}}ad_jsl=1;if(document.getElementById("l_yodel")&&typeof(yodel)!="undefined"){function callYodel(){var a=["FlashVars","startplay=1"];if(yodel.cap){ad_embedObj("swf","yod1","l_fl",yodel.swf_w,yodel.swf_h,ad_params("object",["movie",yodel.swf],["quality","autohigh"],["loop","false"],["play","false"],["wmode","transparent"],a));}else{ad_embedObj("swf","yod1","l_fl","","",ad_params("embed",["src",yodel.swf],["height",yodel.swf_h],["width",yodel.swf_w],["quality","autohigh"],["play","false"],["loop","false"],["wmode","transparent"],a,["type","application/x-shockwave-flash"],["pluginspage","http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}}function yodelCheckFlash(){var a=document.documentElement.className.toString();if(a.match("flash-gt"+(yodel.nfv-1))){if(a.match("ua-ie")){yodel.cap=1;}else{yodel.ncap=1;}}if(yodel.cap||yodel.ncap){var b=document.createElement("div");b.id="l_fl";b.style.position="absolute";b.style.top="0px";b.style.left="0px";document.getElementById("l_yodel").appendChild(b);ad_el("l_logo").useMap="#yodelmap";}}if(typeof(ad_jsl)!="undefined"){if(window.attachEvent){window.attachEvent("onload",yodelCheckFlash);}else{if(window.addEventListener){window.addEventListener("load",yodelCheckFlash,0);}}}}if(document.getElementById("hdrm_mh")&&typeof(ad_hdrm)!="undefined"){var hdrm_init=(function(){var b=document.documentElement.className.toString();if(b.match("flash-gt"+(ad_hdrm.nfv-1))&&typeof(ad_jsl)!="undefined"){if(b.match("ua-ie")){ad_hdrm.cap=1;}else{ad_hdrm.ncap=1;}}var a=document.createElement("div");a.id="mh_swf";a.style.position="absolute";a.style.top=ad_hdrm.off_y+"px";a.style.left=ad_hdrm.off_x+"px";ad_el("hdrm_mh").appendChild(a);var c="logo_clk="+ad_hdrm.redir+"&swfext="+ad_hdrm.dir+"&country=us";if(ad_hdrm.cap){ad_embedObj("swf","l1","mh_swf",ad_hdrm.swf_w,ad_hdrm.swf_h,ad_params("object",["movie",ad_hdrm.dir+ad_hdrm.swf],["FlashVars",c],["allowScriptAccess","always"],["quality","autohigh"],["menu","false"],["loop","false"],["wmode","transparent"],["play","true"]));}else{if(ad_hdrm.ncap){ad_embedObj("swf","l1","mh_swf","","",ad_params("embed",["alt",ad_hdrm.alt],["src",ad_hdrm.dir+ad_hdrm.swf],["id","swfl1"],["FlashVars",c],["allowScriptAccess","always"],["loop","false"],["menu","false"],["quality","high"],["width",ad_hdrm.swf_w],["play","true"],["height",ad_hdrm.swf_h],["wmode","transparent"],["type","application/x-shockwave-flash"],["pluginspage","http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}else{ad_el("hdrm_mh").innerHTML='<a href="'+ad_hdrm.redir+'"><img src="'+ad_hdrm.dir+ad_hdrm.img+'" height="'+ad_hdrm.swf_h+'" width="'+ad_hdrm.swf_w+'" border="0" alt="'+ad_hdrm.alt+'" /></a>';}}if(ad_hdrm.cap){ad_el("swfl1").alt=ad_hdrm.alt;}})();}YUI.add("statemgr_service",function(b){var k=b.ModulePlatform,g="MPServices",m="StateMgrProvider",j="MSC",i="fpps",e="fpms",p="_page",l,h,c,d,r,o;function f(){var t=new Date();t.setFullYear(t.getFullYear()+1);return t;}function s(x,v,u){var w=h.getSub(x,v),t=null;if(w){t=c.parse(w)[u];}return t;}function a(z,w,t){var y=h.getSub(z,w),x,v,u;if(y){x=c.parse(y);delete x[t];v=c.stringify(x);u={expires:f(),domain:l,path:"/"};if(v=="{}"){h.removeSub(z,w,u);}else{h.setSub(z,w,v,u);}}}function q(y,u,t,w){var x=h.getSub(y,u),v=x?b.JSON.parse(x):{};v[t]=w;h.setSub(y,u,c.stringify(v),{expires:f(),domain:l,path:"/"});}function n(t){if(!d[t]){d[t]=r.getModuleApi(t).getProperty("trusted")?b.Object(o):{};b.mix(d[t],{getUserModuleState:function(u){return s(e,t,u);},removeUserModuleState:function(u){a(e,t,u);},setUserModuleState:function(u,v){q(e,t,u,v);}});}return d[t];}o={isUpdated:function(){return !!h.get(j);},update:function(){h.setSub(j,"mod","1",{domain:l,path:"/"});},getUserPageState:function(t){return s(i,p,t);},removeUserPageState:function(t){a(i,p,t);},setUserPageState:function(t,u){q(i,p,t,u);}};b.namespace(g);b[g][m]={name:"statemgr",getService:function(u,t){r=u;h=b.Cookie;c=b.JSON;l=u.getProperty("cookieDomain");if(!d){d={};}return !t?o:n(t);},destroy:function(){d=null;}};if(k){k.registerService(b[g][m]);}},"1.0");YUI.add("carousel_service",function(c){var o=c.ModulePlatform,g="MPServices",a="CarouselProvider",l="tabindex",h="A",m="offsetWidth",b="right",p="mouseout",f="mouseover",e=300,i=true,k=false,j=null,d;function n(u,r,t){var v,s;v=this.node=c.one(u);if(v.hasClass("y-carousel-list")){this._carouselList=v;this.node=v.get("parentNode");}else{this._carouselList=v.query(".y-carousel-list");}this.options=r||{};this._loop=r.loop||k;this._autoscrollPlaying=k;this._autoscrollLazyPause=0;this._autoscrollInterval=r.autoscrollInterval||0;this._autoscrollIntervalFirst=r.autoscrollIntervalFirst||this._autoscrollInterval;this._autoscrollTimer=j;s=this._carouselItems=this._carouselList.get("children");this._maxItems=s.size();this._currentIndex=0;this._pixelToEmRatio=0;this._moduleapi=t;this._direction=(t.getViewDirection("default")=="rtl")?b:"left";this._init();}n.prototype={_init:function(){var r=this.node;r.addClass("horz");if(this._autoscrollInterval>0){this.attachEngagingAreaMouseEvents();if(c.UA.ie<8){this.activeElement=document.activeElement;document.onfocusout=c.bind(this.handleIEBlur,this);document.onfocusin=c.bind(this.handleIEFocus,this);}else{c.on("blur",c.bind(this.handleBlur,this),window);c.on("focus",c.bind(this.handleFocus,this),window);}}},_getWrapAroundToPosition:function(B,s){var C,y,r,v,D,z=this._direction,u=this._maxItems,x=this._carouselItems,w=x.item(0).get(m),A=u*w,E=x.item(B),t=parseInt(E.getComputedStyle(z),10);t=isNaN(t)?0:t;C=s*w+t;y=t;if(B>s){C+=A;y+=A;}else{C-=A;y-=A;}E=x.item(s);D=this._carouselList;r=D.getComputedStyle(z);if(r){if(r.indexOf("em")>-1){v=parseInt(r,10);D.setStyle(z,this._convertToPixels(v)+"px");}else{if(r.indexOf("auto")>-1){D.setStyle(z,"0");}}}E.setStyle(z,y+"px");return -C;},_getToPosition:function(u,w){var x,v,r=this._direction,s=this._carouselItems,t=s.item(0).get(m);x=-(u*t);this._carouselList.setStyle(r,x+"px");v=s.item(u);v.setStyle(r,"");v=s.item(w);v.setStyle(r,"");return -(w*t);},destroy:function(){var s=this._scrollEventHandle,r=this._fontResizeHandle;if(s){s.detach();}if(r){r.detach();}this.detachEngagingAreaMouseEvents();this._scrollEventHandle=this._fontResizeHandle=this.node=this._carouselItems=this._carouselList=j;this.unsubscribeAll();},getItemNode:function(r){return this._carouselItems.item(r);},getCurrentIndex:function(){return this._currentIndex;},_doAutoscroll:function(){if(this._autoscrollPlaying){if(this._autoscrollLazyPause===0){this.next();if(this._autoscrollInterval>0){this._autoscrollTimer=c.later(this._autoscrollInterval*1000,this,this._doAutoscroll);}}else{this._autoscrollTimer=j;}}},play:function(r){if(this._autoscrollIntervalFirst===0){return k;}if(r){if(this._autoscrollLazyPause>0){this._autoscrollLazyPause-=1;}if(this._autoscrollPlaying===k){return;}}if(this._autoscrollLazyPause===0&&(this._autoscrollPlaying===k||this._autoscrollTimer===j)){this._autoscrollTimer=c.later((this._autoscrollIntervalFirst*1000),this,this._doAutoscroll);this._autoscrollPlaying=i;}},pause:function(r){if(r){this._autoscrollLazyPause+=1;}else{this._autoscrollPlaying=k;if(this._autoscrollTimer!==j){this._autoscrollTimer.cancel();this._autoscrollTimer=j;}}},next:function(s){var r=this._currentIndex;if(r==this.getItemCount()-1){if(this._loop||s){r=0;}}else{++r;}this.scrollTo(r);},previous:function(s){var r=this._currentIndex;if(r===0){if(this._loop||s){r=this.getItemCount()-1;}}else{--r;}this.scrollTo(r);},scrollTo:function(v,y){var B,r,C,s=k,w=this._maxItems,A=this._currentIndex,D,u=this._carouselList.fx,z=this._direction,t,x={type:"scroll",fromIndex:A,toIndex:v};if(this.isScrolling()||v==A){return;}r=this.getItemNode(A);this._activateTabIndex(r,k);y=y===undefined||y===j?i:y;if(6==c.UA.ie&&b==z){y=k;}s=(A===0&&v==w-1)||(A==w-1&&v===0);this._currentIndex=v;if(y&&s&&w>2){B=this._getWrapAroundToPosition(A,v);}else{B=this._getToPosition(A,v);}this.fire({type:"beforescroll",fromIndex:A,toIndex:v});t=this.options.animate||o.getProperty("ui.carousel.animate");if(t){C=this._scrollEventHandle;if(C){C.detach();}this._scrollEventHandle=u.on("end",function(){this._handleScrollEnd(x);},this);if(b==z){D={to:{right:B}};}else{D={to:{left:B}};}D.duration=this.options.animDuration||0.5;D.easing=this.options.easing||c.Easing.easeBoth;u.setAttrs(D);u.run();}else{this._carouselList.setStyle(z,B+"px");this._handleScrollEnd(x);}},_handleScrollEnd:function(t){var r,s,w,u,v;if(c.UA.ie){r=this._direction;v=this._carouselList;w=parseInt(v.getComputedStyle(r),10);u=this._convertToEms(w);if(isFinite(u)){v.setStyle(r,u-0.068+"em");}}s=this.getItemNode(this._currentIndex);this._activateTabIndex(s,i);this.fire(t);},_convertToEms:function(r){return 1/this._calculateEm()*parseInt(r,10);},_convertToPixels:function(r){return this._calculateEm()*parseInt(r,10);},_calculateEm:function(){var r,t,s=this.node;r=s.create('<div style="width: 50em; height: 0; position: absolute;'+this._direction+': -999em;"></div>');s.appendChild(r);t=r.get(m)/50;s.removeChild(r);if(t===0&&this._pixelToEmRatio!==0){t=this._pixelToEmRatio;}else{if(t>0){this._pixelToEmRatio=t;}}return t;},_activateTabIndex:function(t,r){var s=t.queryAll(h);if(s){if(r){s.each(function(u){u.removeAttribute(l);});}else{s.each(function(u){u.setAttribute(l,"-1");});}}},getItemNodes:function(){return this._carouselItems;},getItemCount:function(){return this._maxItems;},isScrolling:function(){return this._carouselList.fx.get("running");},attachEngagingAreaMouseEvents:function(){this.node.on(f,this.handleEngagingAreaMouseover,this);this.node.on(p,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){this.node.detach(f,this.handleEngagingAreaMouseover);this.node.detach(p,this.handleEngagingAreaMouseout);},handleBlur:function(){this.pause(i);this.detachEngagingAreaMouseEvents();},handleFocus:function(){this.play(i);this.attachEngagingAreaMouseEvents();},handleIEBlur:function(){if(this.activeElement){}if(this.activeElement==document.activeElement){this.activeElement=j;this.handleBlur();}},handleIEFocus:function(){if(this.activeElement==j){this.handleFocus();}this.activeElement=document.activeElement;},handleEngagingAreaMouseover:function(r){c.later(e,this,this.pause,i);},handleEngagingAreaMouseout:function(r){c.later(e,this,this.play,i);}};c.augment(n,c.Event.Target);function q(r){this.moduleapi=r;}q.prototype={create:function(s,r){return new n(s,r,this.moduleapi);}};c.namespace(g);c[g][a]={name:"carousel",getService:function(s,r){if(!d){d=s;}return new q(d.getModuleApi(r));}};if(o){o.registerService(c[g][a]);}},"1.0");YUI.add("ulm_service",function(c){var t=c.ModulePlatform,o=c.Lang,C,m="MPServices",u="UlmProvider",z=null,n=true,v=false,s="alt-text-color",b="blur",A="checked",k="click",g="defaultValue",f="focus",d="innerHTML",B="submit",r="text-color",j="value",y="y-ulm-alert",i="y-ulm-dd",l="y-ulm-q",p="y-ulm-open",a="y-ulm-setdefault",h="y-ulm-locations",x="y-ulm-custom-list",w="_ULM_";function q(E,G,D){var F=c.Node.get(E),I=F.query("."+i),H=F.query("."+l);D=c.merge({serverOnSuccess:this.serverOnSuccess,setDefault:!!I,showRecent:this.showRecent,showSaved:this.showSaved},D);this.serverOnSuccess=D.serverOnSuccess;this.setDefault=D.setDefault;this.showRecent=D.showRecent;this.showSaved=D.showSaved;this.dropdownLink=I;this.transport=C.getService("transport");this.form=F;this.moduleapi=G;this.locationCache={};this.commonRequest={type:"arcade",_container:0,_type:"ulm",hostId:G.getId(),hostType:G.getProperty("type"),filter:G.getContextData(w+"FILTER"),customFilter:G.getContextData(w+"CUSTOM_FILTER"),customList:G.getContextData(w+"CUSTOM_LIST"),customIcons:G.getContextData(w+"CUSTOM_ICONS"),hostSec:G.getContextData(w+"SEC")};F.on(k,this.handleClick,this);F.on(B,this.handleSubmit,this);if(H){this.initSearchBox(H);}}q.prototype={moduleapi:z,autohideId:z,alertBody:z,form:z,dropdownLink:z,pop:z,iframeShim:z,searchBox:z,setDefault:v,isPopBodyLoaded:v,showRecent:n,showSaved:n,locationCache:z,requestId:-1,quickLocRequestId:-1,commonRequest:z,serverOnSuccess:"",transport:z,initSearchBox:function(G){var F=this.handleFocusBlur,D=this.moduleapi.getString(w+"PROMPT"),E=G.get(j);G.set(g,D);if(E===""||E===D){G.replaceClass(r,s);G.set(j,D);}G.blur();G.on(f,F,this);G.on(b,F,this);this.searchBox=G;},destroy:function(){var F=this.autohideId,E=this.form,I=this.handleFocusBlur,D=this.iframeShim,H=this.searchBox,G=this.transport;G.abortRequest(this.requestId);G.abortRequest(this.quickLocRequestId);if(F!==z){C.getService("autohide").unregister(F);this.autohideId=z;}E.detach(k,this.handleClick);E.detach(B,this.handleSubmit);if(H){H.detach(f,I);H.detach(b,I);}if(D){D.destroy();}this.unsubscribeAll("locationselect");this.locationCache={};this.alertBody=this.dropdownLink=this.form=this.pop=this.iframeShim=this.searchBox=z;},isDestroyed:function(){return this.form===z;},handleFocusBlur:function(F){var E=F.target,D=F.type;if(D===f){if(this.searchBox){this.openPop();}if(E.get(j)===E.get(g)){E.replaceClass(s,r);E.set(j,"");}}else{if(D===b){if(o.trim(E.get(j))===""){E.replaceClass(r,s);E.set(j,E.get(g));}}}},handleSubmit:function(E){var F=this.searchBox,D;E.preventDefault();if(!this.isPopOpen()){this.openPop();}else{D=o.trim(F.get(j));if(D&&D!=F.get(g)){this.setLocation(D);}}},handleClick:function(J){var I=J.target,D=I.get("href"),F=I.get("className"),E=F?F.split(/\s+/):[],H=E.length,G;while(H--){switch(E[H]){case i:case"y-ulm-default":this.togglePop();break;case"y-ulm-item":J.preventDefault();G=D.substring(D.indexOf("#")+1);this.setLocationDirect(I.get(d),G);break;case"y-ulm-close":this.closePop();break;}}},cacheLocations:function(D){var E=D.length,G,F=this.locationCache;while(E--){G=D[E];F[G.id]=G;}},getCachedLocation:function(D){return this.locationCache[D];},isPopOpen:function(){return this.pop&&this.form.hasClass(p);},togglePop:function(){if(this.isPopOpen()){this.closePop();}else{this.openPop();}},openPop:function(){if(this.isPopOpen()){return;}if(!this.pop){this.createPop();}if(!this.isPopBodyLoaded){this.setAlert(this.moduleapi.getString(w+"LOADING_HTML"));this.loadPopBody();}else{this.clearAlert();this.updateLocations();}this.form.addClass(p);this.contentSizeChanged();},createPop:function(){var F,K=this.dropdownLink,J=this.moduleapi,I=this.form,E,D,H=this.iframeShim,G;D=I.create(J.getString(w+"POP_HTML"));I.appendChild(D);E=D.query(".y-ulm-pop");E.addClass(K?"y-ulm-pop-dropdown":"y-ulm-pop-search");this.pop=E;G=C.getService("iframeshim");if(G.isShimNeeded()){H=G.create(D.query(".y-ulm-pop-shadow"));this.iframeShim=H;}this.alertBody=E.query(".y-ulm-alert-bd");F=K?[E,K,I]:[E,this.searchBox,I.query(".y-ulm-search-btn")];this.autohideId=C.getService("autohide").register({targets:F,hide:c.bind(this.closePop,this)});},closePop:function(){var D=this.iframeShim,G=this.dropdownLink,F=this.searchBox;if(this.isPopOpen()){this.form.removeClass(p);if(D){D.hide();}if(G&&F&&document.activeElement===c.Node.getDOMNode(F)){try{G.focus();}catch(E){}}this.fire("ulmclose",{target:this});}},contentSizeChanged:function(){var D=this.iframeShim;if(D){D.show();}},initPopBodyFromHtml:function(F){var D=this.pop,G=D.create(F),E=G.query("."+l);this.clearAlert();D.insertBefore(G,this.alertBody);if(E){this.initSearchBox(E);}G.query("."+a+" input").set("checked",this.setDefault);this.isPopBodyLoaded=n;this.contentSizeChanged();},loadPopBody:function(){var F,D,E=this.transport;if(E.isRequestPending(this.requestId)){return;}D=c.merge(this.commonRequest,{_action:"show",_subAction:"loadpopup",mode:this.dropdownLink?"view_dropdown":"view_search",recent:this.showRecent?1:z,saved:this.showSaved?1:z});F={success:this.onLoadPopBodySuccess,failure:this.onLoadPopBodyFailure,scope:this};this.requestId=E.makeRequest(D,F);},onLoadPopBodySuccess:function(E){var D=E.data;this.cacheLocations(D.locations);this.initPopBodyFromHtml(E.html);},onLoadPopBodyFailure:function(D){if(this.isDestroyed()){return;}this.setAlert(this.moduleapi.getString(w+"TIMEOUT_HTML"));},setLocation:function(E){var D={q:E},F={success:this.onSetLocationSuccess,failure:this.onSetLocationFailure,scope:this};this.setLocationCore(D,F);},setLocationCore:function(E,G){var D=this.pop,F=this.transport;if(F.isRequestPending(this.requestId)){return;}E._action="save";E._subAction="setlocation";E.setDefault=Number(D.query("."+a+" input").get(A));if(this.serverOnSuccess){E.onsuccess=this.serverOnSuccess;}E=c.merge(this.commonRequest,E);G.argument=c.merge({setDefault:E.setDefault},G.argument);this.requestId=F.makeRequest(E,G);},onSetLocationSuccess:function(K,D){var J=K.data,H=K.html,G=parseInt(J[w+"HIT_COUNT"],10),F=J[w+"LOCATION"],E=J[w+"DISPLAY"],I=!!J[w+"DEFAULT"];if(G===1){delete J[w+"HIT_COUNT"];delete J[w+"DISPLAY"];delete J[w+"LOCATION"];delete J[w+"DEFAULT"];this.onLocationSelect(E,F,K,I);}else{if(G===0){H=H.replace("MSG_NO_MATCH",this.moduleapi.getString(w+"NO_MATCH"));}else{this.cacheLocations(J.locations);}this.setAlert(H);}},setLocationDirect:function(F,D){var E=this.getCachedLocation(D),G={q:F,loc:E},H={success:this.onSetLocationDirectSuccess,failure:this.onSetLocationFailure,scope:this,argument:{displayName:F,location:E}};this.setLocationCore(G,H);},onSetLocationDirectSuccess:function(I,F){var H=I.data,E=I.html,D=parseInt(H[w+"HIT_COUNT"],10),G=!!H[w+"DEFAULT"];if(D===0){E=E.replace("MSG_NO_MATCH",this.moduleapi.getString(w+"NO_MATCH"));this.setAlert(E);}else{delete H[w+"HIT_COUNT"];delete H[w+"DEFAULT"];this.onLocationSelect(F.displayName,F.location,I,G);}},onSetLocationFailure:function(F,D){var E=this.moduleapi;if(D.setDefault){E.getService("ulm").updateDefaultLocation({displayName:D.displayName||"",loc:""});}if(!this.isDestroyed()){this.setAlert(E.getString(w+"TIMEOUT_HTML"));}},onLocationSelect:function(E,D,F,I){var J=this.dropdownLink,G=this.moduleapi,H=G&&G.getId();if(J){J.set(d,E);}this.closePop();if(I){G.getService("ulm").updateDefaultLocation({displayName:E,loc:D});}else{C.broadcast(H,"ulm:defaultlocation",{displayName:E,loc:D});}this.fire("locationselect",{target:this,response:F,displayName:E,location:D});},setAlert:function(D){this.alertBody.set(d,D);this.pop.addClass(y);this.contentSizeChanged();},clearAlert:function(){this.pop.removeClass(y);this.contentSizeChanged();},updateLocations:function(){var F,D,E=this.transport;if(E.isRequestPending(this.quickLocRequestId)){return;}D=c.merge(this.commonRequest,{_action:"show",_subAction:"getlocations",recent:this.showRecent?1:z,saved:this.showSaved?1:z});F={success:this.onUpdateLocationsSuccess,scope:this};this.quickLocRequestId=E.makeRequest(D,F);},onUpdateLocationsSuccess:function(F){var D=this.pop,E;this.cacheLocations(F.data.locations);if(F.html){E=this.commonRequest.customList?x:h;D.query("."+E).set(d,F.html);this.contentSizeChanged();}}};c.augment(q,c.EventTarget);function e(D){this.moduleapi=D;}e.prototype={create:function(E,D){return new q(E,this.moduleapi,D);},updateDefaultLocation:function(D){var F=this.moduleapi,G=F&&F.getId(),E=C.getService("statemgr");if(!D.hasOwnProperty("displayName")){C.error("UlmService","invalid default location token",{token:D});}C.broadcast(G,"ulm:defaultlocation",{displayName:D.displayName,loc:D.loc});if(E){E.update();}}};c.namespace(m);c[m][u]={name:"ulm",getService:function(E,D){if(!C){C=E;}return new e(C.getModuleApi(D));}};if(t){t.registerService(c[m][u]);}},"1.0");YUI.add("toolbar_bridge_service",function(Y){var MP=Y.ModulePlatform,ToolbarBridgeService,platform,doc=document,win=window,TRUE=true,FALSE=false,NULL=null,m_settings=NULL,m_ytb=NULL,queue=[],onloadFired=FALSE,bridgeOpen=FALSE,toolbarInstalled=NULL,SERVICES_NAMESPACE="MPServices",SERVICE_PROVIDER="ToolbarBridgeProvider";function isToolbarInstalled(){if(toolbarInstalled===NULL){if(Y.UA.ie){var o,version;try{version=Y.Cookie.getSub("CP","v");if(version>80000){if(version<80102){o=TRUE;}else{o=new ActiveXObject("yt.YToolbarBand");}}}catch(ex){}toolbarInstalled=(o)?TRUE:FALSE;o=NULL;}else{if(win.Customizer){toolbarInstalled=TRUE;}else{toolbarInstalled=(onloadFired)?FALSE:NULL;}}}return toolbarInstalled;}function openBridge(){if(bridgeOpen){return TRUE;}else{if(isToolbarInstalled()===FALSE){return FALSE;}}var set,qlength,qItem,i;try{if(Y.UA.ie){if(toolbarInstalled){m_ytb=doc.createElement("OBJECT");m_ytb.classid="CLSID:EF99BD32-C1FB-11D2-892F-0090271D4F88";m_ytb=doc.body.appendChild(m_ytb);}if(m_ytb){set=m_ytb.Settings;if(set&&(set.ClientVersion>80000)){m_settings=set;}}}else{m_ytb=win.Customizer;if(m_ytb){m_settings=m_ytb.Setting;}}if(m_settings){bridgeOpen=TRUE;if(queue.length>0){for(i=0,qlength=queue.length;i<qlength;i++){qItem=queue.shift();ToolbarBridgeService[qItem[0]].apply(this,qItem[1]);}}}}catch(ex){}return bridgeOpen;}function setParam(name,value){if(bridgeOpen){m_settings.SetExtraParam(name,value);}}function broadcastAlert(id,values){if(bridgeOpen&&values&&id){m_settings.BroadcastAlert(id,values);}}ToolbarBridgeService={PING_ADD:400,PING_REMOVE:401,isToolbarInstalled:isToolbarInstalled,ping:function(timestamp){openBridge();if(bridgeOpen){if(Y.UA.gecko||(Y.UA.ie&&m_settings.ClientVersion>=80100)){broadcastAlert(this.PING_ADD,timestamp);}}else{if(isToolbarInstalled()===NULL){queue.push(["ping",arguments]);}}},send:function(suid,data){openBridge();if(bridgeOpen){var binfo,button,id,arr,str;try{binfo=m_settings.GetButtonFromSID("@ma_"+suid);if(binfo){button=eval(binfo);if(button&&button.length&&button[0].params&&button[0].params){id=button[0].params.alrt;switch(id){case"204":setParam("woe",data.woeid);setParam("wt",data.scale);setParam("wloc",data.location);arr=[data.cond_code,data.temp+"",data.location,data.cond_text];break;case"200":arr=[data.count];break;default:break;}if(arr){str=Y.JSON.stringify(arr);broadcastAlert(id,str);}}}}catch(ex){}}else{if(isToolbarInstalled()===NULL){queue.push(["send",arguments]);}}}};Y.on("load",function(){onloadFired=TRUE;if(queue.length){openBridge();}},win,NULL,this);Y.namespace(SERVICES_NAMESPACE);Y[SERVICES_NAMESPACE][SERVICE_PROVIDER]={name:"toolbar_bridge",getService:function(moduleplatform,id){if(!platform){platform=moduleplatform;}return ToolbarBridgeService;}};if(MP){MP.registerService(Y[SERVICES_NAMESPACE][SERVICE_PROVIDER]);}},"1.0");YUI.add("sortable_service",function(e){var w=null,d=e.ModulePlatform,N=false,u=true,A="MPServices",L="SortableProvider",K,v=e.DOM,F=e.Event,q=e.Node,B=e.NodeList,j=1,n=2,E=3,g=document,o=g.createElement("DIV"),p="application",G="y-sortable",x="bottom",z="height",r="left",l="parentNode",Q="px",P="right",R="role",I="tabIndex",C="top",h="width",m=G+"-active",O=G+"-false",k=G+"-proxy",D=G+"-shims",y=G+"-stage",s=G+"-stage-active",J=G+"-idx",c=13,i=27,a=32,H=38,t=40,M={9:1,13:1,27:1,32:1,38:1,40:1};function f(S){return S.compareTo(g)?-1:parseInt(S.getAttribute(J)||-1,10);}function b(U,V){var T,S,W;if(U instanceof q){W=U;U=q.getDOMNode(U);}else{if(typeof U=="string"){W=q.getById(U);U=v.byId(U);}}if(!U||!U.nodeType){throw"Sortable(): 'stage' is missing or invalid";}this.sortableClass=V;this.nodeStage=W;S=U.getElementsByTagName("OL");T=U.getElementsByTagName("LI");if(V){T=W.all("."+V);T=B.getDOMNodes(T);}v.addClass(U,y);U.setAttribute(R,p);this.READY=j;this.KEYBOARD=n;this.MOUSE=E;this.subscribers=[];this.stage=U;this.items=T;this.lists=S;this.sync();this.start(j);}b.prototype={mode:w,stage:w,stageRegion:w,items:w,lists:w,shims:w,drag:w,proxy:w,subscribers:w,startTimer:w,offset:w,coord:w,activeIndex:w,shouldIgnoreKeys:w,destroy:function(){var V=this.stage,X=this.items,aa=this.shims,W=this.proxy,Y=aa[l],T=W[l],S,U,Z;this.stop();if(V.parentNode){v.removeClass(V,y);V.removeAttribute(R,p);U=X.length;for(S=0;S<U;S++){v.removeClass(X[S],G);}}if(Y){Y.removeChild(aa);}if(T){T.removeChild(W);}for(Z in this){if(this.hasOwnProperty(Z)){this[Z]=w;}}},sync:function(){this.syncShims();this.syncProxy();},syncProxy:function(){var U=v.region(this.items[0]),S=this.proxy,T;if(!S){S=o.cloneNode(N);S.setAttribute(I,-1);S.className=k;this.stage.appendChild(S);this.proxy=S;}T=S.style;T[h]=(U[P]-U[r])+Q;T[z]=(U[x]-U[C])+Q;},syncShims:function(){var aa=this.stage,af,ad,Y,ab=g.createDocumentFragment(),ac=v.region(aa),T,Z,V,ae=o.cloneNode(N),S,W,ag,U,X;this.stageRegion=ac;af=this.stage.getElementsByTagName("OL");ad=this.stage.getElementsByTagName("LI");if(this.sortableClass){ad=this.nodeStage.all("."+this.sortableClass);ad=B.getDOMNodes(ad);}Y=ad.length;for(X=0;X<Y;X++){ag=ad[X];W=o.cloneNode(N);W.setAttribute(J,X);if(!v.hasClass(ag,O)){v.addClass(ag,G);ag.setAttribute(I,-1);}U=this._getAsStageXY(v.getXY(ag));T=v.region(ag);Z=T[P]-T[r];V=T[x]-T[C];S=W.style;S[h]=Z+Q;S[z]=V+Q;S[r]=U[0]+Q;S[C]=U[1]+Q;ab.appendChild(W);}if(this.shims){aa.removeChild(this.shims);}ae.className=D;ae.appendChild(ab);aa.appendChild(ae);this.shims=ae;},updateShimHeights:function(){var aa=this.shims.getElementsByTagName("DIV"),X=this.stage,Y=v.region(X),ab,Z,T,U,W,S,V;this.stageRegion=Y;Z=X.getElementsByTagName("LI");if(this.sortableClass){Z=this.nodeStage.all("."+this.sortableClass);Z=B.getDOMNodes(Z);}W=Z.length;for(V=0;V<W;V++){ab=Z[V];if(ab.tagName==="DIV"){continue;}T=this._getAsStageXY(v.getXY(ab));U=ab.offsetHeight;S=aa[V].style;S[z]=U+Q;S[C]=T[1]+Q;}this.items=Z;},start:function(T,S){var U=this.coord;if(!T||(T!=j&&T!=n&&T!=E)){throw"Sortable::start(): Unknown mode of ("+T+")";}else{if(this.mode){this.stop();}}this._attach(T);this.mode=T;if(T!=j){if(S instanceof q){S=q.getDOMNode(S);}v.addClass(this.stage,s);v.addClass(S,m);this.drag=S;this.activeIndex=this._getItemIndex(S);this._positionProxy(U);this.proxy.focus();this._fireEvent({type:"start",pageX:U[0],pageY:U[1]});}},stop:function(){var T=this.mode,S=this.drag;if(T==n||T==E){S.focus();v.removeClass(this.stage,s);v.removeClass(S,m);this.shouldIgnoreKeys=N;this._fireEvent({type:"stop"});this.coord=this.drag=this.activeIndex=w;}this._detach();this.mode=w;},_attach:function(Y){var S,X=this.subscribers,T=this.stage,V=this.shims,W,U;if(Y==E){W={mouseover:V,mouseout:V,mouseup:g,mousemove:g,keydown:g,selectstart:g,dragstart:g};}else{if(Y==n){W={keyup:T,keypress:T,keydown:T,click:g};}else{W={keydown:T,mousedown:T};}}for(U in W){if(W.hasOwnProperty(U)){S=F.attach(U,this[U],W[U],this);if(S){X.push(S);}else{this._detach();throw"_attach(): Failed to attach "+U;}}}},_detach:function(){var T=this.subscribers,S=T.length;while(S--){T[S].detach();}this.subscribers=[];},_fireEvent:function(T){var S={type:w,pageX:w,pageY:w,drop:w,droppable:N,drag:this.drag,index:this.activeIndex,proxy:this.proxy,mode:this.mode};this.fire(e.merge(S,T));},_getItemIndex:function(V){var S=this.items,U,T=0;while((U=S[T])){if(U==V){return T;}T++;}return -1;},_getSortableAncestor:function(T){var S=this.stage;if(T instanceof q){T=q.getDOMNode(T);}while(T!=S){if(v.hasClass(T,O)){return w;}else{if(v.hasClass(T,G)){return T;}}T=T[l];}return w;},_getAsStageXY:function(T){var S=this.stageRegion;return[T[0]-S[r],T[1]-S[C]];},_handleKeyCode:function(Y){var Z=this.activeIndex,S=this.items[Z],aa=v.getXY(S),W=this.items,X,V,T,U;if(this.shouldIgnoreKeys){return;}this.shouldIgnoreKeys=u;switch(Y){case i:U={type:"cancel"};this._fireEvent(U);this.start(j);break;case c:case a:U={type:"hit",drop:S,droppable:u,pageX:aa[0],pageY:aa[1]};this._fireEvent(U);this.start(j);break;case H:case t:U={type:"leave",drop:S,droppable:u,pageX:aa[0],pageY:aa[1]};this._fireEvent(U);X=Z+(Y==H?-1:1);if(X>=0&&(T=W[X])){aa=v.getXY(T);V=!v.hasClass(T,O);if(V){this.activeIndex=X;this._positionProxy(aa);}U={drop:T,droppable:V,pageX:aa[0],pageY:aa[1],index:X};U.type="enter";this._fireEvent(U);U.type="over";this._fireEvent(U);}break;default:}},_positionProxy:function(ac){var af=ac[0],ae=ac[1],T=this.proxy.style,Z=this.offset,W=Z[r],Y=Z[P],U=Z[C],X=Z[x],ad=this.stageRegion,ag=ad[r],ab=ad[P],aa=ad[C],ah=ad[x],S=af+W,ai=ae+U,V;if(S<=ag){S=ag;}else{if(af+Y>=ab){S=ab-(-W+Y);}}if(ai<=aa){ai=aa;}else{if(ae+X>=ah){ai=ah-(-U+X);}}V=this._getAsStageXY([S,ai]);T[r]=V[0]+Q;T[C]=V[1]+Q;},click:function(S){this._handleKeyCode(i);},keypress:function(S){if(this.mode==n&&M[S.keyCode]){S.preventDefault();}},keydown:function(U){var T=U.keyCode,W=this.mode,V={},S;if(W==j){if(T==a&&(S=this._getSortableAncestor(U.target))){U.preventDefault();V[C]=V[P]=V[x]=V[r]=0;this.shouldIgnoreKeys=u;this.coord=v.getXY(S);this.offset=V;this.start(n,S);}}else{if(T in M){U.preventDefault();if(W==n||W==E&&T==i){this._handleKeyCode(T);}}}},keyup:function(S){this.shouldIgnoreKeys=N;},mousedown:function(V){var T,U,W={},S=V.pageX,X=V.pageY;if(V.button>1||!(T=this._getSortableAncestor(V.target))){return;}V.preventDefault();U=v.region(T);W[C]=U[C]-X;W[P]=U[P]-S;W[x]=U[x]-X;W[r]=U[r]-S;this.coord=[S,X];this.offset=W;this.start(E,T);},mousemove:function(X){var Y,T,U=X.pageX,S=X.pageY,W,V;if(!X.button){this.mouseup(X);return;}this._positionProxy([U,S]);T=f(X.target);if(T>-1){Y=this.items[T];W=!v.hasClass(Y,O);V={type:"over",drop:Y,droppable:W,pageX:U,pageY:S};if(W){this.activeIndex=T;}else{V.index=T;}this._fireEvent(V);}},mouseover:function(S){this.onmouseoverout(S);},mouseout:function(S){this.onmouseoverout(S);},onmouseoverout:function(X){this.updateShimHeights();var T=f(X.target),U=(X.type=="mouseout")?"leave":"enter",S=this.items,Y,W,V;if(T>-1){if(X.type=="mouseout"){U="leave";Y=S[this.activeIndex];}else{U="enter";Y=S[T];}W=!v.hasClass(Y,O);V={type:(X.type=="mouseout")?"leave":"enter",drop:Y,droppable:W,pageX:X.pageX,pageY:X.pageY};if(W){this.activeIndex=T;}else{V.index=T;}this._fireEvent(V);}},mouseup:function(V){var S=f(V.target),W=w,U,T={type:"miss",pageX:V.pageX,pageY:V.pageY,index:S};if(S>-1){W=this.items[S];U=!v.hasClass(W,O);if(U){T.type="hit";T.drop=W;T.droppable=U;this.activeIndex=S;}}this._fireEvent(T);this.start(j);},selectstart:function(S){S.preventDefault();},dragstart:function(S){S.preventDefault();}};e.augment(b,e.Event.Target);K={create:function(S,T){return new b(S,T);}};e.namespace(A);e[A][L]={name:"sortable",getService:function(T,S){return K;}};if(d){d.registerService(e[A][L]);}},"1.0");YUI.add("tooltip_service",function(b){var m=b.ModulePlatform,n,d,e="MPServices",a="ToolTipProvider",i="hide",l="bottom",f="top",h=null,c="left",j="right",g="px";function k(p){var o;this.options=b.merge({position:{box:"b",arrow:"c"},msg:"<!-- empty -->",className:"y-tooltip-default",pointerClass:"y-glbl-universal",borderClass:"",parentNode:document.body,autohide:false,role:"alert",scrollIntoView:false},p);this.options.parentNode=b.one(this.options.parentNode);if(b.Lang.isArray(this.options.borderClass)){this.options.borderClass=this.options.borderClass.join(" ");}if(b.Lang.isArray(this.options.className)){this.options.className=this.options.className.join(" ");}if(b.Lang.isArray(this.options.pointerClass)){this.options.pointerClass=this.options.pointerClass.join(" ");}o="<div class='y-tooltip "+this.options.className+"'><div class='tooltip hide' role='"+this.options.role+"'><div class='content "+this.options.borderClass+"'></div><span class='"+this.options.pointerClass+" pointer'></span><div class='crnr-rt'></div><div class='crnr-rb'></div></div></div>";this.toolTipBody=b.Node.create(o);this.pointAtMe=h;this.toolTip=this.toolTipBody.query(".tooltip");this.content=this.toolTipBody.query(".content");this.pointer=this.toolTipBody.query(".pointer");this.autohideId=h;this.options.parentNode.insertBefore(this.toolTipBody,this.options.parentNode.get("firstChild"));if(this.options.autohide){this.autohideId=d.getService("autohide").register({targets:[this.toolTip],hide:b.bind(this.hide,this)});}}k.prototype={getNode:function(){return this.toolTipBody;},setContent:function(o){if(typeof(o)==="string"){this.content.set("innerHTML",o);}else{this.content.set("innerHTML","");this.content.appendChild(b.one(o));}return this.content;},positionToolTip:function(r,C){var t,z,y,v,s=C.msg,x=C.position.box,A=C.position.arrow,q=C.position.alignNode,p=this.toolTip,o=this.pointer,u,B,w=C.parentNode.getStyle("direction");if(w==="rtl"){if(x==="r"){x="l";}else{if(x==="l"){x="r";}}if(A==="l"){A="r";}else{if(A==="r"){A="l";}}}v=this.pointAtMe=b.one(r);if(q){q=b.one(q);}if(s){this.setContent(s);}t=b.DOM.region(b.Node.getDOMNode(v));z=t.left+(t.width/2);y=t.top+(t.height/2);u=this.toolTip.get("parentNode").get("region");B=this.toolTip.get("region");if(t){switch(x){case"b":p.replaceClass(f,l);break;case"t":p.replaceClass(l,f);break;case"l":p.replaceClass(j,c);break;case"r":p.replaceClass(c,j);break;}switch(A){case"l":o.replaceClass("rightpointer","leftpointer");o.setStyle(c,"");p.setStyle(c,(t.left-u.left)-(this.pointer.getX()-B.left+(this.pointer.get("offsetWidth")/2))+(t.width/2)+g);break;case"c":if(x=="b"||x=="t"){o.setStyle(c,(B.width/2)-(this.pointer.get("offsetHeight")/2)+g);p.setStyle(c,(t.left-(B.width/2)+(t.width/2))-u.left+g);}else{o.setStyle(f,((B.height/2)-(this.pointer.get("offsetHeight")/2))+g);}break;case"r":o.replaceClass("leftpointer","rightpointer");o.setStyle(c,"");p.setStyle(c,((t.right-B.width)-u.left)+g);break;case"t":o.replaceClass("pointerbottom","pointertop");break;case"b":o.replaceClass("pointertop","pointerbottom");break;}switch(x){case"b":p.setStyle(f,(t.top-u.top+t.height+this.pointer.get("offsetHeight"))+g);break;case"t":p.setStyle(f,(t.top-u.top-B.height-this.pointer.get("offsetHeight"))+g);break;case"l":if(q){p.setStyle(f,(q.getY()-u.top)+g);}else{p.setStyle(f,(y-(this.pointer.getY()-B.top)-(this.pointer.get("offsetHeight")/2))-u.top+g);}p.setStyle(c,(t.left-u.left-B.width-this.pointer.get("offsetWidth"))+g);break;case"r":if(q){p.setStyle(f,(q.getY()-u.top)+g);}else{p.setStyle(f,(y-(this.pointer.getY()-B.top)-(this.pointer.get("offsetHeight")/2))-u.top+g);}p.setStyle(c,t.right-u.left+this.pointer.get("offsetWidth")+g);break;}}},show:function(q,o){var p=b.merge(this.options,o);this.toolTip.removeClass(i);if(q){this.positionToolTip(q,p);}this.toolTip.setAttribute("role",p.role);if(p.scrollIntoView){this.content.scrollIntoView();}return this.content;},hide:function(){this.toolTip.addClass(i);},isVisible:function(){return !this.toolTip.hasClass(i);},destroy:function(){if(this.autohideId!==h){d.getService("autohide").unregister(this.autohideId);this.autohideId=h;}this.toolTipBody.get("parentNode").removeChild(this.toolTipBody);this.toolTipBody=this.pointAtMe=this.toolTip=this.content=this.pointer=h;}};n={create:function(o){return new k(o);}};b.namespace(e);b[e][a]={name:"tooltip",getService:function(p,o){if(!d){d=p;}return n;}};if(m){m.registerService(b[e][a]);}},"1.0");YUI.add("ipv6test_service",function(c){var j=false,i=true,m=c.ModulePlatform,f,o,d=c.Cookie,g="MPServices",a="IPv6TestProvider",h="ipv6",n=15000,k;function p(q){d.set(h,q,{domain:o});}function l(){return d.get(h);}function e(){var q=l(),r=(q!==null);if(r){d.remove(h,{domain:o});p(q);}return r;}function b(){var v=j,t={},q={},s={},w=null,r=function(x){if(v){return;}if(x){if(typeof s.dstest1!=="number"){s.dstest1=-1;}if(typeof s.dstest2!=="number"){s.dstest2=-1;}if(typeof s.dstest3!=="number"){s.dstest3=-1;}if(typeof s.v4test1!=="number"){s.v4test1=-1;}if(typeof s.v4test2!=="number"){s.v4test2=-1;}if(typeof s.v4test3!=="number"){s.v4test3=-1;}}else{if(typeof s.dstest1!=="number"){return;}if(typeof s.dstest2!=="number"){return;}if(typeof s.dstest3!=="number"){return;}if(typeof s.v4test1!=="number"){return;}if(typeof s.v4test2!=="number"){return;}if(typeof s.v4test3!=="number"){return;}}clearTimeout(w);v=i;if(q.dstest1){document.body.removeChild(q.dstest1);}if(q.dstest2){document.body.removeChild(q.dstest2);}if(q.dstest3){document.body.removeChild(q.dstest3);}if(q.v4test1){document.body.removeChild(q.v4test1);}if(q.v4test2){document.body.removeChild(q.v4test2);}if(q.v4test3){document.body.removeChild(q.v4test3);}if(s.dstest1!=s.dstest2){return;}if(s.dstest1!=s.dstest3){return;}if(s.v4test1!=s.v4test2){return;}if(s.v4test1!=s.v4test3){return;}if(s.v4test1!=1){return;}if(s.dstest1==-1){p("1");}else{p("0");}},u=function(y,x){t[y]=x;q[y]=document.createElement("img");document.body.appendChild(q[y]);q[y].style.display="none";q[y].setAttribute("id",y);if(q[y].addEventListener){q[y].addEventListener("load",function(){s[y]=1;r(j);});q[y].addEventListener("error",function(){s[y]=-1;r(j);});}else{q[y].attachEvent("onload",function(){s[y]=1;r(j);});}q[y].setAttribute("src",x);};w=setTimeout(function(){r(i);},n);u("v4test1","http://v4test.yahoo.com/eng/test/eye-test.png");u("v4test2","http://v4test2.yahoo.com/eng/test/eye-test.png");u("v4test3","http://v4test3.yahoo.com/eng/test/eye-test.png");u("dstest1","http://dstest.yahoo.com/eng/test/eye-test.png");u("dstest2","http://dstest2.yahoo.com/eng/test/eye-test.png");u("dstest3","http://dstest3.yahoo.com/eng/test/eye-test.png");}k={testIPv6:b,hasCookie:e};c.namespace(g);c[g][a]={name:"ipv6test",getService:function(r,q){if(!f){f=r;o=f.getProperty("cookieDomain");}return k;}};if(m){m.registerService(c[g][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
(function(){var m,n,h,b,e,c,p,l,j,k,o,q=[],f="",d="",a="pa:open",i="pa:close",g;YModules.type_fp={viewevents:["click","contextmenu"],init:function(r){h=r;e=h.getService("moduleplatform");c=h.getService("yui");b=h.getId();m=h.getService("ads_bridge");n=h.getService("instrumentation");j=h.getService("sethomepage");p=h.getService("metrologger");l=h.getService("ipv6test");},onviewload:function(v){if(v=="default"){var u=h.getContextData("ilc"),s=c.one("#y-width"),w=c.one("#y-min-width"),r,t;if(s&&w&&6==c.UA.ie){this.fontResizeDetect();}q=e.queryModules(function(x){var y=e.getModuleState(x);return !!(y&&y.defer);});e.subscribe("error",this.handleError,this,true);e.subscribe("navigate",this.handleNavigate,this,true);e.subscribe("modulesignal",this.handleModuleSignal,this,true);e.subscribe("ready",this.handleReady,this,true);h.listen(i);h.listen(a);if(q.length>0){c.on("load",c.bind(this.loadDeferred,this),window);}if(h.getContextData("deferredRes")){t=h.getContextData("deferredResDelay");if(t>0){c.on("load",c.rbind(function(x){c.later(x,this,this.loadDeferredRes);},this,[t]),window);}else{c.on("load",c.bind(this.loadDeferredRes,this),window);}}if(j.getHpCookie()===null){r=j.isHomepageSet(u)?"1":"0";j.setHpCookie(u,r);c.on("load",c.bind(this.logHomepageSet,this,u,r),window);}if(parseInt(h.getContextData("ipv6"),10)){if(l&&!l.hasCookie()){l.testIPv6();}}if(c.UA.ie===9){if(window.external&&("msIsSiteModeFirstRun" in window.external)&&(1===window.external.msIsSiteModeFirstRun(true))){this.beaconIE9PinningAction();}}c.on("unload",function(){f="unload";e.stop(e.getModules());},window);}},onviewunload:function(r){if(r=="default"){if(o){o.cancel();}e.unsubscribe("error",this.handleError);e.unsubscribe("navigate",this.handleNavigate);e.unsubscribe("modulesignal",this.handleModuleSignal);e.unsubscribe("ready",this.handleReady);o=k=null;}},onviewevent:function(u,s){if(s.type=="contextmenu"){var t=s.target,r;t=t.get("tagName")=="A"?t:t.ancestor("A");if(t){r=t.getAttribute("href").replace(location.href,"");if(r.charAt(0)=="#"||/^javascript:/i.test(r)){s.preventDefault();}}}},onmessage:function(w,u,v){var t=!!v.type,s=w==a,r="y-pa-open";if(!k){k=c.one("#y-cols");}if(s){k.addClass(r);}else{k.removeClass(r);}if(!d||w!=d){d=w;m.fire({type:m.MODULE_ACTIVE,module:u,active:s,detail:{mode:t?"module":"panel"}});}},loadDeferred:function(){c.Array.each(q,function(r){e.refreshView(r,"default");});q=[];},loadDeferredRes:function(){var r=h.getContextData("deferredRes"),s;if(r){s=e.getService("resourcemgr");c.Array.each(r,function(t){s.load(t);});}},logHomepageSet:function(s,r){n.firePageParameterBeacon("hpset="+r+(s?"&ilc="+s:""));},handleReady:function(s){var r=OnloadCache;r.dispatch();r.reset();},handleError:function(v){p.logError(v.moduleId,v.errorType+"(view="+v.view+",pageMode= "+f+"):"+v.error.message);if(f!="unload"){var r,u,s,t,x,w;if(!v.moduleId){return;}if(v.errorType=="onviewunload"&&(v.viewName=="default"||(v.args&&v.args[0]=="default"))){}else{r=v.html;u=v.moduleId;s=e.getModuleApi(u);x=s.getProperty("type");t=h.getString("STR.MODULE.ERROR_FALLBACK_TEXT");w=e.getProperty("errorDetails");if(w||(x!="pa"&&x!="pacontainer"&&x!="masthead"&&x!="fptoday")){if(w){t="JavaScript error: "+v.error.message;}if(!r){r=c.Lang.substitute(e.getProperty("modErrorHtml"),{message:t,name:s.getProperty("title"),img:s.getProperty("icon"),title:s.getProperty("title"),url:s.getProperty("detailUrl")});}this.showModuleDefaultViewError(u,r);}}}},handleModuleStart:function(u){var t=u.moduleId,r=e.getModuleApi(t),v=r.getProperty("type"),s=r.getContextData("mods");if(v!="fp"&&v!="pa"){if(c.Lang.isArray(s)){c.Array.each(s,function(w){e.registerModule(w);e.start(w.props.id,true,true);});}}},handleNavigate:function(r){if(n.hasPendingBeacons()){n.firePendingBeacons();}c.later(200,this,function(s){location.href=s;},r.url);},handleModuleSignal:function(t){if(t.signal=="viewevent"){var s=t.args[1],u=s.target,r=u.get("tagName");if((r=="SELECT"||r=="OPTION")){if(r=="SELECT"){c.detach("selectchange|change");u.on("selectchange|change",function(v){this.processInstrumentation(v.target,true);},this);}return;}this.processInstrumentation(u,(t.moduleId==b));}},processInstrumentation:function(s,r){n.collectData(s);if(r){n.firePendingBeacons();}},showModuleDefaultViewError:function(y,u){var w=e.getModuleApi(y),t=w.getProperty("detailUrl"),r=e.getViewNode(y,"default"),x=(r?r.ancestor(".mod"):null),s=c.Lang.substitute(e.getProperty("modChromeHtml"),{html:u,type_name:w.getProperty("type"),view_name:"error"}),v=c.Node.create(s);if(!t){v.addClass("no-link");}if(x){x.set("innerHTML","").appendChild(v);}},fontResizeDetect:function(){var s=c.one("#y-width"),u=parseInt(s.getComputedStyle("width").substring(-2),10),v=c.one("#y-min-width"),t=parseInt(v.getComputedStyle("width").substring(-2),10),r=c.one("body");if(u<t){r.addClass("min-width");}else{if(u>t){r.removeClass("min-width");}}o=c.later(300,this,this.fontResizeDetect);},beaconIE9PinningAction:function(){var r=Math.random(),s="http://pclick.internal.yahoo.com/p/s=2145185763&t="+r;g=new Image();g.onload=g.onerror=function(){g=null;};g.src=s;}};})();(function(){var b=true,c=false,f=null;function e(g){this.reserveHeight(b);}function a(g){this.reserveHeight(c);}function d(g){this.reserveHeight(c);}YModules.type_ads={api:f,deferred:f,id:f,location:f,locationCtr:f,Y:f,init:function(g){var h=g.getService("yui");this.api=g;this.id=g.getId();this.Y=h;},onviewload:function(m){var j=this.api,i=this.Y.Node.getDOMNode(j.getViewNode(m)),l=j.getContextData,q=l("def"),g=l("ref"),n=l("adlocs"),o=this.Y.Selector.query("."+n,i,b),h,k,p;this.location=n;this.locationCtr=o;if(q||g){k=j.getService("ads_deferred");h=l("data");p={defer:q,refresh:g,moduleId:this.id,location:h.l,node:o,data:h,fallback:l("fallback")};this.deferred=k.register(p,{start:e,success:a,failure:d,scope:this});}else{this.reserveHeight(c);}},onviewunload:function(g){if(this.deferred){this.deferred.unregister();}this.body=this.deferred=f;},reserveHeight:function(g){var i=g?"add":"remove",h=this.Y.DOM[i+"Class"];h(this.locationCtr,this.location+"-reserve");}};})();(function(){var n=true,w=false,z=null,c="expand",r,C,v,k,g="innerHTML",u="interactive",x="data-b",B="change-lang",b="select-lang",y="lang-hide",p="y-link",d="y-txt-1",i=".lang-dd",f="ta",q="0",s="1",A="play",t="pause",h="pa:open",j="pa:close",e="sayt:open",a="sayt:close",m=0,l=1,o=2;YModules.type_news={tablist:z,moduleapi:z,body:z,moduleId:z,ulmService:z,autoHideService:z,ulmWidget:z,carousel:z,SCIDs:z,tabLoaded:z,tabIndex:z,refreshStatus:m,viewevents:["click"],newsType:"",newsSections:"",autoAnimData:"",activeElement:z,crslNewsTabData:[],crslPrefetchCount:1,crslContentReqId:z,arcadeTransport:z,init:function(D){this.Y=D.getService("yui");this.moduleId=D.getId();this.moduleapi=D;this.ulmService=D.getService("ulm");this.id=D.getId();this.arcadeTransport=D.getService("moduleplatform").getService("arcade_transport");this.setStrings();},onviewload:function(N){if(N=="default"){this.body=this.moduleapi.getViewNode("default");var S=this.moduleId,O=this.body,U=this.moduleapi,G=U.getService("tablist"),R=O.query(".y-tablist"),D,H,K=O.query(".y-tabpanels"),Q=O.getById(S+"-locationselect"),T=O.getById(S+"-tablist-id"),P=O.query(".y-carousel"),L=O.one(".lang-select"),M,E,J,I,F;U.listen(h);U.listen(j);U.listen(e);U.listen(a);this.statemgr=U.getService("statemgr");this.newsType=U.getContextData("newsType");this.autoAnimData=U.getContextData("autoAnimData");this.newsSections=U.getContextData("newsSections");E=U.getContextData("crslPrefetchCount");if(E){this.crslPrefetchCount=E;}if(Q){this.subscribeUlmWidget(Q);}if(T){this.tablist=G.create(T,{panels:K.get("children"),enableSelectedTabLink:n});F=this.tablist.getSelectedIndex();this.tablist.subscribe("tabchange",function(V){this.handleTabChange(V.toIndex);},this,n);this.tablist.subscribe("beforetabchange",this.handleBeforeTabChange,this,n);D=R.queryAll("li").size();this.SCIDs=new Array(D);this.tabLoaded=[];this.carousel=[];this.count=[];for(H=0;H<D;H++){this.tabLoaded[H]=z;this.carousel[H]=z;this.count[H]=z;}this.tabLoaded[F]=n;this.tabIndex=F;if(T.hasClass("intl-us")){U.listen("ulm:defaultlocation");}if(O.one(".navigation .next")){this.subscribeCarousel(P,F);if(this.isAutoscrollEnabled(F)&&this.getAutoscrollState()){this.play();}}}if(L){I=L.all(".dd li");I.on("mouseover",function(W){var V=W.target.ancestor(".dd li")||W.target;V.addClass("y-bg-4");},this);I.on("mouseout",function(W){var V=W.target.ancestor(".dd li")||W.target;V.removeClass("y-bg-4");},this);M=O.one(i);J=[M,L];this.autoHideService=U.getService("autohide").register({targets:J,hide:this.Y.bind(function(){if(M){M.addClass(y);}},this)});}this.refreshStart();}},onviewevent:function(R,T){if(R==="default"){var W=T.target,V=this.tablist,U,J=W.ancestor("h3.toggle"),E=W.ancestor(".fetch-more"),X=W.ancestor(".hide-more"),S=W.ancestor(".lang-sel"),K=W.ancestor(".change-lang"),D=W.ancestor(".select-lang"),H=W.ancestor(".play",n)||W.ancestor(".pause",n),N,Y,F,P,O,Q,I,G,M,L=this.body;if(H){this.handleManualPlayPauseAutoPlay(H);T.preventDefault();}if(S||W.hasClass("lang-sel")){L.one(i).toggleClass(y);T.preventDefault();}else{P=L.one(i);if(P){P.addClass(y);}}M=D||W;if(M.hasClass(b)){T.preventDefault();}M=K||W;if(M.hasClass(B)){Q=M.one("span");Y=Q.get(g);F=M.getAttribute("data-lang");L.one(".lang-sel span").set(g,Y);P=L.one(i);I=P.all("a");O=P.all("a span");O.replaceClass(d,p);I.addClass(B);I.removeClass("strong");M.removeClass(B);M.addClass("strong");Q.replaceClass(p,d);P.addClass(y);G=this.moduleapi.getString("LOADING");N=M.ancestor(".tabpanel").one(".news-list");N.set(g,G);this.makeLangCall(N,F);T.preventDefault();}if(L.one(".specialevents")){if(W.hasClass("toggle")||J){T.preventDefault();if(J){W=J;}this.toggleEventsOpen(W);}if(W.ancestor(".specialevents-worldcup-tbody")){if(W.ancestor("TR")){W=W.ancestor("TR");T.preventDefault();if(W.one("A")){this.moduleapi.navigate(W.one("A").getAttribute("href"));}}}if(W.ancestor(".mm-results")){this.gotoURL(W);}}if(W.hasClass("fetch-more")||E){T.preventDefault();if(E){W=E;}this.fetchMoreItems(W);return;}if(W.hasClass("hide-more")||X){T.preventDefault();if(X){W=X;}this.showHideMore(W);return;}if(!this.tablist){return;}U=V.getTabPanelNode(V.getSelectedIndex());if(U.query(".y-nav-buttons")){if(W.hasClass("prev")||W.ancestor(".prev")){T.preventDefault();this.previous();this.moduleapi.broadcast(u);}else{if(W.hasClass("next")||W.ancestor(".next")){T.preventDefault();this.next();this.moduleapi.broadcast(u);}}}}},onLocationSelect:function(I){var E=this.body,F=E.query(".local-news"),G=this.newsType,D=I.response.html,H=E.getById(this.id+"-locationselect"),J;if(F){F.set("innerHTML",D);this.tabLoaded[0]=z;}else{if(G=="newsAccordion"){J=H.get("parentNode");J.all("UL").remove();J.insertBefore(J.create(D),J.one("P"));}else{if(G=="newsStream"){J=H.get("parentNode");J.all("UL").remove();J.insertBefore(J.create(D),J.one("P"));}}}},onviewunload:function(D){if(D=="default"){this.body=z;if(this.tablist){this.tablist.destroy();this.tablist=z;}if(this.ulmWidget){this.ulmWidget.destroy();this.ulmWidget=z;}}},onmessage:function(D,E,G){var F=this.tablist.getSelectedIndex();if(this.isAutoscrollEnabled(F)&&this.getAutoscrollState()){switch(D){case h:case e:this.pause(n);break;case j:case a:this.play(n);break;default:break;}}else{if("ulm:defaultlocation"==D&&"news"!=E){this.tabLoaded[0]=z;this.tabLoaded[2]=z;this.ulmWidget=z;if(F===0||F===2){this.handleTabChange(F);}}}},hasAdRunning:function(){return(document.documentElement.className.indexOf("ad-running")>-1);},handleBeforeTabChange:function(D){if(this.isAutoscrollEnabled(D.fromIndex)&&this.getAutoscrollState()){this.pause();}},handleTabChange:function(F){var J=this.tablist,H=J.getTabNode(F),G=J.getTabPanelNode(F),E=this.moduleapi,I,K,L,D=0;this.tabIndex=F;this.statemgr.setUserModuleState("tab",F+1);if(this.newsSections){D=this.newsSections[F];}if(this.tabLoaded[F]===z){I=E.getString("LOADING");G.set("innerHTML",I);K={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"tab",_tabNum:F+1,_tabName:D,_newsType:this.newsType}};L={success:this.handleTabSuccess,failure:this.handleTabFailure,argument:{tabNode:H,tabPanelNode:G,toIndex:F},scope:this};this.tabLoaded[F]=n;E.makeRequest(K,L);}else{this.refreshStart();if(this.isAutoscrollEnabled(F)&&this.getAutoscrollState()){this.play();}}this.moduleapi.broadcast(u);},isAutoscrollEnabled:function(D){var E=(D>=0&&this.autoAnimData&&this.Y.Lang.isArray(this.autoAnimData.animTabs)&&(this.Y.Array.indexOf(this.autoAnimData.animTabs,D+1+"")!==-1));return E;},getAutoscrollState:function(){return !this.autoAnimData.animPausedState;},makeLangCall:function(E,G){var D={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"lang-change",_tabLang:G}},F={success:this.handleLangSuccess,failure:this.handleLangFailure,argument:{node:E,langId:G},scope:this};this.moduleapi.makeRequest(D,F);},fetchMoreItems:function(I){var H=I.getAttribute("data-pkids"),E,J,D=0,G=0,F=w;if(this.tabIndex&&this.newsSections){D=this.tabIndex;G=this.newsSections[D];}if(I.hasClass("localFetch")){F=n;}E={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"fetchMore",_tabName:G,_newsType:this.newsType,_pkgIds:H}};J={success:this.handleMoreSuccess,failure:this.handleMoreFailure,argument:{newsType:this.newsType,target:I,local:F},scope:this};this.moduleapi.makeRequest(E,J);},handleMoreSuccess:function(E,H){var J=H.target,I=J.get("parentNode"),D=I.get("parentNode"),G=E.html,F=D.one("UL");if(G){if(H.local===n){F.addClass("hide-completely");}D.insertBefore(D.create(G),I);J.replaceClass("fetch-more","hide-more");this.swapMoreText(J);}},handleMoreFailure:function(D,E){},showHideMore:function(G){var D=G.ancestor(".extend-news"),F=D.all("UL"),E=G.hasClass("localFetch");if(E){F.item(0).toggleClass("hide-completely");}F.item(1).toggleClass("hide-completely");this.swapMoreText(G);},swapMoreText:function(G,D){var E=G.getAttribute("data-more"),F=G;if(G.one(".more-text")){F=G.one(".more-text");}G.setAttribute("data-more",F.get("innerHTML"));F.set("innerHTML",E);G.toggleClass("show-more");},handleLangSuccess:function(E,I){var D=this.moduleapi.getContextData,K=D("lang"),H=D("langErr"),J=E.html,G=I.node,F=G.ancestor("div");if(I.langId!=K){this.defaultLang(K);}G.replace(J);if(H){F.one(".news-list").insert(H,0);}},defaultLang:function(J){var F,G=this.body,H,L=G.one(".lang-sel span"),K=G.all(".lang-dd li a"),E=G.all(".lang-dd li a span"),I,D="",M=K.size();E.replaceClass(d,p);K.removeClass("strong");K.addClass(B);for(F=0;F<M;F++){H=K.item(F);D=H.getAttribute("data-lang");if(D==J){H.addClass("strong");H.removeClass(B);I=H.one("span");I.replaceClass(p,d);L.set(g,I.get(g));break;}}},handleLangFailure:function(D,E){},handleTabSuccess:function(J,E){var F=this.moduleId,H=this.moduleapi,L=E.tabNode,K=E.tabPanelNode,G=J.html,D,M,I=E.toIndex;if(G){K.set("innerHTML",G);if(!this.ulmWidget&&K.getById(F+"-locationselect")){D=K.getById(F+"-locationselect");this.subscribeUlmWidget(D);}M=K.query(".y-carousel");if(M){this.subscribeCarousel(M,I);if(this.isAutoscrollEnabled(I)&&this.getAutoscrollState()){this.play();}}this.refreshStart();}else{H.navigate(L.query("a").get("href"));}},handleTabFailure:function(D,E){this.moduleapi.navigate(this.tablist.getTabUrl(E.toIndex));},subscribeUlmWidget:function(D){this.ulmWidget=this.ulmService.create(D);this.ulmWidget.subscribe("locationselect",this.onLocationSelect,this);},subscribeCarousel:function(H,E){var G=this.moduleapi,J,F=G.getService("carousel"),I,D=[];if(this.isAutoscrollEnabled(E)){I={animDuration:0.4,loop:n,animate:n,autoscrollInterval:this.autoAnimData.animDurationSub,autoscrollIntervalFirst:this.autoAnimData.animDuration};}else{I={animDuration:0.4,loop:n};}J=this.carousel[E]=F.create(H,I);J.subscribe("beforescroll",this.loadCarouselPackage,this);J.subscribe("scroll",this.updateCarouselCount,this);D=G.getContextData("SCIDs");this.SCIDs[E]=D;this.count[E]=G.getString("STR.CONTENTCAOURSEL.COUNT");},handleManualPlayPauseAutoPlay:function(F){var E=this.statemgr,G,H=(F.get("tagName")=="A")?F:F.ancestor("A"),D=H.one(".anim-ctrl");if(n===F.hasClass(A)){G=q;this.autoAnimData.animPausedState=w;H.setAttribute(x,this.autoAnimData.beacons[1]);D.set(g,this.autoAnimData.animPauseString);this.play();F.replaceClass(A,t);}else{if(n===F.hasClass(t)){G=s;this.autoAnimData.animPausedState=n;H.setAttribute(x,this.autoAnimData.beacons[0]);D.set(g,this.autoAnimData.animPlayString);this.pause();F.replaceClass(t,A);}}if(E){E.setUserModuleState(f,G);}this.moduleapi.broadcast(u);},toggleEventsOpen:function(H){var G=H.get("parentNode"),I=G.hasClass(c),E=0,F,D;if(r===z){this.setStrings();}if(I){E=1;F=v;D=r;}else{F=k;D=C;}H.setAttribute("data-b",F);H.query(".hide-textindent").set(g,D);this.statemgr.setUserModuleState("expanded",E);G.toggleClass(c);if(!I){this.refreshStart();}},setStrings:function(){var D=this.moduleapi;r=D.getString("STR.SPECIALEVENTS.EXPAND");C=D.getString("STR.SPECIALEVENTS.COLLAPSE");k=D.getString("STR.SPECIALEVENTS.CLOSEBEACON");v=D.getString("STR.SPECIALEVENTS.OPENBEACON");},gotoURL:function(F){var D=F.ancestor("LI"),E;if(D){F=D;}E=D.one(".time");if(E){this.moduleapi.navigate(E.getAttribute("href"));}},previous:function(){this._moveCarousel("previous");},next:function(){this._moveCarousel("next");},play:function(D){this._moveCarousel("play",D);},pause:function(D){this._moveCarousel("pause",D);},_moveCarousel:function(F,D){var E=this.tablist.getSelectedIndex(),G=this.carousel[E];if(G&&!G.isScrolling()){G[F].call(G,D);}},updateCarouselCount:function(){var F=this.tablist,G=F.getSelectedIndex(),E=F.getTabPanelNode(G),H,D,I;if(this.carousel&&this.carousel[G]){H=this.carousel[G];D=H.getCurrentIndex();I=E.query(".y-nav-count");if(I){I.set("innerHTML",this.count[G][D]);}}},loadCarouselPackage:function(Y){var U=Y.toIndex,K=Y.fromIndex,S=U-K,T=this.tablist,G=T.getSelectedIndex(),V=this.carousel[G],I=V.getItemNode(U),F=I.query("UL"),Z=this.moduleapi,N=this.SCIDs[G],R=this.crslPrefetchCount,H=this.arcadeTransport,E,W,O,X,J,D,M,Q,P,L;if(!F){P=N[U];E=this.crslNewsTabData;M=E[G];if(M&&M[P]){I.set("innerHTML",M[P]);E[G][P]="1";}else{O=1;Q="";if(0>S||(0===K&&1<S)){O=-1;}W=U;X="";while(N[W]&&W!==0){P=N[W];if(0>=R--||(M&&M[P])){break;}W+=O;Q+=X+P;X=",";}J=Z.getString("LOADING");I.set("innerHTML",J);D={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"loadPane",_tabNum:G+1,scid:Q}};L={success:this.loadCarouselPackageSuccess,failure:this.loadCarouselPackageFailure,argument:{paneToLoad:I,tab:G},scope:this};if(H.isRequestPending(this.crslContentReqId)){H.abortRequest(this.crslContentReqId);}if(H.isRequestPending(this.requestId)){H.abortRequest(this.requestId);}this.crslContentReqId=H.makeRequest(D,L);}}},loadCarouselPackageSuccess:function(F,H){var J=H.paneToLoad,G=F.html,E=H.tab,D=this.crslNewsTabData[E],I=this.moduleapi.getContextData("NEWS_CRSL_DATA");if(G){J.set("innerHTML",G);}if(!D){this.crslNewsTabData[E]=I;}else{this.Y.aggregate(D,I);}},loadCarouselPackageFailure:function(E,F){var D=this.tabIndex,G;if(!D){D=0;}G=this.tablist.getTabUrl(D);this.moduleapi.navigate(G);},hasRefreshableContent:function(){var D=this.body.one(".specialevents .event-data");return(D.ancestor(function(E){return(E.getComputedStyle("display")=="none");})===z);},refreshStart:function(){var E=this.moduleapi,F,D;switch(this.refreshStatus){case o:this.refreshContent();break;case m:D=E.getContextData("refreshDelay");F=this.body.one(".refresh-msg");if(D>0&&this.hasRefreshableContent()){F.removeClass("hide");this.Y.later(D,this,this.refreshContent);this.refreshStatus=l;}else{if("0"==D){F=this.body.one(".refresh-msg");if(F){F.addClass("hide");return;}}}break;default:break;}return this.refreshStatus;},refreshContent:function(){if(!this.hasRefreshableContent()){this.refreshStatus=o;return w;}var E={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"refresh"}},H={success:this.refreshContentSuccess,failure:this.refreshContentFailure,scope:this},F=this.moduleapi,G=this.requestId,D=F.getService("moduleplatform").getService("arcade_transport");if(D.isRequestPending(G)){D.abortRequest(G);}if(D.isRequestPending(this.crslContentReqId)){D.abortRequest(this.crslContentReqId);}this.requestId=D.makeRequest(E,H);this.refreshPending=w;return n;},refreshContentSuccess:function(E,G){var D=this.body,F;this.refreshStatus=m;if(E.html){F=D.one(".event-data");if(F){F.set("innerHTML",E.html);}}this.refreshStart();},refreshContentFailure:function(D,E){this.refreshStatus=m;}};})();var yepHandler;(function(){var s="hide",aq="prev",p="next",e="close",K="empty",at="selected",ab="inlinevid",n="indicator",i="todaytop",L="main-story",j=".main-story-content",v="no-visibility",W="related-links",aw="no-top-padding",ah="indicator-playing",h="y-today-grad1",g="y-today-grad2",x="y-today-ln-1",an="y-ln-2",al="y-ln-4",N="trans-border",ad="item",ae="play",m="pause",ap="height",ac=null,R=true,z=false,ai="href",C="innerHTML",am="pa:open",au="pa:close",J="lightbox:start",a="lightbox:end",r="y-carousel",d="VIDEO_PLAYER",ao=32,f="parentNode",k="none",X="px",ak="OK",Y="-panel",u="abort",af="className",F="data-b",H="story",aa="footers",c="story_footer_pairs",b="fpck",q="interactive",P="sayt:open",ax="sayt:close",U="mouseout",S="mouseover",G=300,Z="vid-sh",ar="close",y="onPlayerReady",aA="onPlaybackStart",o="pane",V="package",l="baseline",ay="ta",T="ca",w="cat",A="1",ag="0",aj="stories",O="footers",E=0,B=0,az=0,D=-1,t=1,M=2,Q=3,I="single_pane",av="all_panes";YModules.type_fptoday={viewevents:["click","keyup"],moduleapi:ac,cache:ac,body:ac,moduleId:ac,mainStory:ac,mainStoryContent:ac,lastSelectedFooter:ac,carousel:ac,instrumentation:ac,packageIds:ac,visibleElementCount:0,textCount:ac,paginationType:ac,yep:ac,cokeTestId:ac,mcode:ac,woeId:ac,cookieDomain:ac,ylt:ac,delayMouseover:ac,timeDelayed:0,carouselContainer:ac,carouselOuterContainer:ac,footerOverlay:ac,loadingOverlay:ac,isTodayOnTop:1,showDate:R,animMode:k,preloadPaneCount:0,timeoutPaneCount:0,animIntervalInitial:0,animIntervalSubsequent:0,isInitialAnim:R,animFadeDuration:B,animHtml:ac,animPlayBeacon:ac,animPauseBeacon:ac,animPlayString:ac,animPauseString:ac,delayAutoPlayMouseover:ac,autoPlayReference:ac,isOtherModuleOpen:z,isManuallyPaused:z,titleRegion:ac,statemgr:ac,arcadeTransport:ac,doBroadcastEvent:z,footerHeight:0,blurHandler:ac,focusHandler:ac,activeElement:ac,mod:ac,handleOffsetWidth:0,handleParentLeft:0,handleParentOffsetWidth:0,handleCursorOffset:0,populateStoryRequestId:ac,populateScrollItemRequestId:ac,unifiedEnabled:ac,persPkgId:ac,clickStCookie:ac,clickStToastCookie:ac,todayPkgPersEnabled:ac,init:function(aC){this.Y=aC.getService("yui");this.cache={};this.moduleId=aC.getId();this.moduleapi=aC;this.cookieDomain=aC.getService("moduleplatform").getProperty("cookieDomain");this.instrumentation=aC.getService("instrumentation");var aB=this.statemgr=aC.getService("statemgr");this.todayPkgPersEnabled=aC.getContextData("today_pkg_pers");if(this.todayPkgPersEnabled){this.clickStCookie=aB.getUserModuleState(T);}this.arcadeTransport=aC.getService("moduleplatform").getService("arcade_transport");aC.listen(am);aC.listen(au);aC.listen(J);aC.listen(a);aC.listen(P);aC.listen(ax);yepHandler=this.Y.bind(function(aE,aF){var aD=this.yep;switch(aE){case y:this.yep=this.getYEP();break;case aA:if(aD){this.replaceTitle(aD.getCurrentVideo().title);}break;}},this);},onviewload:function(aL){if(aL=="default"){var aJ=this.Y.UA.ie,aS,aH,aR,aO,aW,aU,aY,aE,aC,aV=this.moduleId,aZ=this.moduleapi,aX=aZ.getContextData(),aF=aZ.getService("carousel"),aN=aZ.getContextData("crslAnimEnabled"),aI=this.clickStCookie,aD,aK,aG,aT,aM,aP,aB,aQ;aH=this.body=aZ.getViewNode(aL);aO=this.mainStory=aH.getById(aV+"-main_story");this.footerOverlay=aH.query(".footer-overlay");this.loadingOverlay=aH.query(".loading-overlay");if(!aO||aH.query(".xotitle")){this.onviewevent=ac;return;}this.mainStoryContent=aO.one(j);aR=this.carousel=aF.create(aH.query("."+r),{animDuration:0.4,loop:R,animate:aN});aR.subscribe("beforescroll",this.loadScrollItem,this);aR.subscribe("scroll",this.updatePaginator,this);this.isTodayOnTop=aZ.getContextData(i);this.showDate=aZ.getContextData("showdate");aW=this.packageIds=aX.pkgIds;this.initializeCache(aX);aY=aH.query("#"+aV+Y+"0 ."+ad);this.lastSelectedFooter=(aX.centerStory==1)?aY.next("."+ad):aY;this.visibleElementCount=aW.length/aR.getItemCount();this.textCount=aX.textCount;this.paginationType=(aX.paginationtype)?aX.paginationtype:l;this.cokeTestId=aX.cokeTestId;this.mcode=aX.mcode;this.woeId=aX.woeId;this.ylt=aX.dummyYLT;this.timeDelayed=aZ.getContextData("today_delay_mouseover")||G;if(aR.getItemCount()>1){aU=aH.query(".y-carousel-list").get("children");aU.removeClass(s);this.updatePaginator();aH.query(".navigation").removeClass(v);}aE=this.carouselContainer=aH.one("."+r);aC=this.carouselOuterContainer=aH.one(".carousel-container");aE.on(S,this.handleFooterMouseover,this);aE.on(U,this.handleFooterMouseout,this);this.fixCarouselPanelHeight(aH.query("#"+aV+Y+"0"));this.unifiedEnabled=aZ.getContextData("unified.todaynews.enabled");this.animMode=aZ.getContextData("footer.anim.mode");if(this.animMode!=k){this.animIntervalInitial=aZ.getContextData("footer.anim.interval.initial")||E;this.animIntervalSubsequent=aZ.getContextData("footer.anim.interval.subsequent")||E;this.animFadeDuration=aZ.getContextData("footer.anim.fade.duration")||B;this.preloadPaneCount=aZ.getContextData("footer.anim.preload.pane_count")||0;this.timeoutPaneCount=aZ.getContextData("footer.anim.timeout.pane_count")||0;this.animHtml=aH.create(aZ.getContextData("animHtml"));aQ=aH.one(".title-date");this.titleRegion=aQ?aQ.get("region"):ac;this.attachEngagingAreaMouseEvents();if(aJ){document.onfocusout=this.Y.bind(this.handleBlur,this);document.onfocusin=this.Y.bind(this.handleFocus,this);}else{this.blurHandler=this.Y.on("blur",this.Y.bind(this.handleBlur,this),window);this.focusHandler=this.Y.on("focus",this.Y.bind(this.handleFocus,this),window);}this.insertPlayPauseButton();this.isInitialAnim=R;this.isManuallyPaused=aZ.getContextData("animPausedState");this.startAutoPlay();}this.doBroadcastEvent=aZ.getContextData("broadcast.interactive_event");if(aI&&aI.pkgId&&aI.pkgIds){aM=true;aK=aI.pane?aI.pane:0;aB=aI.pkgIds;aD=aB.length;for(aS=0;aS<aD;aS++){aP=aB[aS];aG=this.indexOf(aP,aW);if("-1"!=aG&&(!aT||(aT&&(aT+1)==aG))){aT=aG;}else{aM=false;break;}}if(aM){this.persPkgId=aI.pkgId;if("0"!=aK){this.carousel.scrollTo(aK);}else{this.handlePersistantScroll();}}}if(aI){this.statemgr.setUserModuleState(T,ac);}}},indexOf:function(aE,aD){var aC=aD.length,aB;for(aB=0;aB<aC;aB++){if(aD[aB]==aE){return aB;}}return -1;},handlePersistantScroll:function(aD){var aE,aC=this.body.getById(this.moduleId+Y+this.clickStCookie.pane).all("a"),aB=this.persPkgId;if(aC){aC.each(function(aF){if(aF.getAttribute("y-pkgid")==aB){aE=aF;}});if(aE){this.populateStory({linkNode:aE,userHover:z});}}this.persPkgId=null;},manageToast:function(aD){var aC=this.body.one(".toast"),aE,aF,aB;if(!this.clickStToastCookie){if(aD){if(!aC){this.body.setStyle("position","relative");aF=this.moduleapi.getContextData("TODAY_RETAIN_PKG_MARKUP");this.body.append(aF);aC=this.body.one(".toast");}aC.removeClass("hide");this.statemgr.setUserModuleState(w,"1");}else{aB=aC.fx;aE={from:{opacity:1},to:{opacity:0},duration:2};aB.setAttrs(aE);aB.on("end",function(){aC.addClass("hide");aB.detach("end");},this);aB.run();}}},onviewunload:function(aB){if(aB=="default"){this.cleanup();}},onviewevent:function(aK,aC){var aB,aI=aC.target,aL=aC.type,aD,aH,aN,aE,aM,aG,aJ=this.delayMouseover,aF=z;if(aJ){aJ.cancel();this.delayMouseover=ac;}if(aK=="default"&&aI){if(aL=="keyup"){if(this.carouselContainer.contains(aI)){this.handleFooterMouseover(aC);this.cancelAutoPlay();}}else{if(this.carouselContainer.contains(aI)){aB=this.handleFooterClick(aI);}else{if(this.classMatch(aI,aq)){aB=this.previous;aF=R;}else{if(this.classMatch(aI,p)){aB=this.next;aF=R;}else{if(this.classMatch(aI,ae)){aB=this.handleManualPlayPauseAutoPlay(ae,aI);}else{if(this.classMatch(aI,m)){aB=this.handleManualPlayPauseAutoPlay(m,aI);}else{if(!aI.ancestor(".type_offlead")&&(aI.hasClass(ab)||this.classMatch(aI,L))){aB=this.handleMainStory(aI);}}}}}}}if(this.todayPkgPersEnabled&&aL=="click"&&(aI.get("tagName")=="A"||aI.ancestor("a"))&&aI.ancestor(".fptoday-container")){aD=this.carousel.getCurrentIndex();aG=this.statemgr;aH=aI.ancestor(".fptoday-container").one(".footer-section .selected");aN=aH.getAttribute("y-pkgid");aE=[];aH.ancestor("li").all("a").each(function(aO){aE.push(aO.getAttribute("y-pkgid"));});aM={pane:aD,pkgId:aN,pkgIds:aE};aG.setUserModuleState(T,aM);}if(aB){this.cancelAutoPlay();aC.preventDefault();aB.call(this);if(aF&&this.doBroadcastEvent){this.broadcastEvent();}}}},loadScrollItem:function(aP){var aJ=this.body,aF,aG,aQ=this.carousel,aT=this.moduleapi,aN=aQ.getCurrentIndex(),aB=aN,aR=this.moduleId,aO=this.animMode,aK=aJ.getById(aR+Y+aN),aH,aI="",aL=ac,aC,aD,aE,aM=aP.toIndex,aS=(aM-aP.fromIndex==1)?p:aq;if(aK){if(aO==k){aC=aa;aD=this.populateScrollItem;aE=this.populateScrollItemFailure;aI=aK.hasClass(K)?M:"";}else{aC=c;aD=this.preloadSuccess;aE=this.preloadFailure;if(aK.hasClass(K)){aI=M;}else{if(this.preloadPaneCount!==az){aI=t;}}}if(aI!==""){aL=this.getPackageIds(aN,aI,aS);}if(aL&&aL.length>0){if(aI==t){aT.refreshView("default");return;}if(aS==aq&&aI==Q){aB=aN-aL.length/this.visibleElementCount+1;}aF={type:"module",moduleId:aR,args:{_action:"show",_subAction:aC,storyIds:aL,panelIndex:aB,cokeTestId:this.cokeTestId,mcode:this.mcode,woeId:this.woeId,todaytop:this.isTodayOnTop}};aG={success:aD,failure:aE,argument:{panel:aK,panelIndex:aN,showStory:R,direction:aS},scope:this};if(!this.autoPlayReference){aF.args=this.Y.merge(aF.args,{isScroll:1});}this.loadingOverlay.removeClass(s);if(this.arcadeTransport.isRequestPending(this.populateScrollItemRequestId)){this.arcadeTransport.abortRequest(this.populateScrollItemRequestId);}this.populateScrollItemRequestId=this.arcadeTransport.makeRequest(aF,aG,aR);}else{this.fixCarouselPanelHeight(aK);if(aO!=k){if(!this.persPkgId){aQ=this.carousel;aH=aQ.getItemNode(aQ.getCurrentIndex()).query("."+ad);this.populateStory({linkNode:aH,userHover:z});}else{this.handlePersistantScroll();}this.startAutoPlay();}}}},preload:function(aF,aC,aH){var aB=this.body.getById(this.moduleId+Y+aF),aE=this.getPackageIds(aF,Q,p),aD={type:"module",moduleId:this.moduleId,args:{_action:"show",_subAction:c,storyIds:aE,panelIndex:aF,cokeTestId:this.cokeTestId,mcode:this.mcode,woeId:this.woeId,todaytop:this.isTodayOnTop}},aG={success:this.preloadSuccess,failure:this.preloadFailure,argument:{panel:aB,panelIndex:aF,showStory:aC,direction:p},scope:this};if(aH){aD.args=this.Y.merge(aD.args,aH);}if(this.arcadeTransport.isRequestPending(this.populateScrollItemRequestId)){this.arcadeTransport.abortRequest(this.populateScrollItemRequestId);}this.populateScrollItemRequestId=this.arcadeTransport.makeRequest(aD,aG,this.moduleId);},preloadSuccess:function(aC,aI){var aT=this.moduleapi,aP=this.carousel,aE=aT.getContextData(aj),aB=aT.getContextData(O),aL=aI.panelIndex,aJ=aI.panel,aF=aI.showStory,aR=aI.direction,aN=this.visibleElementCount,aM,aG,aO,aH=(aR==aq)?(aB.length-aN):0,aQ,aD=aJ,aS,aK="";while(aJ&&aJ.hasClass(K)&&aB[aH]){aK+=aB[aH];if((aH+1)%aN===0){aJ.removeClass(K);aJ.set(C,aK);aJ.all("."+ad).setStyle(ap,this.footerHeight+X);aM=aJ.get("children");for(aQ=0;aQ<aN;aQ++){aS=this.extractId(aM.item(aQ));if(aS!=""){this.cache[aS]=aE[aS];}}}aH++;if(aH%aN===0){aJ=(aR==aq)?aJ.previous():aJ.next();aK="";aH=(aR==aq)?aH-(2*aN):aH;}}if(aF){if(aL!=aP.getCurrentIndex()){this.carousel.scrollTo(aL);}this.loadingOverlay.addClass(s);this.fixCarouselPanelHeight(aD);if(!this.persPkgId){aG=aD.one("."+ad);this.populateStory({linkNode:aG,userHover:z});}else{this.handlePersistantScroll();}this.startAutoPlay();}aO=aD.one(".empty");if(aO){aT.refreshView("default");}},preloadFailure:function(aC,aD){var aB=this.Y.Lang.isObject(aC);if(aB&&aC.statusText==u){if(this.preloadPaneCount==this.timeoutPaneCount){this.handleFatalError();}else{}}else{if(aB&&aC.statusText==ak){}else{this.handleFatalError();}}},handleFatalError:function(){var aB=this.carousel;this.animMode=I;this.loadingOverlay.addClass(s);aB.scrollTo(0,z);this.populateStory({linkNode:aB.getItemNode(0).query("."+ad),userHover:z});this.body.one(".y-nav-buttons").addClass(v);},updatePaginator:function(){var aB=this.body,aE,aH,aD,aC=this.visibleElementCount,aG,aF;switch(this.paginationType){case l:aB.query(".navigation .selected").removeClass(at);aB.getById(this.moduleId+"_"+this.carousel.getCurrentIndex()).addClass(at);break;case o:aE=aB.query(".navigation .y-nav-count");this.setPaginationString(this.carousel.getCurrentIndex()+1,this.carousel.getItemCount());break;case V:aH=aB.queryAll("."+ad);aD=aH.size();aF=(this.carousel.getCurrentIndex()+1)*aC;aG=aF-(aC-1);this.setPaginationString(aG+" - "+aF,aD);break;}},setPaginationString:function(aE,aD){var aC,aB=this.body.query(".navigation .y-nav-count");if(aB){aC=this.Y.substitute(this.textCount,{"0":aE,"1":aD});aB.set(C,aC);}},handleFooterMouseover:function(aD){var aC=aD.target,aB=aC.hasAttribute(ai)?aC:aC.get(f);if(aB.hasClass(ad)&&aB.hasClass(at)){return;}this.delayMouseover=this.Y.later(this.timeDelayed,this,this.populateStory,{linkNode:aB,userHover:R});},handleFooterMouseout:function(aC){var aB=this.delayMouseover;if(aB){aB.cancel();this.delayMouseover=ac;}},populateStory:function(aM){var aI,aP,aO,aH,aG=this.moduleapi,aB=this.cache,aL=aM.linkNode,aE=aM.userHover,aN=!aE,aF=this.extractId(aL),aK=this.lastSelectedFooter,aR=aK.query(".image"),aQ=aB[aF],aD,aC,aJ;if(!aL.hasClass(ad)){return;}if(aQ&&aQ.index&&!(/^\d+$/.test(aQ.index))){return;}if(aR){aR.replaceClass(al,an);}aK.removeClass(at).replaceClass(al,N).replaceClass(g,h).addClass(x);this.lastSelectedFooter=aL;if(!aQ){aF=this.extractId(aL);this.lastSelectedFooter=aL;aQ=aB[aF];}if(aQ){this.lastSelectedFooter.addClass(at).replaceClass(N,al).replaceClass(h,g).removeClass(x);this.lastSelectedFooter.query(".image").replaceClass(an,al);aH=aQ.html;if(aH){aN=this.Y.UA.ie?z:aN;this.setMainStory(aH,aF,aN,R);}else{aD=this.body.getById(this.moduleId+"-header-image");if(aD){aC=aD.get("src");aJ=aD.get("alt");}aI={type:"module",moduleId:this.moduleId,args:{_action:"show",_subAction:H,storyId:aF,storyIndex:aQ.index,cokeTestId:this.cokeTestId,woeId:this.woeId,todaytop:this.isTodayOnTop}};aP={success:this.handlePopulateStorySuccess,failure:this.handlePopulateStoryFailure,argument:{storyId:aF,oldImageSrc:aC,oldImageAlt:aJ,doFade:aN},scope:this};if(aG.isRequestPending(this.populateStoryRequestId)){aG.abortRequest(this.populateStoryRequestId);}this.populateStoryRequestId=aG.makeRequest(aI,aP);}aO=aK.query("."+ah);if(this.showDate&&this.isTodayOnTop!="0"){this.mainStory.addClass("has-date");}if(aO){aO.replaceClass(ah,n);this.carouselContainer.removeClass(aw);}if(aL&&aE){this.tracking(aL);}this.updatePaginator();if(this.doBroadcastEvent&&aE){this.broadcastEvent();}}},tracking:function(aB){var aC=this.cache,aD=this.extractId(aB);if(aC[aD]&&!aC[aD].beaconFired){if(aB.hasAttribute("data-b-tdh")){this.instrumentation.fireUltBeacon(aB.getAttribute("data-b-tdh"));}aC[aD].beaconFired=R;if(this.preloadPaneCount!==az){this.setFPCKCookie(aD);}}},handleMainStory:function(aC){var aD,aE=ac,aB=this.cache;if(this.classMatch(aC,e)){aE=this.closeVideo;}else{if(aC.hasClass(ab)||!this.classMatch(aC,W)&&(aC.hasAttribute(ai)||aC.ancestor(function(aF){return aF.hasAttribute(ai);}))){aD=this.extractId(this.lastSelectedFooter);if(aB[aD]&&aB[aD].clipId){aE=this.showInlineVideo;}}}return aE;},handleFooterClick:function(aC){var aE,aF=ac,aB=this.cache,aD=this.classMatch(aC,ad);if(aD){aE=this.extractId(aD);if(aB[aE]&&aB[aE].clipId){aF=this.showInlineVideo;}}return aF;},closeVideo:function(){var aD=this.yep,aF=this.body.one(".video-package video"),aE=this.lastSelectedFooter,aH=this.extractId(aE),aC=aE.query("."+ah),aB=this.footerOverlay,aI=this.mainStory;if(aD){try{aD.stopMedia();}catch(aG){return;}this.fireBeacon(Z,ar,aD.getCurrentVideo().mediaId);}else{if(aF){this.fireBeacon(Z,ar,aF.getAttribute("clipId"));}}this.mainStoryContent.set(C,this.cache[aH].html);this.setOpacity(this.mainStoryContent,1);if(this.showDate&&this.isTodayOnTop!="0"){aI.addClass("has-date");}aI.removeClass("auto-height");if(aC){aC.replaceClass(ah,n);this.carouselContainer.removeClass(aw);}if(aB){aB.addClass(s);}if(this.doBroadcastEvent){this.broadcastEvent();}},showInlineVideo:function(){var aG=this.extractId(this.lastSelectedFooter),aD=this.cache[aG],aC=this.lastSelectedFooter.query(".indicator"),aE=this.lastSelectedFooter.query(".item-label"),aF=this.moduleapi.getString(d),aB=this.footerOverlay,aH=this.mainStory;if(aB){aB.removeClass(s);}aF=this.Y.Lang.substitute(aF,{_clipId_:aD.clipId,_channelNodeId_:aD.channelNodeId,_title_:aE?aE.get(C):""});this.mainStoryContent.set(C,aF);if(this.showDate&&this.isTodayOnTop!="0"){aH.removeClass("has-date");}aH.addClass("auto-height");if(aC){aC.replaceClass(n,ah);this.carouselContainer.addClass(aw);}if(aB&&this.Y.UA.ie==6){aB.setStyle(ap,aB.get(f).get("offsetHeight")+X);}if(this.doBroadcastEvent){this.broadcastEvent();}},onmessage:function(aD,aB,aC){switch(aD){case J:case am:case P:this.isOtherModuleOpen=R;this.cancelAutoPlay();break;case a:case au:case ax:this.isOtherModuleOpen=z;this.startAutoPlay();break;default:break;}},handlePopulateStorySuccess:function(aC,aF){var aE=aC.data,aB=aE.story,aH=aF.storyId,aD=this.cache[aH],aG=this.extractId(this.lastSelectedFooter);if(aG===aH){aB=this.Y.Lang.substitute(aB,{_oldImageSrc_:aF.oldImageSrc,_oldImageAlt_:aF.oldImageAlt});aF.doFade=this.Y.UA.ie?z:aF.doFade;this.setMainStory(aB,aH,aF.doFade,z);aD.clipId=aE.clipId;aD.channelNodeId=aE.channelNodeId;}else{}},handlePopulateStoryFailure:function(aB,aC){},populateScrollItem:function(aD,aE){var aG,aC,aB=aE.panel,aF=this.body.getById(this.moduleId+Y+aE.panelIndex);aB.removeClass(K);this.loadingOverlay.addClass(s);aF.set(C,aD.data.footers);this.fixCarouselPanelHeight(aB);if(this.animMode!=k){if(!this.persPkgId){aG=this.carousel;aC=aG.getItemNode(aG.getCurrentIndex()).query("."+ad);this.populateStory({linkNode:aC,userHover:z});}else{this.handlePersistantScroll();}this.startAutoPlay();}},populateScrollItemFailure:function(aB){if(aB.statusText==u){}else{this.moduleapi.refreshView("default");}},getPackageIds:function(aG,aI,aJ){var aO=[],aL=this.packageIds,aH=aL.length,aN=this.visibleElementCount,aD=this.preloadPaneCount,aB,aM,aK,aC,aE,aF;if(aI==t){aB=this.body.getById(this.moduleId+Y+aG);aM=aB.all("."+ad);for(aF=0;aF<aN;aF++){if(aM.item(aF).hasClass(K)){aO.push(aL[(aG*aN)+aF]);}}}else{aD=(aD==D)?aL.length/aN-1:aD;aK=this.carouselContainer.all(".y-panel");if(aJ==aq){aE=(aG+1)*aN;aC=(aI!==Q)?aE-aN:aE-aD*aN;if(aC<0){aC=aN;}}else{aC=aG*aN;aE=(aI!==Q)?aC+aN:aC+aD*aN;aE=aE>aH?aH:aE;}for(aF=aC;aF<aE;aF++){if(aK.item(Math.floor(aF/aN)).hasClass(K)){aO.push(aL[aF]);}}}return aO;},cleanup:function(){var aE=this.carousel,aB=this.delayMouseover,aD=this.carouselContainer,aC=this.moduleapi;if(aE){aE.unsubscribe("beforescroll",this.loadScrollItem);aE.unsubscribe("scroll",this.updatePaginator);aE.destroy();}if(aB){aB.cancel();}if(aD){aD.detach(S,this.handleFooterMouseover);aD.detach(U,this.handleFooterMouseout);}if(this.animMode!=k){this.detachEngagingAreaMouseEvents();this.cancelAutoPlay();if(this.Y.UA.ie){document.onfocusout=ac;document.focusin=ac;}else{this.Y.detach("blur",this.blurHandler,window);this.Y.detach("focus",this.focusHandler,window);}}aC.abortRequest(this.populateStoryRequestId);this.arcadeTransport.abortRequest(this.populateScrollItemRequestId);this.moduleapi.unlisten();this.body=this.statemgr=this.carousel=this.mainStory=this.mainStoryContent=this.delayMouseover=this.carouselContainer=this.carouselOuterContainer=this.populateStoryRequestId=this.populateScrollItemRequestId=this.activeElement=this.blurHandler=this.focusHandler=ac;},setMainStory:function(aC,aF,aB,aD){var aG=this.mainStoryContent,aE;if(this.animMode==k||!aB){aG.set(C,aC);this.replaceImageInMainStory(aC,aF,aD);}else{aE=new this.Y.Anim({node:aG,to:{opacity:0},duration:this.animFadeDuration});aE.on("end",function(){aE.destroy();this.fadeOutMainStoryEnd(aC,aF,aD);},this);aE.run();}},replaceImageInMainStory:function(aD,aH,aG){if(!aG){var aF=this.moduleapi,aE=this.body.getById(this.moduleId+"-header-image"),aC=aF.getContextData("headerImageSrc"),aB=aF.getContextData("headerImageAlt");if(aE&&aC&&aB){aE.set("src",aC);aE.set("alt",aB);aE.set("title",aB);}this.cache[aH].html=this.mainStoryContent.get(C);}},fadeOutMainStoryEnd:function(aB,aF,aC){var aE,aG=this.mainStoryContent,aD=this.extractId(this.lastSelectedFooter);if(aD===aF){aG.set(C,aB);this.replaceImageInMainStory(aB,aF,aC);}else{}aE=new this.Y.Anim({node:aG,to:{opacity:1},duration:this.animFadeDuration});aE.on("end",function(){aE.destroy();},this);aE.run();},setOpacity:function(aC,aB){aC.setStyle("opacity",aB);if(aB==1){aC.setStyle("filter","none");}else{aC.setStyle("filter","progid:DXImageTransform.Microsoft.Alpha(opacity="+aB*100+")");}},extractId:function(aB){return(aB?aB.getAttribute("y-pkgId"):ac);},classMatch:function(aC,aB){return aC.hasClass(aB)?aC:aC.ancestor(function(aD){return aD.hasClass(aB);});},initializeCache:function(aE){var aD,aG=aE.pkgIds,aC=aE.stories,aF=aG.length,aB;for(aD=0;aD<aF;aD++){aB=aC[aG[aD]];this.cache[aG[aD]]=(aB&&aB.html)?{html:aB.html,index:aD,clipId:aB.clipId,channelNodeId:aB.channelNodeId,beaconFired:aB.beaconFired}:{html:ac,index:aD,clipId:ac,channelNodeId:ac,beaconFired:z};}},previous:function(){var aB=this.carousel;if(!aB.isScrolling()){aB.previous();}},next:function(){var aB=this.carousel;if(!aB.isScrolling()){aB.next();}},getYEP:function(){return(document.swftodayvideo||document.getElementById("swftodayvideo"));},fireBeacon:function(aC,aB,aE){var aD={sec:aC,slk:aB,asset:aE};this.instrumentation.fireUltBeacon(aD,this.ylt);},replaceTitle:function(aC){var aB=this.body.query("#"+this.moduleId+"-main_story .video-title");aC=aC.length>ao?aC.substr(0,ao)+"...":aC;aB.set(C,aC);},fixCarouselPanelHeight:function(aD){var aC,aE=this.footerHeight,aB=aD.queryAll("."+ad);aB.setStyle(ap,"auto");aB.each(function(aF){aC=parseInt(aF.getComputedStyle(ap),10);if(aC>aE){aE=aC;}});this.footerHeight=aE;aB.setStyle(ap,aE+X);},cacheMainStoryHtml:function(aC){var aB=this.body.getById(this.moduleId+"-main_story");if(aB){this.cache[aC].html=aB.get(C);}},handleChkBoxSubmissionSuccess:function(aB,aC){},handleChkBoxSubmissionFailure:function(aB,aC){},replaceNode:function(aD,aE){var aC,aB;if(aD&&aE){aB=aE.get(f);aC=this.body.create(aD);aE.setStyle("display","none");aB.insertBefore(aC,aE);aB.removeChild(aE);}},startAutoPlay:function(){if(this.animMode!=k&&!this.autoPlayReference&&!this.isVideoPlaying()&&!this.isOtherModuleOpen&&!this.isManuallyPaused){var aB=this.animIntervalInitial,aC=this.animIntervalSubsequent;if(this.isInitialAnim){if(aB>0){this.autoPlayReference=this.Y.later(aB*1000,this,this.autoPlay,ac,R);}}else{if(aC>0){this.autoPlayReference=this.Y.later(aC*1000,this,this.autoPlay,ac,R);}}}},autoPlay:function(){var aF=this.lastSelectedFooter,aH=aF.next(),aG=this.animMode,aJ=this.carousel,aD,aE=aJ.getCurrentIndex(),aB=aE+1,aI,aC=this.timeoutPaneCount;if(this.hasAdRunning()){this.cancelAutoPlay();this.startAutoPlay();return;}if(aH){aD=aH;this.populateStory({linkNode:aD,userHover:z});if(!aH.next()&&aG==av){aI=this.body.getById(this.moduleId+Y+aB);if(aI&&aI.hasClass(K)){this.preload(aB,z);}}}else{if(aG==I){aD=aJ.getItemNode(aE).query("."+ad);this.populateStory({linkNode:aD,userHover:z});}if(aG==av){if(this.arcadeTransport.isRequestPending(this.populateScrollItemRequestId)){this.arcadeTransport.abortRequest(this.populateScrollItemRequestId);if(aC>0&&this.preloadPaneCount!=aC){this.preloadPaneCount=aC;this.preload(aB,R,{isTimeout:1});}}else{this.next();}}}if(this.isInitialAnim){this.isInitialAnim=z;this.cancelAutoPlay();this.startAutoPlay();}},cancelAutoPlay:function(aC){var aB=this.autoPlayReference;if(aB){aB.cancel();this.autoPlayReference=ac;}if(this.isInitialAnim){this.isInitialAnim=z;}if(aC){this.tracking(this.lastSelectedFooter);}},delayedStartOrCancelAutoPlay:function(aC,aD){var aB=this.delayAutoPlayMouseover;if(aB){aB.cancel();this.delayAutoPlayMouseover=ac;}this.delayAutoPlayMouseover=this.Y.later(this.timeDelayed,this,aC,aD);},handleEngagingAreaMouseover:function(aD){var aC=this.titleRegion,aB=aD.pageX,aE=aD.pageY;if(aC&&aC.top<aE&&aC.right>aB&&aC.bottom>aE&&aC.left<aB){this.delayedStartOrCancelAutoPlay(this.startAutoPlay,z);}else{this.delayedStartOrCancelAutoPlay(this.cancelAutoPlay,R);}},handleEngagingAreaMouseout:function(aB){this.delayedStartOrCancelAutoPlay(this.startAutoPlay);},attachEngagingAreaMouseEvents:function(){var aB=this.carouselOuterContainer,aC=this.mainStory;aB.on(S,this.handleEngagingAreaMouseover,this);aB.on(U,this.handleEngagingAreaMouseout,this);aC.on(S,this.handleEngagingAreaMouseover,this);aC.on(U,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){var aB=this.carouselOuterContainer,aC=this.mainStory;aC.detach(S,this.handleEngagingAreaMouseover);aC.detach(U,this.handleEngagingAreaMouseout);aB.detach(S,this.handleEngagingAreaMouseover);aB.detach(U,this.handleEngagingAreaMouseout);},handleBlur:function(){if(this.Y.UA.ie){this.activeElement=document.activeElement;}this.cancelAutoPlay(z);this.detachEngagingAreaMouseEvents();},handleFocus:function(){if(!this.Y.UA.ie||this.activeElement==document.activeElement){this.startAutoPlay();this.attachEngagingAreaMouseEvents();}},isVideoPlaying:function(){if(this.body.one(".video-package")){return R;}else{return z;}},insertPlayPauseButton:function(){var aD=this.body.query(".navigation .next"),aC=this.moduleapi,aB=this.animHtml;this.animPlayBeacon=aC.getContextData("animPlayBeacon");this.animPauseBeacon=aC.getContextData("animPauseBeacon");this.animPlayString=aC.getContextData("animPlay");this.animPauseString=aC.getContextData("animPause");aD.get(f).insertBefore(aB,aD);},handleManualPlayPauseAutoPlay:function(aF,aD){var aH=ac,aC=this.statemgr,aE,aG=(aD.get("tagName")=="A")?aD:aD.ancestor("A"),aB=aG.one(".anim-ctrl");if(aF==ae){this.isManuallyPaused=z;aE=A;aG.set(af,m);aG.setAttribute(F,this.animPauseBeacon);aB.set(C,this.animPauseString);aH=this.startAutoPlay;}else{if(aF==m){this.isManuallyPaused=R;aE=ag;aG.set(af,ae);aG.setAttribute(F,this.animPlayBeacon);aB.set(C,this.animPlayString);aH=this.cancelAutoPlay;}}if(aH&&aC){aC.setUserModuleState(ay,aE);}return aH;},broadcastEvent:function(){this.moduleapi.broadcast(q);},setFPCKCookie:function(aC){if(1==this.unifiedEnabled){return;}var aB={type:"module",moduleId:this.moduleId,args:{_action:"show",_subAction:b,storyId:aC}},aD={scope:this};this.arcadeTransport.makeRequest(aB,aD,this.moduleId);},hasAdRunning:function(){return(document.documentElement.className.indexOf("ad-running")>-1);}};})();var yasearch,fxsearch;(function(){var aw=null,ae=true,K=false,av="undefined",e="-promotion",ab="-rsch1",G="ymobilizerouter",o="hp-hidden",ar="hidden",x="promoCode",az="hpCode",a7="hpOverlay",b="randomPromo",P="rsch1Successful",bb="forceSethp",u="browser",aj="sethpPromoShare",aP="showOnlySetHP",a2="wsid",aO="30345158",t="SP",ap="v=1&a=1",a1="v=1&a=0",V=5,aF=10,aH=5,bc="web",aR="ebay",X="jobs",aS="mail",aA="combo",d="games",ac="local",aC="music",ad="images",l="people",aG="omg",m="answers",q="shopping",bf="directory",I="innerHTML",n="value",a4="title",c="action",aE="name",aX="text",ah="parentNode",aW="tagName",Q="firstChild",L="href",ak="height",an="width",ag="auto",J="disabled",D="paddingLeft",af="paddingRight",z="data-tab",a0="focus",y="blur",f="submit",be="mouseover",r="click",ba="4em",ai="8em",p="1.6",aJ="hide-completely",aZ="ds-b",a="open",ay="bottom",R="denabled",aD="uenabled",Z="selected",aK="sa-results",au="input-x-short",E="menu-select",aI="ghosttext",g=".promo",aq=".stabs",H=".more-tab",a3=".input-query",aN=".search-form",a6=".searchwrapper",bd=".searchwrapper-inner",M=".sa-window",T=".sa-drawer",aB=".sa-results",bg=".aria-announce",U=".tab-cover",k="y-mast-sprite",h="y-mast-link",aM="y-mast-txt",aL="y-mast-bg",at="y-bg-3",ax="y-ln-2",j="y-mast-bg-hide",W="sa-drawer-container",F="hide-lip",ao="px",aT="allow.redirected.ult.links",O="pa:ready",aV="search.tab.",am=".showdrawer",al=".showdrawerhandle",B={kr:ae,jp:ae,tw:ae,cn:ae},C="ulm:defaultlocation",a8="ldw:defaultlocation",a5="pmh:searchtext",aU="pmh:show",aa="sayt:open",a9="sayt:close",aQ="mh:web_srch_inp",S="mh:tab_select",N="AREA",A=150,i=1000,w=100,v="interactive",aY="srch-pl",Y="srch-pl-s",s="srch-plu",bh="srch-plu-s";YModules.type_masthead={id:"",body:aw,moduleapi:aw,platform:aw,instrumentation:aw,tablistService:aw,tablist:aw,autoHide:aw,autoHideId:aw,paService:aw,viewevents:[r,"keyup"],formData:aw,dummyYLT:aw,ywaObject:aw,YWATracker:aw,textboxBlurred:aw,saConfig:{enabled:ae,minQueryLength:0,queryDelay:0,containerOpen:K,timeoutId:aw,abortId:aw,cachedResults:aw,delayedRequests:0,numResults:0,normalizationRules:aw,isAutoOpen:K,isManualOpen:K,selectedIndex:-1,lastAnimHeight:0,lastVisibleItem:0},currentTab:"",form:aw,textbox:aw,hood:aw,saWindow:aw,saDrawer:aw,saResults:aw,searchwrapperInner:aw,searchwrapper:aw,aria:aw,secondInput:aw,hiddenInputNodes:aw,suggestions:aw,searchQuery:"",lastSearchQuery:"",lastQueryLength:0,anim:aw,animId:aw,animOpenedId:aw,defLoc:"",currentSelectedListItem:aw,menu:aw,useFxjsonp:K,keyUpSupported:ae,handleKeyUpObject:aw,allowRedirectedULTLinks:ae,ebayInputField:aw,numberOfVisibleItems:V,horizontalPadding:"0",moreLink:aw,displayNameInMoreDropDown:K,cmsLogo:aw,logoContainer:aw,trendData:aw,numCycles:0,ghostTextIndex:0,ghostTextCharPosition:1,ghostTextId:aw,restartId:aw,uraPromo:aw,usingDoubleByte:K,ywaTrackingEnabled:0,setHomepageService:aw,browser:"",autoHideService:aw,init:function(bm){this.Y=bm.getService("yui");this.moduleapi=bm;this.currentTab=bm.getContextData("FIRST_TAB_FOR_SEARCH")?bm.getContextData("FIRST_TAB_FOR_SEARCH"):bc;this.hiddenInputNodes=[];this.id=bm.getId();this.platform=bm.getService("moduleplatform");this.instrumentation=bm.getService("instrumentation");this.tablistService=bm.getService("tablist");this.defLoc=bm.getContextData("defLoc");this.preloadSRP=bm.getContextData("preloadSRP")?ae:K;this.srpAssetURL=bm.getContextData("srpAssetURL");this.ywaTrackingEnabled=parseInt(bm.getContextData("ywaTrackingEnabled"),10);this.setHomepageService=bm.getService("sethomepage");this.browser=bm.getContextData(u);this.autoHideService=bm.getService("autohide");if(bm.getContextData("visibleItems")){this.saConfig.lastVisibleItem=this.numberOfVisibleItems=parseInt(bm.getContextData("visibleItems"),10);this.saConfig.lastVisibleItem--;}var bj=bm.getContextData("saData"),bo=bj.cssSAWindowMaxHeightIE6,bn=bm.getContextData("horizontalPadding"),bp=bj.cssSAWindowSuggestionHeightIE6,bi,bl,bk;this.horizontalPadding=bn?bn:"0";if(bo&&bo.length>0){ai=bo;}if(bp&&bp.length>0){p=bp;}this.formData=bm.getContextData("formData");bm.listen(C);bm.listen(a8);bm.listen(O);bi=bm.getProperty("channels");if(bi){bl=bi.length;for(bk=0;bk<bl;bk++){bm.listen(bi[bk]);}}bm.listen(aU);bm.listen(a5);},onviewload:function(bD){if(bD==="default"){var bI=this.platform,bJ=this.moduleapi,bl=this.Y,bB=this.id,bz,bm,bC,bj,bs,bF,bi,bw,br,bq,bG,bv=bJ.getViewNode(bD),bn=bl.one(".logo-container"),bo,bu=bJ.getContextData("adLogoMeta"),bE=bJ.getContextData("searchIntl")?bJ.getContextData("searchIntl").toLowerCase():aw,by=bJ.getContextData("moremenu"),bk=this.trendData=bJ.getContextData("trendData"),bH,bp,bt,bx=true,bA;bz=bv.getById(bB+e);bs=bJ.getContextData(P);br=bJ.getContextData(bb);bj=bJ.getContextData(b);bq=bJ.getContextData(aj);bG=bJ.getContextData(aP);if(!bs){bi=bJ.getContextData("rsch1Suid");if(bi){bw=bI.queryModules(function(bL){var bK=bI.getModuleApi(bL);return bK?bK.getProperty("contentId")==bi:false;})[0];if(bw){bI.stop(bw);bI.unregisterModule(bw);}bF=bv.getById(bi+ab);if(bF){bF.remove();}}bo=bn.one("object")||bn.one("embed");if(bz&&!bo){bC=!this.setHomepageService.isHomepageSet()&&!this.isHpWindowShade();if(br||(bC&&(!bj||Math.random()>bq))){bm=az;}else{if(bG===1){bx=false;}bm=x;}if(bx){bz.set(I,bJ.getContextData(bm));bz.removeClass(o);bz.removeClass("rsch");}}}else{bo=bn.one("object")||bn.one("embed");if(bo){bF=bv.getById(bi+ab);if(bF){bF.addClass("rsch");}}}this.usingDoubleByte=B[bE]?ae:K;this.displayNameInMoreDropDown=bJ.getContextData("search.more.firstitem")?ae:K;this.allowRedirectedULTLinks=bJ.getContextData(aT);this.useFxjsonp=bJ.getContextData("use.fxjsonp")?ae:K;this.keyUpSupported=(bl.UA.gecko&&B[bE])?K:ae;if(bu){bI.registerModule(bu);bI.start(bu.props.id,K,ae);}this.body=bv;this.form=bv.one(aN);bA=this.textbox=bv.one(a3);this.searchwrapper=bv.one(a6);this.searchwrapperInner=bv.one(bd);this.aria=bv.one(bg);bt=bv.one(aq);this.uraPromo=bv.one(g);if(bA.hasClass("ime-enabled")){bA.removeClass("ime-enabled");}this.tablist=this.tablistService.create(bt,{panel:this.searchwrapper,tabchange:"click"});this.tablist.subscribe("tabchange",this.switchSearchTab,this,ae);this.initSA();if(by){this.moreLink=bv.one(".more");bH=this.moduleapi.getService("menu");bp=bv.create(by);bt.get("parentNode").insert(bp,bt);this.menu=bH.create(bp,{focusNode:this.textbox});this.menu.subscribe("execute",this.moreMenuSelect,this);this.menu.subscribe("show",this.moreMenuShow,this);this.menu.subscribe("hide",this.unselectMoreTab,this);this.moreLink.on("click",this.handleMoreMenu,this);bA.on(a0,this.hideMoreMenu,this);}this.form.on(f,this.handleSubmit,this);bA.on(y,this.handleTextBlur,this);bA.on(a0,this.handleTextFocus,this);this.registerAutoHide();this.dummyYLT=bJ.getContextData("dummyYLT");if(!this.keyUpSupported){bA.on(a0,this.handleFFDoubleByte,this);bA.on(y,this.clearFFDoubleByte,this);}this.logoContainer=bv.one(".logo-container");if(bk){bA.blur();bA.on(a0,this.cancelGhostWriting,this,aI);this.numCycles=bJ.getContextData("numCycles");this.ghostTextId=bl.later(A,this,this.ghostWrite,bk,true);}if(bl.UA.webkit){}}},isHpWindowShade:function(){var bi=K,bk,bj=this.moduleapi.getService("statemgr");if(bj){bk=bj.getUserPageState(a2);if(bk==aO){bi=ae;bj.removeUserPageState(a2);}}return bi;},setMobilizer:function(){var bj="100%",bn=document.documentElement.clientHeight+"px",bl=document.body.scrollTop||document.documentElement.scrollTop,bm=document.createElement("iframe"),bk="99999",bi=this.moduleapi.getContextData("locale"),bo=this.moduleapi.getContextData("mobilizerUrl");if(document.getElementById(G)){document.body.removeChild(document.getElementById(G));}bm.src=bo+"&lang="+bi;bm.setAttribute("id",G);bm.setAttribute("name",G);bm.setAttribute("allowTransparency","allowTransparency");bm.setAttribute("frameborder",0);bm.setAttribute("scrolling","no");bm.setAttribute("width",bj);bm.setAttribute("height",bn);bm.style.position="absolute";bm.style.left="0px";bm.style.top=bl+"px";bm.style.zoom="1";bm.style.zIndex=bk;bm.style.overflow="hidden";bm.setAttribute("style","z-index:"+bk+";position:absolute;top:"+bl+"px;left:0px;width:"+bj+";height:"+bn+";");document.body.appendChild(bm);if(typeof window.addEventListener!=av){window.addEventListener("message",this.closeMobilizer,K);}else{if(typeof window.attachEvent!=av){window.attachEvent("onmessage",this.closeMobilizer);}}},closeMobilizer:function(bi){if(bi.data=="closeYMBZ"){if(document.getElementById(G)){document.body.removeChild(document.getElementById(G));}}},setHomePage:function(){var bl,br=this.setHomepageService,bn=this.moduleapi,bj,bo,bk,bm=this.body,bi=this.id,bq=bn.getContextData(a7),bs=bn.getContextData("ilc"),bp;if(this.browser=="IE"){if(br.setIEHomepage(bs)){bk=bn.getContextData(x);if(bk!==""&&bk!==aw){bl=document.getElementById(this.id+e);bl.innerHTML=bk;}else{bo=bm.getById(bi+e);bo.get(ah).removeChild(bo);}bj=bn.getString("PARAM.NAVBAR.IE.YES_BEACON");}else{bj=bn.getString("PARAM.NAVBAR.IE.NO_BEACON");}this.instrumentation.fireUltBeacon(bj);}else{if(this.Y.Array.indexOf(["FF","WK","OP","CH"],this.browser)>-1){bo=bm.getById(bi+e);if(bm.getById(bi+"-set-homepage-overlay")==aw){bo.append(bq);}this.overlay=bm.getById(bi+"-set-homepage-overlay");if(this.overlay){this.autohideId=this.autoHideService.register({targets:[this.overlay,bo],hide:this.Y.bind(function(){this.hideOverlay();},this)});bp=bm.getById(bi+"-sethp-ff");if(bp){bp.on("mousedown",this.fireFFBeacon,this);bp.on("click",this.yBangClick,this);}this.overlay.removeClass(ar);}}else{br.setHpCookie(bs,"1");}}},hideOverlay:function(){this.overlay.addClass(ar);},fireFFBeacon:function(){var bk=this.setHomepageService,bj=this.moduleapi,bi=bj.getString("PARAM.NAVBAR.DRAG.BEACON");this.instrumentation.fireUltBeacon(bi);bk.setHpCookie(bj.getContextData("ilc"),"1");},ghostWrite:function(bk){var bn="",bj=this.textbox,bl=arguments.length,bp=this.ghostTextIndex,bi=this.ghostTextCharPosition,bm,bo;if(this.ghostTextIndex>=bl){bo=--this.numCycles;this.ghostTextIndex=this.ghostTextCharPosition=0;if(bo===0){this.cancelGhostWriting(aw,aI);}}else{bm=arguments[bp].text;if(bm&&bi<bm.length+1){bn=bm.substring(0,this.ghostTextCharPosition++);bj.set(n,bn).addClass(aI);}else{this.ghostTextIndex++;this.ghostTextCharPosition=0;this.cancelGhostWriting();this.restartId=this.Y.later(i,this,this.restartGhostText);}}},restartGhostText:function(){this.ghostTextId=this.Y.later(A,this,this.ghostWrite,this.trendData,true);},cancelGhostWriting:function(bk,bj){var bl=this.ghostTextId,bi=this.restartId;if(bl||bi){if(bl){bl.cancel();bl=aw;}if(bi){bi.cancel();bi=aw;}if(bj){this.textbox.removeClass(bj);}}},initSA:function(){var bk=this.moduleapi,bi=this.saConfig,bj=bk.getContextData("saData");bi.minQueryLength=bj.minQueryLength;bi.queryDelay=bj.queryDelay;bi.normalizationRules=bj.normalizationRules;bi.lastVisibleItem=this.numberOfVisibleItems-1;bi.cachedResults={};bi.cachedResults[bc]={};bi.cachedResults[aA]={};bi.cachedResults[ad]={};if(this.Y.Cookie.get(t)===a1){bi.enabled=K;}yasearch=fxsearch=this.Y.bind(function(bl){this.handleSearch(bl);},this);this.createDropdown();},onviewunload:function(bk){var bi=this.textbox,bl=this.animOpenedId,bj=this.ghostWriteId;if(bj){bj.cancel();this.ghostWriteId=aw;}if(bl){bl.detach();this.animOpenedId=aw;}this.closeDropdown();if(this.currentTab===aR){bi.set(J,ae);}this.unregisterAutoHide();this.form.detach(f,this.handleSubmit);bi.detach(y,this.handleTextBlur);if(!this.keyUpSupported){bi.detach(a0,this.handleFFDoubleByte);bi.detach(y,this.clearFFDoubleByte);}if(this.trendData){bi.detach(a0,this.cancelGhostWriting);}if(this.menu){this.moreLink.detach("click",this.handleMoreMenu);this.menu.destroy();bi.detach(a0,this.hideMoreMenu);}this.clearFFDoubleByte();this.tablist.destroy();this.tablist=this.body=this.menu=this.paService=this.textbox=this.form=this.searchwrapper=this.searchwrapperInner=this.aria=this.hood=this.saWindow=this.saDrawer=this.secondInput=this.hiddenInputNodes=this.restartId=this.ghostTextId=this.anim=this.animId=this.logoContainer=this.trendData=this.formData=this.saConfig=aw;},registerAutoHide:function(){var bl=this.id,bj=this.body,bk=this.Y,bi=this.moduleapi.getService("autohide");this.autoHideId=bi.register({targets:[this.hood,this.textbox,bj.getById(bl+"-masthead-stabs")],hide:bk.bind(this.closeDropdown,this)});this.autoHide=bi;},unregisterAutoHide:function(){var bi=this.autoHide;if(bi){bi.unregister(this.autoHideId);}},createDropdown:function(){var bm=this.moduleapi,bi=this.body,bo=this.Y,bk,bl,bj,bn;bk=bi.one(".hood");bl=bk.one(M);bj=bk.one(T);bn=bl.plug(bo.Plugin.NodeFX,{});bn.fx.openAnimAtts={easing:bo.Easing.easeOut,duration:parseFloat(bm.getContextData("saData").openAnimDuration)};bn.fx.closeAnimAtts={to:{height:0},easing:bo.Easing.easeIn,duration:parseFloat(bm.getContextData("saData").closeAnimDuration)};this.hood=bk;this.saWindow=bl;this.saDrawer=bj;this.anim=bn;},openDropdown:function(){var bm=this.saConfig,bn=this.body,bq=this.saWindow,bp,bl=this.anim.fx,bo=this.moduleapi,bi=this.animOpenedId,bk=bn.one(".search-promo"),bj=this.Y;bo.broadcast(aa);bo.broadcast(v);if(bm.isAutoOpen===ae){this.instrumentation.fireUltBeacon(this.formData[this.currentTab].bcnAutoOpen);bm.isAutoOpen=K;}if(bj.UA.ie===6&&bm.containerOpen===K){this.syncDropdown();}this.saDrawer.set("innerHTML",bo.getString("STR.SA.TOGGLE.OFF"));bm.selectedIndex=-1;this.hood.addClass(a);bp=bq.get("offsetHeight");if(bp>bm.lastAnimHeight&&bm.containerOpen===K){bq.setStyle(ak,"0");bl.setAttrs(bl.openAnimAtts);bl.set("to",{height:bp});if(!bi){this.animOpenedId=bl.on("end",this.Y.bind(this.afterDropdownOpened,this));}bl.run();bm.lastAnimHeight=bp;}bm.containerOpen=ae;this.textbox.set(a4,bo.getString("STR.SA.DROPDOWN.DESCRIPTION")).focus();bn.one(a6+" .rc-bl").addClass(aJ);bn.one(a6+" .rc-br").addClass(aJ);if(bk){if(bj.UA.ie&&bj.UA.ie<8){bk.addClass(aJ);}else{bj.Node.getDOMNode(bk).style.zIndex=0;}}},closeDropdown:function(bk){var bj=this.anim.fx,bi=this.animId;if(bi){return;}if(this.hood.hasClass("open")){bj.setAttrs(bj.closeAnimAtts);this.animId=bj.on("end",this.Y.bind(this.afterCloseDropdown,this,bk?true:false));bj.run();}},afterDropdownOpened:function(){var bi=this.saWindow,bj=bi.get("offsetHeight");if(this.Y.UA.ie!==6){bi.setStyle(ak,ag);}else{bi.setStyle(ak,bj+"px");}},afterCloseDropdown:function(bi){var bj=this.hood,bn=this.saConfig,bp=this.textbox,bo=this.body,bq=this.animId,bm=this.moduleapi,bl=this.Y,bk=bo.one(".search-promo");this.moduleapi.broadcast(a9);this.saDrawer.set("innerHTML",bm.getString("STR.SA.TOGGLE.ON"));this.saWindow.setStyle(ak,ag);bn.lastAnimHeight=0;bn.lastVisibleItem=this.numberOfVisibleItems-1;bj.removeClass(a);bn.containerOpen=K;bp.set(a4,this.formData[this.currentTab].button);if(!bi){bp.focus();if(!this.usingDoubleByte){bp.set(n,bp.get(n));}}bo.one(a6+" .rc-bl").removeClass(aJ);bo.one(a6+" .rc-br").removeClass(aJ);bj.detach(be,this.handleMouseover);if(bl.UA.ie===6){document.getElementById(this.id+"-hood").style.width="";bj.addClass(aZ);}if(bk){if(bl.UA.ie&&bl.UA.ie<8){bk.removeClass(aJ);}else{bl.Node.getDOMNode(bk).style.zIndex=6;}}if(bq){bq.detach();this.animId=aw;}this.saConfig.selectedIndex=-1;bm.broadcast(aQ,bp.get(n));},syncDropdown:function(){var bm=this.saWindow,bk=this.searchwrapperInner,bj=this.hood,bn,bi,bl=this.saConfig.numResults;bn=parseFloat(bk.get("offsetWidth"))+2+ao;bj.removeClass(aZ);bj.setStyle(an,bn);if(!this.suggestions){bi=ba;}else{if(bl>this.numberOfVisibleItems){bi=ai;}else{bi=p*bl+0.4+"em";}}bm.setStyle(ak,bi);},highlightItem:function(bm,bl,bk,bn){var bj=bm.item(bl),bo=bj.get("parentNode"),bi=this.currentSelectedListItem;if(bi){bi.removeClass(Z);}bm.removeClass(Z);bj.addClass(Z);bo.addClass(Z);this.currentSelectedListItem=bo;if(!bk){this.textbox.set(n,bj.get(aX));}},scroll:function(){var bo,bm=this.saConfig,bp=this.body,bi=this.id,br=bm.lastVisibleItem+1,bk=br-this.numberOfVisibleItems>0?br-this.numberOfVisibleItems:0,bl=bp.getById(bi+"-arr-up"),bj=bp.getById(bi+"-arr-down"),bn=bp.getById(bi+"-results"),bq=this.moduleapi,bs=bq.getContextData("saData").cssFontSizeSAYT;if(bs&&bs.length>0){bs=aK+" "+bs;}else{bs=aK;}bn.set("className",bs);bk=bk>br?br:bk;if(bm.selectedIndex>=br){bk++;}bn.addClass(br>this.numberOfVisibleItems?ay+bk:"");if(bl){bo=this.numberOfVisibleItems-br;if(bo===0||bo===1){bl.removeClass(aD);}else{bl.addClass(aD);}}if(bj){if(bm.numResults-br===0){bj.removeClass(R);}else{bj.addClass(R);}}},scrollSelection:function(bl,bk){var bi=this.saConfig,bm=this.numberOfVisibleItems,bj;if(bk){bl=--bl;}bj=bm-(aF-1-bl);if(bi.numResults>bi.lastVisibleItem){if(bj<0){bi.lastVisibleItem=bm-1;}else{if(bj+bm<=aF){bi.lastVisibleItem=bj+bm-1;}else{if(bi.lastVisibleItem<bm){bi.lastVisibleItem++;}}}if(bi.numResults>bm){this.scroll();}}else{if(bk){bi.lastVisibleItem--;}}},moveSelectionDown:function(){var bi=this.saConfig,bk=bi.selectedIndex,bj=this.suggestions;if(bj&&bj.size()>0){if(bk<bi.numResults-1){bj.removeClass(Z);this.highlightItem(bj,++bi.selectedIndex,K);this.scrollSelection(bk);}}},moveSelectionUp:function(){var bi=this.saConfig,bk=bi.selectedIndex,bj=this.suggestions;if(bk!==-1){bj.removeClass(Z);if(bk===0){this.textbox.set(n,this.lastSearchQuery);bi.selectedIndex=-1;}else{this.highlightItem(bj,bi.selectedIndex===0?0:--bi.selectedIndex,K,ae);this.scrollSelection(bk,ae);}}},updateNameAttribute:function(bk){var bj=this.textbox,bi=this.formData[bk].paramQuery;if(!bi){bi=bk===aS?"s":"p";}bj.setAttribute(aE,bi);},setSecondInput:function(){var bp=this.moduleapi,bo=this.body,bs=this.textbox,bn=this.secondInput,br=K,bj=this.currentTab,bk=this.formData[bj],bt,bm,bq,bi,bl;this.removeHiddenInputFields();bi=this.hiddenInputNodes;switch(bj){case ac:br=ae;case X:if(!bn){bq=bo.one(".button-wrapper");bl=bq.get(ah);bm=bl.create(bp.getContextData("HTML_SECONDLABEL"));bl.insertBefore(bm,bq);bn=bl.create(bp.getContextData("HTML_SECONDINPUT"));bl.insertBefore(bn,bq);bs.addClass(au);}bs.set(aE,bk.paramQuery);bn.set(aE,bk.paramLocation);bt=(br&&this.defLoc)?this.defLoc:bk.locationGhostText;bn.setAttribute(n,bt);bn.on(y,this.blurText,this);this.secondInput=bn;break;case aC:if(bk.param1Name&&bk.param1Value){bi[0]=this.createHiddenInputFieldForTab(bk.param1Name,bk.param1Value);}if(bn){this.secondInput=aw;bn.detach(y,this.blurText);bm=bn.previous();bm.get(ah).removeChild(bm);bn.get(ah).removeChild(bn);bs.removeClass(au);}break;case d:if(bk.vsValue){bi[0]=this.createHiddenInputFieldForTab("vs",bk.vsValue);}if(bn){this.secondInput=aw;bn.detach(y,this.blurText);bm=bn.previous();bm.get(ah).removeChild(bm);bn.get(ah).removeChild(bn);bs.removeClass(au);}break;case l:if(bk.vfValue&&bk.vsValue){bi[0]=this.createHiddenInputFieldForTab("vf",bk.vfValue);bi[1]=this.createHiddenInputFieldForTab("vs",bk.vsValue);}if(bn){this.secondInput=aw;bn.detach(y,this.blurText);bm=bn.previous();bm.get(ah).removeChild(bm);bn.get(ah).removeChild(bn);bs.removeClass(au);}break;default:if(bn){this.secondInput=aw;bn.detach(y,this.blurText);bm=bn.previous();bm.get(ah).removeChild(bm);bn.get(ah).removeChild(bn);bs.removeClass(au);}break;}},blurText:function(bi){var bj=bi.target;if(bj.get(n)===""){bj.set(n,bj.get("defaultValue"));}},resetSA:function(){var bj=this.saConfig,bi,bk=bj.containerOpen;this.suggestions=aw;if(bj.enabled===ae){bj.lastVisibleItem=this.numberOfVisibleItems-1;bj.numResults=0;bj.selectedIndex=-1;bj.isAutoOpen=K;bj.isManualOpen=K;bj.containerOpen=K;bi=this.body.getById(this.id+"-sa-info");if(bi){bi.setAttribute(L,this.formData[this.currentTab].yltInfoPage);}}if(bk){this.Y.later(150,this,this.resetHood);}else{this.resetHood();}},resetHood:function(){this.saWindow.set(I,this.moduleapi.getContextData(this.saConfig.enabled?"HTML_HOODCONTENT_ENABLED":"HTML_HOODCONTENT_DISABLED"));if(this.moduleapi.getContextData(aV+this.currentTab+al)){this.saDrawer.removeClass(aJ);}},hideSA:function(){this.saDrawer.addClass(aJ);},fireYodelBeacon:function(){var bi={sec:"ylogo",slk:"yodel",ltxt:"yodel",pos:0,own:"Y",ld:0,itc:1};this.instrumentation.fireUltBeacon(bi);},handleMouseover:function(bp){var bq=bp.target,bn,bl,br,bi,bm,bo=this.body.getById(this.id+"-results"),bk=this.suggestions,bj=bq.get(aW);if(bk){if((bj==="A"||bj==="STRONG")&&bo.contains(bq)){bi=bk.size();if(bj==="A"){br=bq.get("id");bl=bq.get(aX);}else{bl=bq.get(ah).get(aX);}for(bm=0;bm<bi;bm++){bn=bk.item(bm);if(br){if(br==bn.get("id")&&bl===bq.get(ah).get(aX)){this.highlightItem(bk,bm,ae);break;}}else{if(bl===bn.get(aX)){this.highlightItem(bk,bm,ae);break;}}}}else{bk.removeClass(Z);}}},switchSearchTab:function(bz){var bj=this.moduleapi,bi=this.saConfig,bA=this.uraPromo,bo=this.body,bv=this.tablist,bu=this.textbox,bs=bv.getTabNode(bz.fromIndex),bk=bs.get(Q),bl=bk.get(Q),by=bv.getTabNode(bz.toIndex),bp=by.get(Q),bm=bp.get(Q),bw=this.Y.Lang.trim(bp.getAttribute(z)),bx=this.formData[bw],bq=bj.getContextData(aV+bw+am),bt=bj.getContextData(aV+bw+al),br=this.saDrawer.get("parentNode").hasClass(W)?this.saDrawer.get("parentNode"):aw,bn=bo.getById("search-submit");if(bi.containerOpen){this.closeDropdown();}if(bi.abortId){this.Y.Get.abort(bi.abortId);}this.currentTab=bw;bj.broadcast(S,{clickedTab:bw,buttonName:bx.button});bj.broadcast(aQ,bu.get(n));bs.removeClass(k);bk.removeClass(k).addClass(h).removeClass(aM);bl.removeClass(aL).addClass(j);by.addClass(k);bp.addClass(k).addClass(aM).removeClass(h);bm.addClass(aL).removeClass(j);if(bq&&bt){this.resetSA();}if(bw===bc){if(bA){bA.removeClass(aJ);}}else{if(bA){bA.addClass(aJ);}}switch(bw){case ad:if(!bq){this.hideSA();bi.selectedIndex=-1;}break;case m:case bf:case aG:case q:default:this.hideSA();bi.selectedIndex=-1;break;}if(br){if(bw===aA||bw===bc||bw===ad){if(br.hasClass(F)){br.removeClass(F);}}else{if(!br.hasClass(F)){br.addClass(F);}}}bo.getById(this.id+"-aria-label").set(I,bw);this.setSecondInput();this.updateNameAttribute(bw);bn.set(n,bx.button);bn.set(I,bx.button);bu.set(a4,bx.button);if(bx.noQueryURL){this.updateLandingPage();}else{this.form.setAttribute(c,bx.action);}},handleMoreMenu:function(bn){var bm=bn.target.ancestor("li").one("a"),bk=bm.ancestor("#y-masthead"),bl=bm.get("region"),bi=bk.get("region"),bj={top:Math.floor(bl.bottom-bi.top),left:bl.left-bi.left-8};this.closeDropdown(ae);bn.preventDefault();this.menu.show(bj);},moreMenuShow:function(bj){var bi=this.moreLink.ancestor("li");bi.addClass(at);bi.addClass(ax);bi.addClass(E);},unselectMoreTab:function(bj){var bi=this.moreLink.ancestor("li");bi.removeClass(at);bi.removeClass(ax);bi.removeClass(E);},hideMoreMenu:function(bi){this.menu.hide(K);this.unselectMoreTab();},moreMenuSelect:function(bp){var bq,bx,bj,bi,bv=this.tablist,bu=this.moreLink,bo=bv.getTabNodes().size()-1,bt=bp.relatedTarget,bk=bt.get(Q),bm=bk.cloneNode(true),bn=bm.one(U),br=bk.getAttribute(z),bw=bv.getTabNode(bo),bl=bw.get(Q),bs=this.horizontalPadding;bj=this.formData[br];if(bj.noQueryURL){this.updateLandingPage();}else{this.form.setAttribute(c,bj.action);}if(bn){bn.setStyle(D,bs);bn.setStyle(af,bs);}if(bt.hasClass("link")){this.moduleapi.navigate(bk.getAttribute("href"));return;}bl.replace(bm);if(bv.getSelectedIndex()===bo){bx={toIndex:bo,fromIndex:bo};this.switchSearchTab(bx);}else{bv.switchTo(bo);}if(this.displayNameInMoreDropDown){bu.setAttribute(L,bk.getAttribute(L));bu.setAttribute("data-b",bk.getAttribute("data-b"));bu.setAttribute(z,br);bi=bk.one(U);bq=bi?bi.get(I):aw;if(bq){bi=bu.one(U);if(bi){bi.set(I,bq);}}}this.textbox.focus();},onviewevent:function(bs,by){if(bs==="default"){var bo=this.instrumentation,bn=this.body,br=this.id,bw,bA=this.saResults,bv=this.currentTab,bu=this.formData[bv],bi=this.saConfig,bq=this.textbox,bl=this.secondInput,bx=bq.get(n),bk,bB=by.target,bp=by.type,bm="",bj=this.trendData,bz=bn.one(H),bt=(bB===bq);this.searchQuery=bx;if(bt){this.moduleapi.broadcast(v);}if(bp==="keyup"&&bt){this.handleKeyUp(by.keyCode);}else{if(bp===r){if(bn.one(aq).contains(bB)){if(!bz||!bz.contains(bB)){bq.focus();if(this.Y.UA.ie===8){bq.set(n,bx);}}}bm=bB.get("id");bk=bB.get(aW);if(bk&&bk===N){this.fireYodelBeacon();}if(bm){if(this.hood.contains(bB)&&bB.get(aW)==="A"&&bB.getAttribute(L).indexOf("ylt")===-1){by.preventDefault();switch(bm){case (br+"-arr-up"):bo.fireUltBeacon(bu.bcnScroll);if(bB.hasClass(aD)){bi.lastVisibleItem--;this.scroll();}break;case (br+"-arr-down"):bo.fireUltBeacon(bu.bcnScroll);if(bB.hasClass(R)){bi.lastVisibleItem++;this.scroll();}break;case (br+"-sa-drawer"):if(bi.containerOpen===ae){bo.fireUltBeacon(bu.bcnDrawerClose);this.closeDropdown();}else{bo.fireUltBeacon(bu.bcnDrawerOpen);this.manualOpenDropdown();}break;case (br+"-onswitch"):case (br+"-sa-hintswitch"):this.toggleSA(true);break;case (br+"-offswitch"):this.toggleSA(false);break;default:break;}}else{switch(bm){case (br+"-location"):if(bl.get(n)===bu.locationGhostText){bl.set(n,"");}break;case br+"-homepage":if(this.Y.Array.indexOf(["IE","FF","WK","OP","CH"],this.browser)>-1){by.preventDefault();}this.setHomePage();break;case br+"-close-overlay":by.preventDefault();this.hideOverlay();break;case br+"-mobilizer":by.preventDefault();this.setMobilizer();break;default:break;}}}else{if(bj){by.preventDefault();if(!bA){bA=this.saResults=bn.one(aB);}if(bA&&bA.contains(bB)){this.beaconPreloadedSearch(bq.get(n),ae);bw=bB.get(L);if(!bw){bw=bB.ancestor("A").get(L);}this.moduleapi.navigate(bw);}}}}}}},handleKeyUp:function(bq){var bo=this.aria,bl=this.moduleapi,bk=this.saConfig,bi=this.currentTab,bp=this.searchQuery,bm=bp.length,bj=this.lastQueryLength,bn=this.srpAssetURL;this.updateLandingPage();if(this.preloadSRP&&bn){this.Y.Get.script(bn,{onSuccess:function(){this.preloadSRP=false;},context:this});}if(bi===aA||bi===bc||(bi===ad&&(bl.getContextData(aV+this.currentTab+am)))){if(this.keyUpSupported){bp=this.textbox.get(n);bm=bp.length;if(bq==8){if(bm>bk.minQueryLength&&bk.enabled){if((bp&&bm>0)&&bp!=this.lastSearchQuery){this.sendQuery();}}else{this.closeDropdown();}}}switch(bq){case 13:break;case 27:if(bk.containerOpen===ae){this.closeDropdown();}break;case 37:case 39:break;case 38:if(bk.enabled===ae&&bk.containerOpen===ae){this.clearFFDoubleByte();this.moveSelectionUp();}break;case 40:this.clearFFDoubleByte();if(bl.getContextData(aV+bc+am)){this.manualOpenDropdown();}break;default:if(bm===bj&&!this.keyUpSupported){break;}if(!this.keyUpSupported&&!this.handleKeyUpObject){this.handleFFDoubleByte();}if(bk.enabled===ae){if(bm===0){bo.set(I,"<p></p>");this.closeDropdown();}else{if(bm>bk.minQueryLength){if(bk.timeoutId){bk.timeoutId.cancel();}if(bk.containerOpen===K){bk.isAutoOpen=ae;}bk.timeoutId=this.Y.later(bk.queryDelay,this,this.sendQuery);if(bk.containerOpen){bk.lastVisibleItem=this.numberOfVisibleItems-1;}}else{bo.set(I,"<p>"+bl.getString("STR.MASTHEAD.NO_SUGGESTION")+"</p>");if(bk.containerOpen){this.closeDropdown();}}}this.lastQueryLength=bm;}this.moduleapi.broadcast(aQ,bp);break;}}},manualOpenDropdown:function(){var bi=this.saConfig;if(bi.enabled===ae){if(bi.containerOpen===K){if(this.searchQuery.length>bi.minQueryLength){bi.isManualOpen=true;this.sendQuery();}else{this.resetSA();this.openDropdown();}}else{if(this.suggestions){this.moveSelectionDown();}}}else{this.resetSA();this.openDropdown();}},toggleSA:function(bn){var bo=this.instrumentation,bm=this.formData[this.currentTab],bi="yahoo.com",bl=new Date(),bk,bj;if(bn===ae){bk=ap;bj="on";}else{bk=a1;bj="off";}bo.fireUltBeacon(bm.bcnOnOff);this.Y.Cookie.set(t,bk,{expires:bl.setDate(bl.getDate()+120),path:"/",domain:bi});this.saConfig.enabled=bn;this.resetSA();this.closeDropdown();},handleSubmit:function(br){br.preventDefault();var bq=this.moduleapi,bl=this.saConfig,bk=this.secondInput,bn=this.trendData,bo=this.body,bi=this.id,bt,bs,bm=this.textbox.get(n),bj=this.formData[this.currentTab],bp;bl.enabled=K;if(this.ywaTrackingEnabled&&YWA!==null){this.ywaObject=YWA;}if(this.ywaTrackingEnabled&&this.ywaObject!==aw){bp=this.moduleapi.getContextData("ywaProjectId")+"";this.YWATracker=this.ywaObject.getTracker(bp);this.Y.later(w,this,function(){if(this.YWATracker!==aw){this.YWATracker.setAction("INTERNAL_SEARCH");this.YWATracker.setISK(bm);this.YWATracker.setISR("100");if(bm.length===0){this.YWATracker.setISR("0");}this.YWATracker.setDocumentGroup("Search");this.YWATracker.setDocumentName("Search Results");this.YWATracker.submit();}},aw);}if(bj.emptyNavURL&&bm.length===0){bq.navigate(bj.emptyNavURL);return;}if(bn){this.beaconPreloadedSearch(this.textbox.get(n));}if(bl.selectedIndex!==-1){this.setFRCode(true);bt=bo.getById(bi+"-results").queryAll("li a");bs=bt.item(bl.selectedIndex).get(L);if(bn){this.Y.later(w,this,function(){this.moduleapi.navigate(bs);},bs);}else{bq.navigate(bs);}}else{this.setFRCode(false);if(bk&&(bk.get(n)===bq.getString("STR.MASTHEAD.LOCAL.HELP2")||bk.get(n)===bq.getString("STR.MASTHEAD.JOBS.HELP2"))){bk.set(n,"");}if(this.formData[aR]){this.prepareEbaySubmit();}if(bn){this.Y.later(w,this,function(){this.form.submit();},aw);}else{this.form.set("action",bj.action);this.form.submit();}}},handleTextBlur:function(){this.textboxBlurred=true;this.aria.set(I,"<p></p>");},handleTextFocus:function(){this.textboxBlurred=false;},sendQuery:function(){if(this.moduleapi.getContextData(aV+this.currentTab+am)){var bi=this.saConfig,bk=this.moduleapi,bm=this.searchQuery,bl=""+bm,bp=bl.replace(/%20/g," "),bo=this.currentTab,bj=bi.cachedResults[bo][bp],bn;if(typeof bj==="object"){bi.numResults=bj.length;this.populateList(bj);if(bm.length>bi.minQueryLength&&bi.numResults>0||bi.isManualOpen){this.openDropdown();}}else{if(bi.delayedRequests<aH){bl=encodeURIComponent(bl.replace(/"/g,""));switch(bo){case ad:bn=bk.getContextData("saData").imgGossipUrl;break;case aA:case bc:bn=bk.getContextData("saData").webGossipUrl;break;}if(bl.length>0){bi.abortId=this.Y.Get.script(bn+bl,{timeout:1000,onTimeout:this.Y.bind(this.increaseDelayedRequests,this)});}}}this.lastSearchQuery=""+bm;}},increaseDelayedRequests:function(){this.saConfig.delayedRequests++;},handleSearch:function(bi){var bk=[],bj=this.saConfig,bl=this.useFxjsonp?bi[1].length:bl=bi.r.length;bj.numResults=bl;bk=this.formatResults(bi);if(this.useFxjsonp){bj.cachedResults[this.currentTab][bi[0]]=bk;}else{bj.cachedResults[this.currentTab][bi.q]=bk;}this.populateList(bk);if(this.searchQuery.length>bj.minQueryLength&&bl>0){this.openDropdown();}},populateList:function(bx){var bk=this.Y.DOM,bv=this.id,bm=this.moduleapi,bi=this.saConfig,bz=this.formData,bA=this.currentTab,bD=bz[bA],bo=this.aria,bt=this.body,by=bk.byId(bv+"-sayt"),bu=bx.length,bj=bm.getContextData("frCode"),bs=bm.getContextData("typeCode"),bC=bs?"type="+bs+"&":"",bq="",bB,bp="",bE,bw,br,bl,bn=/<\S[^><]*>/g;if(bu>0){bo.set(I,"<p>"+bm.getString("STR.MASTHEAD.HAS_SUGGESTION")+"</p>");if(!by){this.resetHood();by=bk.byId(bv+"-sayt");}by.innerHTML=bm.getContextData("HTML_RESULTSLIST");bE=document.getElementById(bv+"-results");for(bB=0;bB<bu;bB++){if(this.useFxjsonp){bq="?fr="+bj+"-s&toggle=1&"+bC+"cop=mss&ei=UTF-8"+bp+"&p="+encodeURIComponent(bx[bB].replace(bn,""));bE.innerHTML+=bm.getContextData("HTML_RESULTSITEM");bw=bE.lastChild.firstChild;bw.href=bD.yltClickSuggestion+bq;bw.innerHTML=bx[bB];}else{br=bx[bB].formattedResults;bq="?fr="+bj+"-s&toggle=1&"+bC+"cop=mss&ei=UTF-8"+bp+"&p="+encodeURIComponent(br.replace(bn,""));bE.innerHTML+=bm.getContextData("HTML_RESULTSITEM");bl=bE.lastChild;bw=bl.firstChild;bw.href=bD.yltClickSuggestion+bq;bw.innerHTML=br;}}if(bi.numResults>this.numberOfVisibleItems){by.innerHTML+=bm.getContextData("HTML_RESULTS_SCROLLARROWS");}this.suggestions=bt.getById(bv+"-results").queryAll("li a");if(this.Y.UA.ie===6){this.syncDropdown();}this.hood.on(be,this.handleMouseover,this);}else{if(this.suggestions||!this.saWindow.one("ul")){this.resetSA();this.closeDropdown();bo.set(I,"<p>"+bm.getString("STR.MASTHEAD.NO_SUGGESTION")+"</p>");}this.suggestions=aw;}},formatResults:function(bo){var by=this.saConfig.normalizationRules,bp,bx,bs,bn=by.length,bm,bq,bl,bk,bj,bt,bw=[],br,bu,bi,bv;if(this.useFxjsonp){bx=this.Y.Lang.trim(this.normalize(bo[0].toUpperCase()));bs=bo[1].length;}else{bp=bo.r;bx=this.Y.Lang.trim(this.normalize(bo.q));bs=bp.length;}bx=bx.replace(/\(+/g,"").replace(/\)+/g,"").replace(/\{+/g,"").replace(/\}+/g,"").replace(/\[+/g,"").replace(/\]+/g,"").replace(/\\+/g,"");bk=bx.split("");bm=bk.length-1;while(bm-->0){br=bk[bm+1];switch(bk[bm]){case"A":if(bk[bm+1]==="E"){bk[bm]="AE";}break;case"O":if(bk[bm+1]==="E"){bk[bm]="OE";}break;case"U":if(bk[bm+1]==="E"){bk[bm]="UE";}break;case"T":if(bk[bm+1]==="H"){bk[bm]="TH";}break;case"S":if(bk[bm+1]==="S"){bk[bm]="SS";}break;default:break;}if(bk[bm].length>1){bk.splice(bm+1,1);}}bq=bk.length;while(bq-->0){while(bn-->0){if(bk[bq]===by[bn][0]){bk[bq]="("+by[bn][1]+")";}}bn=by.length;}bj="("+bk.join("")+")";bj=bj.replace(/(\$|\^|\*|\+|\?|\\|\[|\]\{|\}\|\|)/g,"\\$1");bt=new RegExp(bj,"i");for(bl=0;bl<bs;bl++){bv=this.useFxjsonp?bo[1][bl]:bp[bl][0];bi=(bt)?bv.replace(bt,"<strong>$1</strong>"):bo[1][1];if(this.useFxjsonp){bw[bl]=bi;}else{bu=bp[bl][3];bw[bl]={formattedResults:bi,suid:bu};}}return bw;},normalize:function(bi){var bk=this.saConfig.normalizationRules,bj=bk.length-1;while(bj--){bi=bi.replace(new RegExp(bk[bj][1],"g"),bk[bj][0]);}return bi;},setFRCode:function(bi){var bk=this.body.getById(this.id+"-frcode"),bj=this.moduleapi.getContextData("frCode");bk.set(n,bi?bj+"-s":bj);},removeYLT:function(bj){var bi=bj.lastIndexOf("http");return bj.substr(bi,bj.length);},saveSetting:function(bj,bk){var bi={type:"module",moduleId:this.id,args:{_action:"save",_subAction:bj,value:bk}},bl={success:function(bn,bm){},failure:function(bn,bm){},scope:this};this.moduleapi.makeRequest(bi,bl);},onmessage:function(bk,bj,bm){var bp=this.body,bn=this.secondInput,bq=bm?bm.displayName:aw,br,bl,bo,bi;if((bk===C||bk===a8)&&bq){this.defLoc=bq;if(bn){bn.set(n,bq);}br=bp.getById(this.id+"-weather");if(br){bl=br.next();if(bl){bl.set(I,bq.substring(0,bq.indexOf(",")));}}}else{if(bk.substr(0,5)==="/user"){bo=bk.substr(bk.lastIndexOf("/")+1);bi=bp.getById(this.id+"-"+bo);if(bi){bi.set(I,bm.data);bi.removeClass(aJ);}}else{if(bk===a5){if(true===this.textboxBlurred){this.textbox.focus();this.textbox.set(n,bm);}}else{if(bk===aU){this.closeDropdown(true);if(this.textbox.get(n)){this.moduleapi.broadcast(aQ,this.textbox.get(n));}}}}}},getEms:function(bj){var bi,bk,bl=this.Y;bi=bj.appendChild(document.createElement("div"));bi.setStyle("height","1em");bi.setStyle("width","1em");bk=bl.DOM.region(bl.Node.getDOMNode(bi));bi.remove();return bk;},handleFFDoubleByte:function(){this.handleKeyUpObject=this.Y.later(500,this,this.handleFFDoubleByteKeyUp,aw,ae);},handleFFDoubleByteKeyUp:function(){var bi,bj=this.currentTab;this.searchQuery=this.textbox.get(n);if(this.searchQuery!=this.lastSearchQuery){bi=this.saConfig;if(bj===bc||bj===ad||bj===aA){bi.timeoutId=this.Y.later(bi.queryDelay,this,this.sendQuery);}}this.handleKeyUp();},clearFFDoubleByte:function(){if(this.handleKeyUpObject){this.handleKeyUpObject.cancel();}this.handleKeyUpObject=aw;},createHiddenInputFieldForTab:function(bj,bl){var bk=this.body.getById(this.id+"-p"),bi=bk.get(ah),bm=bi.create("<input type='hidden'>");if(bj&&bl){bm.setAttribute(aE,bj);bm.setAttribute(n,bl);}return bi.insertBefore(bm,bk);},removeYNode:function(bi){if(bi){bi.get(ah).removeChild(bi);}},removeHiddenInputFields:function(){var bi,bj=0,bk=this.hiddenInputNodes;if(bk){bj=bk.length;for(bi=bj-1;bi>=0;bi--){this.removeYNode(bk[bi]);bk[bi]=aw;}}},disableHiddenInputField:function(bj){var bi=this.body.getById(bj);if(bi){bi.set(J,ae);}},updateLandingPage:function(){var bi,bj,bk,bl=this.formData[this.currentTab];if(bl.noQueryURL){bj=this.form;bk=bj.getAttribute(c);bi=this.extractURL(bk);if(this.searchQuery.length===0){bk=bk.replace(bi,bl.noQueryURL);}else{bk=bk.replace(bi,this.extractURL(bl.action));}bj.setAttribute(c,bk);}},extractURL:function(bj){var bk,bi=aw;if(bj){bk=bj.indexOf("http://");if(bk===-1){bk=0;}bi=bj.substr(bk,bj.length);}return bi;},prepareEbaySubmit:function(){var bk,bj=this.textbox,bl=this.currentTab,bi=this.ebayInputField;if(bl===aR){bk=this.Y.substitute(this.formData[bl].mpreValue,{"0":bj.get(n)});if(!bi){this.ebayInputField=this.createHiddenInputFieldForTab("mpre",bk);}else{bi.set(J,K);bi.set(n,bk);}this.fireEbayBeacon();}else{if(bi){bi.set(J,ae);}}},fireEbayBeacon:function(){var bi=this.formData[aR],bj={A_rd:bi.rdPath,_E:"rd",_S:bi.spaceId,_u:bi.scurl};this.instrumentation.fireUltBeacon(bj);},isStringInArray:function(bk,bl){var bj,bm,bi=K;if(bk&&bl){bj=bl.length;bm=bk.toLowerCase();while(bj--){if(bm===bl[bj].text.toLowerCase()){bi=ae;break;}}}return bi;},isArrayStringInString:function(bk,bl){var bj,bm,bi=K;if(bk&&bl){bj=bl.length;bm=bk.toLowerCase();while(bj--){if(bm.indexOf(bl[bj].text.toLowerCase())>-1){bi=ae;break;}}}return bi;},beaconPreloadedSearch:function(bj,bm){var bl={slk:"sa_link",pos:1,own:"Y",ld:0,itc:0},bi=this.trendData,bk=this.hood.hasClass(a);if(bk){if(this.isStringInArray(bj,bi)){bl.sec=Y;bl.ltxt=bj;}else{if(this.isArrayStringInString(bj,bi)){bl.sec=bh;bl.ltxt="sa_click";}}}else{bl.slk="btn";if(this.isStringInArray(bj,bi)){bl.sec=aY;bl.ltxt=bj;}else{if(this.isArrayStringInString(bj,bi)){bl.sec=s;bl.ltxt="srch-"+this.currentTab;}}}if(bl.sec){this.instrumentation.fireUltBeacon(bl);}}};})();(function(){var y=null,m=true,u=false,E="undefined",F="-promotion",g="-rsch1",l="ymobilizerouter",f="default",h="innerHTML",w="parentNode",A="hide-offscreen",D="hp-hidden",x="hidden",v="pageoptions",B="pageoptions-dropdown",q="pageoptions-link",e="last-active",z="y-bg-3",a="wsid",p="30345158",j="27",i="promoCode",s="hpCode",k="hpOverlay",d="randomPromo",C="rsch1Successful",n="forceSethp",c="keypress",b="data-h",r="browser",t="dayParting",o="sethpPromoShare";YModules.type_navbar={id:"",body:y,viewevents:["click"],moduleapi:y,autoHideService:y,overlay:y,pageUrl:"",instrumentationService:y,setHomepageService:y,browser:"",init:function(G){this.Y=G.getService("yui");this.id=G.getId();this.moduleapi=G;this.setHome=u;this.instrumentationService=G.getService("instrumentation");this.pageoptionsHTML=G.getString("PAGEOPTIONS.HTML");this.browser=G.getContextData(r);this.setHomepageService=G.getService("sethomepage");},onviewevent:function(I,G){var J=this.id,H=G.target;if(I===f){switch(H.get("id")){case J+"-homepage":if(this.Y.Array.indexOf(["IE","FF","WK","OP","CH"],this.browser)>-1){G.preventDefault();}this.setHomePage();break;case J+"-close-overlay":G.preventDefault();this.hideOverlay();break;case J+"-pageoptions-link":case J+"-pageoptions-arrow":G.preventDefault();this.toggleOptions();break;case J+"-mobilizer":G.preventDefault();this.setMobilizer();break;default:if(H.hasClass("theme")){G.preventDefault();if(H.get("id")&&!H.get(w).hasClass("selected")){this.selectTheme(H);}}break;}}},onviewload:function(U){var X=this.moduleapi,I=this.Y,R=this.id,O,J,Q,K,S,H,N,V,W,G,P,M,T,L;if(U===f){this.body=X.getViewNode(f);O=this.body;this.autoHideService=X.getService("autohide");W=X.getService("moduleplatform");Q=O.getById(R+F);N=X.getContextData(C);M=X.getContextData(n);H=X.getContextData(d);T=X.getContextData(t);L=X.getContextData(o);if(!N){G=X.getContextData("rsch1Suid");if(G){P=W.queryModules(function(Z){var Y=W.getModuleApi(Z);return Y?Y.getProperty("contentId")==G:false;})[0];if(P){W.stop(P);W.unregisterModule(P);}V=O.getById(G+g);if(V){V.remove();}}if(Q){S=!this.setHomepageService.isHomepageSet()&&!this.isHpWindowShade();if(M||(S&&(!H||Math.random()>L))){K=s;}else{K=i;}Q.set(h,X.getContextData(K));Q.removeClass(D);}}J=O.query("."+v);if(J){J.on(c,this.onOptionsKeyPress,this,m);this.autohideOptions=this.autoHideService.register({targets:[J],triggers:["click"],hide:I.bind(function(){this.optionsHide();},this)});}if(T==1){this.setDayParting();}}},onviewunload:function(L){var K=this.autoHideService,J=this.autohideId,I=this.autohideOptions,G=this.body,H=G.query("."+v);if(L===f){if(K){if(J){K.unregister(J);}if(I){K.unregister(I);}}if(H){H.detach(c,this.onOptionsKeyPress);}}},setMobilizer:function(){var H="100%",L=document.documentElement.clientHeight+"px",J=document.body.scrollTop||document.documentElement.scrollTop,K=document.createElement("iframe"),I="99999",G=this.moduleapi.getContextData("locale"),M=this.moduleapi.getContextData("mobilizerUrl");if(document.getElementById(l)){document.body.removeChild(document.getElementById(l));}K.src=M+"&lang="+G;K.setAttribute("id",l);K.setAttribute("name",l);K.setAttribute("allowTransparency","allowTransparency");K.setAttribute("frameborder",0);K.setAttribute("scrolling","no");K.setAttribute("width",H);K.setAttribute("height",L);K.style.position="absolute";K.style.left="0px";K.style.top=J+"px";K.style.zoom="1";K.style.zIndex=I;K.style.overflow="hidden";K.setAttribute("style","z-index:"+I+";position:absolute;top:"+J+"px;left:0px;width:"+H+";height:"+L+";");document.body.appendChild(K);if(typeof window.addEventListener!=E){window.addEventListener("message",this.closeMobilizer,u);}else{if(typeof window.attachEvent!=E){window.attachEvent("onmessage",this.closeMobilizer);}}},setDayParting:function(){var G=this.Y;G.one("html").addClass("y-day-"+this.getDayDesign());G.one("body").addClass("y-sun-"+this.getDayDesign());},getDayDesign:function(){var I=new Date(),G=I.getHours(),H,J=this.moduleapi.getContextData("dayForce");if(J!=""&&J!=y){return J;}if(G>=0&&G<6){H=4;}else{if(G>=6&&G<12){H=1;}else{if(G>=12&&G<18){H=2;}else{if(G>=18&&G<24){H=3;}else{H=2;}}}}return H;},closeMobilizer:function(G){if(G.data=="closeYMBZ"){if(document.getElementById(l)){document.body.removeChild(document.getElementById(l));}}},selectTheme:function(J){var G,K,H=this.moduleapi,I=J.get("id").split("th-")[1];G={type:"module",moduleId:this.id,args:{_container:0,_action:"show",_subAction:"theme",_theme:I}};K={success:this.handleThemeSuccess,failure:this.handelThemeFailure,argument:J,scope:this};H.makeRequest(G,K);},handleThemeSuccess:function(G,L){var K=this.Y.DOM.byId("tmp-css"),J,H,N,M,I;if(!K){return;}if(this.browser=="IE"){H=K.cloneNode(false);document.body.appendChild(H);if(H.styleSheet!==y){H.styleSheet.cssText=G.html;}else{window.location.reload();}K.parentNode.replaceChild(H,K);}else{if(K.hasChildNodes()){K.removeChild(K.firstChild);}K.appendChild(document.createTextNode(G.html));}J=this.body.getById(this.id+"-color").query(".selected");J.removeClass("selected");J=J.query("a");N=J.getStyle("backgroundPosition").split(" ");N[1]="0";J.setStyle("backgroundPosition",N[0]+" "+N[1]);M=L.get(w);N=L.getStyle("backgroundPosition").split(" ");N[1]="-15px";L.setStyle("backgroundPosition",N[0]+" "+N[1]);M.addClass("selected");I=this.moduleapi.getService("statemgr");if(I){I.update();}},handleThemeFailure:function(){},setHomePage:function(){var J,P=this.setHomepageService,L=this.moduleapi,H,M,I,K=this.body,G=this.id,O=L.getContextData(k),Q=L.getContextData("ilc"),N;if(this.browser=="IE"){if(P.setIEHomepage(Q)){I=L.getContextData(i);if(I!==""&&I!==y){J=document.getElementById(this.id+F);J.innerHTML=I;}else{M=K.getById(G+F);M.get(w).removeChild(M);}H=L.getString("PARAM.NAVBAR.IE.YES_BEACON");}else{H=L.getString("PARAM.NAVBAR.IE.NO_BEACON");}this.instrumentationService.fireUltBeacon(H);}else{if(this.Y.Array.indexOf(["FF","WK","OP","CH"],this.browser)>-1){M=K.getById(G+F);if(K.getById(G+"-set-homepage-overlay")==y){M.append(O);}this.overlay=K.getById(G+"-set-homepage-overlay");if(this.overlay){this.autohideId=this.autoHideService.register({targets:[this.overlay,M],hide:this.Y.bind(function(){this.hideOverlay();},this)});N=K.getById(G+"-sethp-ff");if(N){N.on("mousedown",this.fireFFBeacon,this);N.on("click",this.yBangClick,this);}this.overlay.removeClass(x);}}else{P.setHpCookie(Q,"1");}}},hideOverlay:function(){this.overlay.addClass(x);},fireFFBeacon:function(){var I=this.setHomepageService,H=this.moduleapi,G=H.getString("PARAM.NAVBAR.DRAG.BEACON");this.instrumentationService.fireUltBeacon(G);I.setHpCookie(H.getContextData("ilc"),"1");},isHpWindowShade:function(){var G=u,I,H=this.moduleapi.getService("statemgr");if(H){I=H.getUserPageState(a);if(I==p){G=m;H.removeUserPageState(a);}}return G;},yBangClick:function(G){G.preventDefault();},optionsShow:function(H){var J=this.id,G=this.body.getById(J+"-"+v),I=G.getById(J+"-"+B);if(!I&&this.pageoptionsHTML){G.append(this.pageoptionsHTML);I=G.getById(J+"-"+B);}I.removeClass(A);I.removeClass(x);I.addClass(B);G.addClass(e);G.getById(J+"-"+q).addClass(z);this.instrumentationService.fireUltBeacon(G.getAttribute(b));},onOptionsKeyPress:function(G){if(G.keyCode&&G.keyCode==j){this.optionsHide();}},optionsHide:function(){var I=this.id,G=this.body.getById(I+"-"+v),H;if(G){H=G.getById(I+"-"+B);if(H){H.removeClass(B);H.addClass(x);H.addClass(A);G.removeClass(e);G.getById(I+"-"+q).removeClass(z);}}},toggleOptions:function(){var G=this.body.getById(this.id+"-"+B);if(G&&!G.hasClass(x)){this.optionsHide();}else{this.optionsShow();}}};})();(function(){var d={},e,c,b="ulm:defaultlocation",a;YModules.type_batchload={init:function(f){c=f;e=c.getService("yui");a=c.getService("moduleplatform");a.subscribe("ready",e.bind(function(){if(this.collectChannelNames()){this.sendChannelsRequest();}},this));c.listen(b);},onmessage:function(f,h,g){if(f==b){this.sendChannelsRequest();}},collectChannelNames:function(){var f=false;a.queryModules(function(m){var l=a.getModuleApi(m),j=l.getProperty("pachannel"),h=l.getProperty("channels"),k,g;if(j){d[j]=m;f=true;}if(h){f=true;for(k=0,g=h.length;k<g;k++){d[h[k]]=m;}}});return f;},sendChannelsRequest:function(){var f=e.Object.keys(d),g={type:"module",moduleId:c.getId(),args:{_action:"show",_subAction:"get_vitals",channels:f}},h={success:this.handleResponseSuccess,failure:this.handleResponseFailure,scope:this};if(f.length){a.getService("arcade_transport").makeRequest(g,h,g.moduleId);}},handleResponseSuccess:function(f){var g=c.getContextData("channels");e.Object.each(g,function(i,h){i.originId=d[h];c.broadcast(h,i);});},handleResponseFailure:function(f){}};})();var mYepHandler;(function(){var c="onPlayerReady",g="onPlaybackStart",a="loaderHTML",f="errorHTML",j="navCountStr",m="vid-sh",b="close",h="innerHTML",e=42,d="sel-pane",l="modStrings",k="dfr-src",i="rem-assets";YModules.type_multimedia={body:null,editBody:null,id:"",moduleapi:null,viewevents:["click"],inlinePlayer:[],yep:null,clipId:"",remAssets:[],currIndex:0,vidsPerStrip:0,vidStripReqId:null,loadedStrips:[true],totalVidCount:null,carouselService:null,carousel:null,modStrings:[],isInteractiveVideoLink:false,init:function(n){this.Y=n.getService("yui");this.id=n.getId();this.moduleapi=n;this.instrumentation=n.getService("instrumentation");mYepHandler=this.Y.bind(function(p,q){var o=this.yep;switch(p){case c:this.yep=this.getYEP();break;case g:if(o){this.clipId=o.getCurrentVideo().mediaId;this.handlePlayerHeader();this.replaceTitle(o.getCurrentVideo().title);}break;}},this);},onviewload:function(v){var p=this.moduleapi,u,t,w,s,n,o,q,r;if(v==="default"){this.body=p.getViewNode(v);u=this.body;if(u.one(".videos")){this.isInteractiveVideoLink=(u.one("ul.pop-up"))?true:(u.one(".mmplayer"))?true:false;this.inlinePlayer=p.getContextData("inlinePlayer");}if(u.one(".vid-strip")){q=u.one(".res-height");if(q){q.removeClass("res-height");}if(u.one(".vid-strip .page")){this.isInteractiveVideoLink=true;this.platform=p.getService("moduleplatform");this.modStrings=p.getContextData(l);this.remAssets=s=p.getContextData(i);this.vidsPerStrip=n=u.all("li .item").size();this.totalVidCount=n+s.length;r=u.one(".y-carousel");this.carouselService=o=this.moduleapi.getService("carousel");t={animDuration:1,loop:1};this.carousel=w=o.create(r,t);w.on("beforescroll",this.handleCarouselScroll,this);w.on("scroll",this.handleCarouselPostScroll,this);if(this.platform){this.arcadeTransport=this.platform.getService("arcade_transport");}else{this.arcadeTransport=p;}}this.Y.later(1000,this,this.loadImages);}}else{if(v==="edit"){this.editBody=p.getViewNode(v);}}},loadImages:function(){var n,p,q,r=this.body.all("img"),o=r.size();for(n=0;n<o;n++){p=r.item(n);q=p.getAttribute(k);if(q){p.set("src",q);}}},handleCarouselScroll:function(t){var u=this.remAssets,r=t.toIndex,q=this.body.one(".page .txt"),v,s,n=this.vidsPerStrip,o,p=this.carousel.getItemNode(t.toIndex);p.addClass(d);if(!this.loadedStrips[r]){q.addClass("hide");p.set(h,this.modStrings[a]);v=n*(r-1);this.currIndex=r;s=u.slice(v,v+n);o=n-s.length;if(0<o&&!this.loadedStrips[r-1]){v=v-o;if(0<v){s=u.slice(v,v+n);}}this.generateVidStrips(s,r,p);}else{this.setNavStrings(r,q);}},setNavStrings:function(r,p){var n=this.vidsPerStrip,s=this.totalVidCount,v=(r*n)+1,q=this.modStrings[j],o=this.carousel.getItemNode(r),u=o.all(".item").size(),t=v+u-1;if(t>s){v-=(t-s);t=s;}q=q.replace("{0}",v);q=q.replace("{1}",t);p.removeClass("hide");p.set(h,q);},handleCarouselPostScroll:function(o){var n=this.carousel.getItemNode(o.fromIndex);n.removeClass(d);},onviewunload:function(n){if(n==="default"){this.body=null;}else{if(n==="edit"){this.editBody=null;}}},onviewevent:function(r,q){var n=q.target,p=this.carousel,o;if(r==="default"){if(true===this.isInteractiveVideoLink){o=n.ancestor("a.video")||n;if(o.hasClass("play-vid")){q.preventDefault();q.stopPropagation();this.playVideo(o);}else{if(o.hasClass("video")){q.preventDefault();q.stopPropagation();this.openPopup(o);}else{if(o.hasClass("close-vid")){q.preventDefault();this.closeVideo(o);}}}}if(p&&n.ancestor(".vid-strip")){o=n.ancestor("a")||n;if(o.hasClass("prev")){this.instrumentation.fireUltBeacon(o.getAttribute("data-b"));p.previous(true);q.preventDefault();}else{if(o.hasClass("next")){this.instrumentation.fireUltBeacon(o.getAttribute("data-b"));p.next(true);q.preventDefault();}}q.stopPropagation();}}else{if(r==="edit"){}}},generateVidStrips:function(r,q,s){var p={_action:"show",_subAction:"video-stories",_container:0,pane:q,assetIds:r},n=this.arcadeTransport,o=null,t={success:this.processStripSuccess,failure:this.processFailure,scope:this,argument:{iNode:s,index:q}};o={type:"module",moduleId:this.id,args:p};this.requestObject=o;this.callback=t;if(n.isRequestPending(this.vidStripReqId)){n.abortRequest(this.vidStripReqId);}this.vidStripReqId=n.makeRequest(o,t);},processStripSuccess:function(s,p){var r=this.body.one(".page .txt"),t,y,x=p.index,q=this.vidsPerStrip,w,v,o,n,u=p.iNode;u.set(h,s.html);y=u.all(".item").size();if(y<q&&x>0){o=this.carousel.getItemNode(x-1);if(o){n=o.all(".item");if(n&&q==n.size()){w=q-y;for(t=1;t<=w;t++){v=n.item(q-t).cloneNode(true);u.insert(v,0);}u.all(".first-vid").removeClass("first-vid");v.addClass("first-vid");}}}this.setNavStrings(x,r);this.loadedStrips[x]=true;},processFailure:function(n,o){o.iNode.set(h,this.modStrings[f]);},openPopup:function(s){var r=s.get("className").match(/\bsize([\w\-]+)/)[1].split("x"),q=r[0],n=r[1],p="scrollbars=yes,width="+q+",height="+n,o;o=window.open(s.get("href"),"name",p);o.focus();},playVideo:function(w){var p=this.body.one(".mmplayer"),r=w.getAttribute("data-clipid"),n=w.getAttribute("data-channelnodeid"),u=w.getAttribute("data-shareurl"),o=this.inlinePlayer,v=w.one("span.title"),x=v.get(h),t="",s="",q=this.Y.Lang;this.hidePlayerHeader=false;this.clipId=r;t=q.substitute(o.headerHTML,{_title_:x});s=q.substitute(o.objectHTML,{_clipId_:r,_channelNodeId_:n,_shareUrl_:u});p.set(h,t+s);p.removeClass("hide-vid");p.on("mouseover",this.handlePlayerHeader,this);},handlePlayerHeader:function(n){var o=this.body.one(".mmplayer .player-header");if(o){o.setStyle("top","0");this.hidePlayerHeader=(this.hidePlayerHeader)?false:true;if(this.hidePlayerHeader){this.Y.later(4000,this,function(p){if(this.hidePlayerHeader&&o){o.setStyle("top","-24px");}this.hidePlayerHeader=false;});}}},replaceTitle:function(o){var n=this.body.one(".mmplayer .video-title");if(n){o=o.length>e?o.substr(0,e)+"...":o;n.set(h,o);}},closeVideo:function(){var o=this.body.one(".mmplayer"),n=this.yep;if(n){try{n.stopMedia();}catch(p){}this.fireBeacon(m,b,this.clipId);this.yep=null;}o.addClass("hide-vid");o.set(h,"");},fireBeacon:function(o,n,q){var p={sec:o,slk:n,asset:q};this.instrumentation.fireUltBeacon(p,this.ylt);},getYEP:function(){return(document.swfmmvideo||document.getElementById("swfmmvideo"));}};})();(function(){var b="innerHTML",a="sel-pane";YModules.type_contentcarousel={instance_service:function(e,f,d){var c={name:"carousel_assistant_"+e,getService:function(h,l){var k="next",g="prev",j="jump",i;i={navigate:function(m,n){switch(m){case k:f.moveBy(null,1);break;case g:f.moveBy(null,-1);break;case j:f.gotoPane(n);break;default:break;}},currentPane:function(){return f.getCurrentIndex();}};return(!l||h.getModuleApi(l).getProperty("trusted"))?i:null;}};this.platform.registerService(c);},id:null,platform:null,moduleapi:null,body:null,viewevents:["click"],position:null,footerAd:null,carousel:null,Y:null,panelTitles:null,panelPageCount:null,beacons:null,direction:0,loadedPanes:null,loading:null,init:function(c){this.moduleapi=c;this.Y=this.moduleapi.getService("yui");this.id=c.getId();this.platform=c.getService("moduleplatform");},onviewload:function(s){var z=this.moduleapi,y=z.getContextData("metadata"),x=z.getContextData("beacon"),h=z.getContextData("nav"),f=z.getContextData("pos"),q=z.getContextData("footerad"),p=z.getContextData("emptyitem"),v=0,t=0,g=0,e={},d,w,c,l,n,u,o=null,k=null,m=null,r=null;n=z.getViewNode("default");this.body=n;this.position=f;this.nav=h;this.footerAd=q;this.loading=z.getContextData("loading");this.failureMarkup=z.getContextData("failure_markup");if(y&&y.length>1){e=z.getService("carousel");d=n.getById(this.id+"-carousel");c=d.query(".y-carousel-list");g=y.length;this.beacons=[];this.beacons[0]=x;o=[];k=[];m=[];r=[];for(v=0,t=g;v<t;v++){o[v]=y[v].moduleId;k[v]=y[v].scid;if(y[v].carouselPackageTitleHtml){m[v]=y[v].carouselPackageTitleHtml;}if(y[v].carouselPackagePageCount){r[v]=y[v].carouselPackagePageCount;}}this.paneIds=o;this.scids=k;this.panelTitles=m;this.panelPageCount=r;this.metadata=y;for(v=1;v<g;v++){l=c.create(p);c.appendChild(l);}w={animDuration:1,maxItems:g,autoCreateMissingItems:true,loop:1};u=e.create(d.query(".y-carousel"),w);if(this.id=="p_17335519"){this.instance_service(this.position,u,this.platform);}else{this.instance_service(this.position,u,this.platform);}this.carousel=u;this.createNav(d.one(".y-nav"));this.enableUpdateViaAjax();u.subscribe("beforescroll",this.beforeScroll,this);u.subscribe("scroll",this.afterScroll,this);u.subscribe("beforescroll",this.beaconOnStoredContent,this);}this.loadModuleData();},onviewevent:function(i,h){var g=h.target,c=g.get("tagName"),f=null,d=null;if(i==="default"){if(g.hasClass("prev")||g.ancestor("a.prev")){h.preventDefault();this.direction=0;this.carousel.previous();this.moduleapi.broadcast("interactive");}else{if(g.hasClass("next")||g.ancestor("a.next")){h.preventDefault();this.direction=1;this.carousel.next();this.moduleapi.broadcast("interactive");}}if("A"==c||"BUTTON"==c||g.ancestor("a, button")){this.moduleapi.broadcast("cc:interact");}f=(g.hasClass("video"))?g:g.ancestor("a.video");if(f){h.preventDefault();d=window.open(f.get("href"),"playerWindow","width=793,height=666,scrollbars=yes");d.focus();}}},addNewHeading:function(){var f=this.panelTitles[this.carousel.getCurrentIndex()],d=this.body.query(".title-wrapper"),c=this.panelPageCount[this.carousel.getCurrentIndex()],e=this.body.query(".y-nav-count");if(f&&d){d.set(b,f);}if(c&&e){e.set(b,c);}},beforeScroll:function(d){var c=this.carousel.getItemNode(d.toIndex);c.addClass(a);this.addNewHeading();},afterScroll:function(d){var c=this.carousel.getItemNode(d.fromIndex);c.removeClass(a);},storeNewHeading:function(d){var c=this.moduleapi.getContextData("thistitle");if(c){this.panelTitles[d]=c;this.addNewHeading();}},loadModuleData:function(){var d=this.moduleapi.getContextData("mods"),c=this.platform;if(d){this.Y.Array.each(d,function(e){c.registerModule(e);c.start(e.props.id,true,true);});}},beaconOnStoredContent:function(){var d=this.carousel.getCurrentIndex(),c=this.beacons;if(c&&c[d]){this.moduleapi.getService("instrumentation").fireBeacon(c[d][this.direction]);}},beaconOnNewContent:function(f,e){var d=this.moduleapi,c=null;if(this.beacons&&!this.beacons[f]){c=d.getContextData("beacon");this.beacons[f]=c;d.getService("instrumentation").fireBeacon(this.beacons[f][e]);}},createNav:function(f){var e=f.create(this.nav),d=e.query(".prev"),c=e.query(".next");f.replace(e);this.btnPrev=d;this.btnNext=c;},enableUpdateViaAjax:function(){this.ajaxEnabled=true;this.loadedPanes=[];this.loadedPanes[0]=true;this.carousel.subscribe("beforescroll",this.updateBlank,this);this.carousel.subscribe("scroll",this.updateViaAjax,this);},updateBlank:function(c){if(!this.loadedPanes[c.toIndex]){this.carousel.getItemNode(c.toIndex).set(b,this.loading);}},updateViaAjax:function(d){var c,f;if(!this.loadedPanes[d.toIndex]){c={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"request_single_pane",_container:1,scid:this.scids[d.toIndex],paneId:this.paneIds[d.toIndex],cpos:d.toIndex+1,footerAd:this.footerAd}};f={success:this.appendAjaxContent,failure:this.showFailure,scope:this,argument:{index:d.toIndex,direction:this.direction}};this.platform.getService("transport").makeRequest(c,f);}},showFailure:function(h,d){var c=d.index,f=this.carousel.getItemNode(c),g=this.failureMarkup,e;if(h.html){g=h.html;}f.set(b,g);e=f.one(".y-panel");if(e){f.set(b,e.get(b));}},appendAjaxContent:function(g,d){var c=d.index,e=this.carousel.getItemNode(c),f=d.direction;this.loadedPanes[c]=true;e.set(b,g.html);this.storeNewHeading(c);this.beaconOnNewContent(c,f);this.loadModuleData();}};})();YModules.type_contentcarouselslideshow1={Y:null,moduleapi:null,PLactive:false,PLcount:0,PLimagesLoaded:0,PLloadedImages:[],nextText:"",prevText:"",init:function(a){this.Y=a.getService("yui");this.api=a;this.platform=a.getService("moduleplatform");},onviewload:function(d){var a=this.platform,b=this.api.getContextData("slideshow"),c=this.api.getContextData("mods");if("default"===d){this.body=this.api.getViewNode("default").query(".typeslideshow");if(this.body){if(c){this.Y.Array.each(c,function(e){a.registerModule(e);a.start(e.props.id,true,true);});}this.prevText=this.api.getString("STR.CONTENTCAROUSEL.PREV");this.nextText=this.api.getString("STR.CONTENTCAROUSEL.NEXT");this.data=b.data;this.stack=b.stack;this.config=b;this.mainStackPos=0;this.mainNode=this.body.query(".main");this.thumbStackPos=[1,2];this.thumbNodeArray=this.body.queryAll(".thumb");this.thumbNodeArray.item(0).queryAll("a.video").removeClass("video");this.thumbNodeArray.item(1).queryAll("a.video").removeClass("video");this.thumbNodeArray.item(0).on("click",function(f){this.updateSlideshow(f,0);},this,true);this.thumbNodeArray.item(1).on("click",function(f){this.updateSlideshow(f,1);},this,true);}}},updateSlideshow:function(a,b){a.preventDefault();if(this.PLactive===true){return;}this.stack.push(this.mainStackPos);this.mainStackPos=this.thumbStackPos[b];this.thumbStackPos[b]=this.stack.shift();this.loadImages([this.data[this.mainStackPos].mainsrc,this.data[this.thumbStackPos[0]].thumbsrc,this.data[this.thumbStackPos[1]].thumbsrc]);},updateSlideshowImages:function(){var f=this.data,l=this.mainStackPos,b=this.mainNode,o=this.thumbStackPos,g=this.thumbNodeArray,h=null,c="",m="",k="",p="",n=0,a=0,e=0,d=0;if(f[l].mainsrc){p=f[l];k=b.queryAll("a");k.item(0).set("href",p.imagesrc);k.item(1).set("href",p.linksrc);if(p.linktype&&p.linktype==9){k.item(0).addClass("video");k.item(1).addClass("video");}else{k.item(0).removeClass("video");k.item(1).removeClass("video");}h=k.item(1);h.set("innerHTML",p.linktxt);c=b.query("img");n=c.get("height");a=c.get("width");k.item(0).replaceChild(this.PLloadedImages[0],c);c=this.mainNode.query("img");c.set("height",n);c.set("width",a);c.set("alt",p.imagetxt);}for(e=0,d=o.length;e<d;e++){if(f[o[e]].thumbsrc){p=f[o[e]];m=g.item(e);k=m.queryAll("a");k.item(1).set("innerHTML",p.linktxt);c=m.query("img");n=c.get("height");a=c.get("width");k.item(0).replaceChild(this.PLloadedImages[e+1],c);c=m.query("img");c.set("height",n);c.set("width",a);c.addClass("y-ln-1");if(e===0){c.set("alt",this.prevText);}else{c.set("alt",this.nextText);}}}},loadImages:function(a){this.PLactive=true;this.PLcount=a.length;var c=0,b=0;for(c=0,b=a.length;c<b;c++){this.PLloadedImages[c]=new Image();this.PLloadedImages[c].onload=this.Y.bind(this.checkFinished,this);this.PLloadedImages[c].src=a[c];}},checkFinished:function(){this.PLimagesLoaded++;if(this.PLimagesLoaded==this.PLcount){this.fireFinish();}},fireFinish:function(){this.updateSlideshowImages();this.PLloadedImages=[];this.PLimagesLoaded=0;this.PLactive=false;}};YModules.type_contentcarouselshopping1={Y:null,moduleapi:null,PLactive:false,PLcount:0,PLimagesLoaded:0,PLloadedImages:[],nextText:"",prevText:"",nTimer:null,ts:null,clock:null,buttons:null,init:function(a){this.Y=a.getService("yui");this.api=a;},onviewload:function(a){if("default"===a){this.body=this.api.getViewNode("default").one(".typeshopping1");this.getRemainTime();this.clock=[];if(this.body){this.clock=this.body.all(".n0");this.startTimer();}}},onviewunload:function(a){this.ts=0;this.body=null;this.clock=[];this.nTimer=null;},getRemainTime:function(){this.ts=this.body.one(".hide-offscreen").get("innerHTML");},startTimer:function(){var c=this,b=c.body.one(".todbuy"),d="http://l.yimg.com/ne/home/2009/b_todend.gif",a=function(){c.ts-=1;if(c.ts===0){clearInterval(c.nTimer);b.setAttribute("src",d);}c.drawTimer();};c.nTimer=setInterval(a,1000);},drawTimer:function(){var b=parseInt(this.ts/3600,10),d=parseInt((this.ts%3600)/60,10),e=parseInt((this.ts%3600)%60,10),a=[],c=0;if(b<10){a[0]="0";a[1]=b;}else{a[0]=b.toString().substring(0,1);a[1]=b.toString().substring(1,2);}if(d<10){a[2]="0";a[3]=d;}else{a[2]=d.toString().substring(0,1);a[3]=d.toString().substring(1,2);}if(e<10){a[4]="0";a[5]=e;}else{a[4]=e.toString().substring(0,1);a[5]=e.toString().substring(1,2);}for(c=0;c<this.clock.size();c++){this.clock.item(c).set("className","n"+a[c]);}}};(function(){var g="submit",a=".quotes-input",f="value",e=null,h="focus",b="blur",c="value",i="default_quote_text",d="interactive";YModules.type_marketindices={id:"",defaultBody:e,moduleapi:e,viewevents:["click"],quotesForm:e,quotesInput:e,defaultQuoteText:e,init:function(j){this.id=j.getId();this.moduleapi=j;this.Y=j.getService("yui");},onviewload:function(m){var j,k,l=this.moduleapi;this.defaultBody=j=l.getViewNode("default");this.defaultQuoteText=l.getContextData(i);this.quotesForm=j.query(".quotes-form");this.quotesInput=k=j.query(a);this.handleQuotesInputHighlight();this.quotesForm.on(g,this.onquoteSubmit,this);k.on(h,this.handleQuotesInputFocus,this);k.on(b,this.handleQuotesInputFocus,this);if(j.one(".stck1 .empty-fallback")){j.one(".get-quote").setStyle("marginLeft","0");}},handleQuotesInputHighlight:function(){var k=this.quotesInput,j=this.Y.Lang.trim(k.get(c));if(j&&this.defaultQuoteText!==j){k.removeClass("y-ln-1");k.removeClass("y-txt-input");k.addClass("y-ln-1");}},handleQuotesInputFocus:function(m){var l=m.target,k=this.Y.Lang.trim(l.get(c)),j=this.moduleapi;m.preventDefault();if(h===m.type){if(k&&this.defaultQuoteText===k){l.set(c,"");}l.removeClass("y-ln-1");l.removeClass("y-txt-input");l.addClass("y-ln-1");j.broadcast(d);}else{if(b===m.type){if(""===k){l.removeClass("y-ln-1");l.addClass("y-txt-input");l.addClass("y-ln-1");l.set(c,this.defaultQuoteText);}}}},onquoteSubmit:function(k){var j=this.quotesInput.get(f);if((this.defaultQuoteText===j)||(""===j)){k.preventDefault();}},onviewunload:function(j){if(j=="default"){this.quotesForm.detach(g,this.onquoteSubmit);}}};})();(function(){var x=null,j=true,s=false,l=47,v="-tuc",e="-nickname-p2",b="default",o="browser",t="parentNode",c="offsetWidth",f="width",u="hidden",a="tuc-dropdown",g="tuc-nickname",h=".name",i="active",y="y-bg-3",w="y-hdr-link",r="y-txt-1",d="27",k="px",m="tab_enter",p="tab_exit",n=400,q="rtl";YModules.type_tuc={id:"",body:x,viewevents:["click"],moduleapi:x,autoHideService:x,autohideTuc:x,tucDropdown:x,type:x,menu:x,isShown:s,timer:x,tucContentReqId:null,arcadeTransport:null,isWave3:s,isWave3badge:s,init:function(z){this.Y=z.getService("yui");this.id=z.getId();this.moduleapi=z;this.platform=z.getService("moduleplatform");if(this.platform){this.arcadeTransport=this.platform.getService("arcade_transport");}else{this.arcadeTransport=z;}this.arcadeTransport=z;this.isWave3=z.getContextData("wave3");this.isWave3badge=z.getContextData("wave3badge");this.type=z.getProperty("type");this.browser=z.getContextData(o);},onviewevent:function(B,z){var C=this.id,A=z.target;if(B===b){switch(A.get("id")){case C+"-tuc-nickname":case C+"-nickname-p1":case C+"-nickname-p2":case C+"-tuc-nickname-arrow":z.preventDefault();this.toggleTuc();break;default:if(A.hasClass("theme")){z.preventDefault();if(A.get("id")&&!A.get(t).hasClass("selected")){this.selectTheme(A);}}break;}}},onviewload:function(D){var B=this.moduleapi,E=this.id,A,C=(B.getService("userinfo").isLoggedIn()||B.getContextData("recognizedState")),z;if(D===b){this.body=B.getViewNode(b);this.autoHideService=B.getService("autohide");A=this.body;this.tucDropdown=A.getById(E+"-"+a);z=A.query(h);this.autohideTuc=this.attachEvents(z,{hide:this.tucHide,keyup:this.tucKeyUp});}if(C&&this.isWave3==j){B.listen(m);B.listen(p);}},onviewunload:function(B){var A=this.body,z=A.query(h);if(B===b&&this.isWave3!=j){this.detachEvents(z,{hide:this.tucHide,keyup:this.tucKeyUp});this.tucDropdown=x;this.autohideTuc=x;this.autoHideService=x;}else{this.clear();if(this.menu){this.menu.destroy();}this.menu=x;}},attachEvents:function(C,B){var z,A;if(C){for(A in B){if(B[A]){switch(A){case"hide":z=this.autoHideService.register({targets:[C],hide:this.Y.bind(B[A],this,s)});break;case"keyup":C.on(A,B[A],this,j);break;default:break;}}}}return z;},detachEvents:function(B,A){var C=this.autoHideService,z;if(B){for(z in A){if(A[z]){switch(z){case"hide":if(C){C.unregister(A[z]);}break;case"keyup":B.detach(z,A[z]);break;default:break;}}}}},tucShow:function(){var E=this.id,A=this.body,z=A.getById(E+v),D=this.tucDropdown,C=z.getById(E+"-"+g),B=z.getById(E+e);D.removeClass(u);z.addClass(i);C.addClass(y);B.replaceClass(w,r);this.positionUserCard();},tucHide:function(){var E=this.id,A=this.body,z=A.getById(E+v),D=this.tucDropdown,C=z.getById(E+"-"+g),B=z.getById(E+e);D.addClass(u);z.removeClass(i);C.removeClass(y);B.replaceClass(r,w);},onmessage:function(B,z,A){if(A.moduleType==this.type){this.showHideLater(B==m);}},onMenuExecute:function(A){var z=A.url;if(z){this.moduleapi.navigate(z);}},selectTheme:function(C){var z,D,A=this.moduleapi,B=C.get("id").split("th-")[1];z={type:"module",moduleId:this.id,args:{_container:0,_action:"show",_subAction:"theme",_theme:B}};D={success:this.handleThemeSuccess,failure:this.handleThemeFailure,argument:C,scope:this};A.makeRequest(z,D);},handleThemeSuccess:function(z,E){var D=this.Y.DOM.byId("tmp-css"),C,A,G,F,B;if(!D){return;}if(this.browser=="IE"){A=D.cloneNode(false);document.body.appendChild(A);if(A.styleSheet!==x){A.styleSheet.cssText=z.html;}else{window.location.reload();}D.parentNode.replaceChild(A,D);}else{if(D.hasChildNodes()){D.removeChild(D.firstChild);}D.appendChild(document.createTextNode(z.html));}C=this.body.getById(this.id+"-color").query(".selected");C.removeClass("selected");C=C.query("a");G=C.getStyle("backgroundPosition").split(" ");G[1]="0";C.setStyle("backgroundPosition",G[0]+" "+G[1]);F=E.get(t);G=E.getStyle("backgroundPosition").split(" ");G[1]="-15px";E.setStyle("backgroundPosition",G[0]+" "+G[1]);F.addClass("selected");B=this.moduleapi.getService("statemgr");if(B){B.update();}},handleThemeFailure:function(){},makeTucRequest:function(){var B={_action:"show",_subAction:"tuc_preview"},z=this.arcadeTransport,A=null,C={success:this.processTucSuccess,failure:this.processTucFailure,scope:this};A={type:"module",moduleId:this.id,args:B};this.requestObject=A;this.callback=C;if(z.isRequestPending(this.tucContentReqId)){z.abortRequest(this.tucContentReqId);}this.tucContentReqId=z.makeRequest(A,C);},processTucSuccess:function(z,A){this.body.appendChild(z.html);this.showHideTUC(j);},processTucFailure:function(z,A){},showHideLater:function(z){this.clear();this.timer=this.Y.later(n,this,this.showHide,z);},showHide:function(z){var A=this.menu;if(this.isShown==z){return;}if(!A){if(this.isWave3badge==j&&!this.body.one("#"+this.id+"-menu")){this.makeTucRequest();}else{this.showHideTUC(z);}}else{this.showHideTUC(z);}},showHideTUC:function(z){var B=this.moduleapi,A,D=this.menu,C;if(!D){A=B.getService("menu");D=A.create("#"+this.id+"-menu");D.on("execute",this.onMenuExecute,this);this.menu=D;}this.clear();if(z){D.show({left:0,top:100},null,"%");C=B.getService("instrumentation");C.fireBeacon(B.getContextData("showBeacon"));}else{D.hide(false);}this.isShown=!!z;},clear:function(){if(this.timer){this.timer.cancel();}this.timer=x;},toggleTuc:function(){var z=this.body.getById(this.id+v);if(z&&z.hasClass(i)){this.tucHide();}else{this.tucShow();}},tucKeyUp:function(z){if(z.keyCode&&z.keyCode==d){this.tucHide();}},positionUserCard:function(){var C=this.Y.UA,B=this.body,E=this.moduleapi.getViewDirection("default"),A=B.getById(this.id+"-"+g),H=A.getX(),G=A.get(c),z=this.tucDropdown,D=z.get(c),F=G+l;if(F>D){z.setStyle(f,F+k);}F=z.get(c);if(C.ie&&C.ie<8){if(E==q){z.setX(H+G-F);}else{z.setX(H);}}}};})();YUI.add("pautil",function(c){var h=c.ModulePlatform,e="MPServices",a="PaListProvider",i=c.DOM,f=c.Node,b=c.Selector,d,g={};d={fireExternalBeacon:function(j){if(j&&j.length>0){var k=new Image();k.id=c.guid();g[k.id]=k;k.onload=k.onerror=function(){delete g[this.id];};k.src=j;}},focusThisNode:function(j){var l;try{l=j.nodeName.toLowerCase();if(l!=="a"&&l!=="button"){j.setAttribute("tabIndex","-1");}j.focus();}catch(k){}return j;},ancestor:function(k,j){return i.ancestor(k,function(l){return b.test(l,j);});},testClassName:function(l,k,j){if(i.hasClass(l,k)){return true;}else{if(j&&l!=j){j=i.ancestor(l,function(m){return(i.hasClass(m,k)||m==j);});}}return j?i.hasClass(j,k):false;},emulateTextOverflow:function(k,l,u){var v="truncated",r="innerHTML",o,n,s,w,j,q,p,t,m;if(!c.UA.gecko){return;}if(k instanceof f){k=f.getDOMNode(k);}o=b.query(l,k);n=o.length;if(n){s=o[0];t=parseFloat(window.getComputedStyle(s,null).maxWidth);q=s.cloneNode(false);q.style.cssText="position:absolute;width:auto;max-width:none;visibility:hidden;float:none;overflow:visible;";while((w=o[--n])){q[r]=w[r];j=w.parentNode;j.appendChild(q);m=u||q[r].length;if(q.offsetWidth>t&&w.getAttribute(v)!="1"){p=q[r].substring(0,m).split("");while(q.offsetWidth>t){p.pop();if(p[p.length-1]!==" "){q[r]=p.join("")+"&hellip;";}}w.setAttribute(v,"1");w[r]=q[r];}}j.removeChild(q);}else{}}};c.namespace(e);c[e][a]={name:"pautil",getService:function(l,k){var j=l.getModuleApi(k);if(j.getProperty("type")!=="pa"){return null;}return d;}};if(h){h.registerService(c[e][a]);}},"1.0");YUI.add("palist",function(d){var B=null,x=true,ab=false,b=d.ModulePlatform,F="ariaMoving",z="ariaMoveComplete",L="ariaMoveAfter",n="editInstr",K="MPServices",Z="PaListProvider",T="click",w="innerHTML",aa="interactive",ad="modid",i="mouseover",ac="mouseout",f="data-b-paq",D="ad-b-c",t="do-close",P="do-edit",G="edit",R="edit-err-bd",X="edit-load",C="edit-ok",af="pa-add-bd",A="btn-hover",e="pa-btn-loading",u="qv",ae="px",U="save",J="e",o="y",k="u",j="yahoo",m="user",Q="promo",O=0,y=d.DOM,S=d.Event,v=d.Node,I=d.Selector,l,h,q,s,a,M,H,W=0,N,g=B,E,V,p,r;function c(ag,Y){this.list=ag;this.type=Y;this.dialogHTML=V.getString(Y==j?"DIALOG":"DIALOG.FAV");this.attachHover();S.attach(T,this.onClick,ag,this);}c.prototype={addDialog:B,autohideId:B,cancelEditTimer:B,dlgErr:B,dlgOverlay:B,editIndex:B,editOriginalSibling:B,gallery:B,list:B,listOverlay:B,loadFavRequestId:B,removeRequestId:-1,sortable:B,statusRegion:B,dialogHTML:"",type:"",destroy:function(){this.destroyEdit();this.detachHover();S.detach(T,this.onClick,this.list);this.editOriginalSibling=this.list=B;--W;if(W===0){if(p){p.destroy();}g=p=B;}},destroyEdit:function(){var aj=this.addDialog,ak=this.autohideId,ag=this.gallery,ai=this.loadFavRequestId,al=this.sortable,ah=this.statusRegion,Y;if(this.type==j){Y=V.getContextData("yservices")[0].props.id;a.stop(Y);}if(V.isRequestPending(ai)){V.abortRequest(ai);}this.hideError();if(ag){ag.destroy();}if(aj){S.detach(T,this.onDialogClick,v.getDOMNode(aj.getNode()));aj.destroy();}if(ak||-1<ak){h.unregister(ak);}if(al){al.destroy();}if(ah&&ah.parentNode){ah.parentNode.removeChild(ah);}if(this.cancelEditTimer){this.cancelEditTimer.cancel();}this.addDialog=this.autohideId=this.cancelEditTimer=this.gallery=this.sortable=this.statusRegion=B;},getModuleCount:function(){var ah=this.list.getElementsByTagName("li").length,ag=V.getContextData("fillerBtns"),Y=V.getContextData("yfillerBtns");if(this.type==m&&ag){ah-=ag;}else{if(this.type==j&&Y){ah-=Y;}}return ah;},update:function(Y){var ah=this.list,ag=Y&&y.create(Y),ai=ah.getElementsByTagName("ol"),aj=this.sortable;if(this.type==Q){ah.style.display=ag?"":"none";}if(ag&&ai.length){ai[0].parentNode.replaceChild(ag,ai[0]);s.emulateTextOverflow(ai[0],".lbl");this.updateRemaining();if(aj){aj.sync();}}},remove:function(ag){var Y=y.byId("pa-"+ag+"-bd"),ah=this.sortable;if(Y&&y.contains(this.list,Y)){Y.parentNode.removeChild(Y);this.updateRemaining();if(ah){ah.sync();}}},updateRemaining:function(){var Y=y.byId(N+"-slots-left");if(Y){Y[w]=V.getContextData("userlist_max")-q.getUserModuleCount();}},attachHover:function(){var Y=this.list;S.attach(i,this.onListOver,Y,this);S.attach(ac,this.onListOut,Y,this);},detachHover:function(){var Y=this.list;S.detach(i,this.onListOver,Y);S.detach(ac,this.onListOut,Y);this.hideQuickView();},onClick:function(ak){var al=v.getDOMNode(ak.target),ah=v.getDOMNode(ak.currentTarget),an=this.isEditMode(),ai=s.testClassName,aj=s.ancestor,Y,am,ag;if(!E&&an&&!y.hasClass(this.list,X)){ak.preventDefault();this.showSignInError();}else{if(an&&(al.nodeName.toLowerCase()=="a"||aj(al,"a"))){ak.preventDefault();}else{if(ai(al,u,ah)){ag=aj(al,"li");Y=ag.getAttribute(f);am=ag.getAttribute(D);M.fireUltBeacon(Y);this.hideQuickView();q.openModule(ag.getAttribute(ad));s.fireExternalBeacon(am);}else{if(ai(al,"do-open",ah)){q.openModule(aj(al,"li").getAttribute(ad));}else{if(y.hasClass(al,P)||aj(al,"."+P)){d.later(15,this,this.switchToEditMode);}else{if(y.hasClass(al,"do-add-link")){this.addPromoLink(al);}else{if(y.hasClass(al,"do-rm")){this.removeApp(aj(al,"li").getAttribute(ad));}else{if(ai(al,t,ah)){this.cancelEditLater();}}}}}}}}},onDialogClick:function(aj){var ai=v.getDOMNode(aj.target),ah=v.getDOMNode(aj.currentTarget),ak=ab,ag=s.testClassName,Y=this.gallery;if(ag(ai,t,ah)){this.cancelEditLater();}else{if(y.hasClass(ai,"do-done")){ak=Y&&Y.commit(d.bind(this.cancelEditLater,this));if(!ak){this.cancelEditLater();}}else{if(ag(ai,"do-err-close",ah)||y.hasClass(ai,"pa-mod-err-cancel")||y.hasClass(ai,"pa-mod-err-ok")){this.hideError();}}}},onListOver:function(al){var ak=v.getDOMNode(al.target),Y=v.getDOMNode(al.relatedTarget),ai=ak,aj=3,ah=0,ag;while(ai&&ah++<aj){if(ai!=document&&ai.getAttribute(ad)){if(y.hasClass(ai,"btn-app")){ag=ai;}break;}ai=ai.parentNode;}if(!ag){return;}if(!y.hasClass(ag,"btn-current")){if(!s.testClassName(ak,u,ag)&&!y.contains(ag,Y)){this.appendQuickView(ag);g=ag;}}},onListOut:function(ag){var Y=v.getDOMNode(ag.relatedTarget);if(g){if(!Y||!y.contains(g,Y)){this.hideQuickView();}}},appendQuickView:function(Y){var ag,ah=y.hasClass;if(ah(this.list.parentNode.parentNode,"edit-mode")){return;}y.addClass(Y,A);if(ah(Y,"btn-app")){ag=y.byId(N+"-qv");if(!ag){ag=y.create(V.getContextData("quickViewHtml"));}Y.appendChild(ag);if(p){p.retarget(ag);p.show();}}V.broadcast(aa);},hideQuickView:function(){if(p){p.hide();}if(g){y.removeClass(g,A);g=B;}},createOverlay:function(Y){var ag=document.createElement("div");ag.className="pa-mask";Y.insertBefore(ag,Y.firstChild);ag.style.height=y.region(Y).height+ae;return ag;},showError:function(ai){var ah=this.addDialog,aj,Y=this.dlgOverlay,ag=this.dlgErr;if(!ah){return;}if(Y){I.query("."+R,ag,x)[w]=ai;}else{this.listOverlay=this.createOverlay(this.list);aj=I.query(".pa-add",v.getDOMNode(ah.getNode()),x);Y=this.createOverlay(aj);ag=y.create(V.getString(this.type==j?"EDIT.ERR":"EDIT.ERR.FAV"));I.query("."+R,ag,x)[w]=ai;Y.parentNode.insertBefore(ag,Y);this.dlgOverlay=Y;this.dlgErr=ag;}ag.style.top=((y.region(ag.parentNode).height-y.region(ag).height)/2)+ae;},showSignInError:function(){this.showError(d.substitute(V.getString(this.type==j?"EDIT.SIGNIN":"EDIT.SIGNIN.FAV"),{signInUrl:(this.type==j)?V.getContextData("editSignInUrl"):V.getContextData("favEditSignInUrl")}));},hideError:function(){var Y=this.dlgErr,ag=this.dlgOverlay,ah=this.listOverlay;if(ah&&ag&&Y){Y.parentNode.removeChild(Y);ag.parentNode.removeChild(ag);ah.parentNode.removeChild(ah);this.dlgErr=this.dlgOverlay=this.listOverlay=B;}},isEditMode:function(){return y.hasClass(this.list,G);},switchToEditMode:function(){var al=this.list,ak=(this.type==j),ag,ah,aj,Y,ai,am;if(this.isEditMode()){return;}q.closeCurrentModule();q.hideError();this.detachHover();y.addClass(al,G);y.addClass(al,X);ag=V.getService("tooltip");ah=ag.create({className:"y-tooltip-pa-dialog "+X,pointerClass:["y-fp-pg-controls","ptr-"+this.type],parentNode:"#default-"+N+"-bd",position:{box:"r",arrow:"t",alignNode:al},borderClass:["y-ln-4","y-bg-3"],msg:y.create(d.substitute(this.dialogHTML,{body:V.getContextData("loadingMsgDefault")}))});aj=v.getDOMNode(ah.getNode());S.attach(T,this.onDialogClick,aj,this);ah.show(al);this.addDialog=ah;this.autohideId=h.register({targets:[v.get(al),ah.getNode()],hide:d.bind(this.cancelEdit,this,ab)});H.setUserModuleState(J,ak?o:k);V.broadcast("pa:open",{mode:"edit"});if(ak){Y=V.getContextData("yservices")[0].props.id;a.openView(Y,"default");}else{ai={moduleId:N,type:"module",args:{_action:"show",_subAction:"addapps"}};am={success:this.onLoadFavSuccess,failure:this.onLoadFavFailure,scope:this};this.loadFavRequestId=V.makeRequest(ai,am);}},cancelEdit:function(Y){var ag=this.list,ah=this.cancelEditTimer;if(ah){ah.cancel();this.cancelEditTimer=B;}Y=(Y===undefined?x:Y);if(!this.isEditMode()){return;}this.destroyEdit();y.removeClass(ag,X);y.removeClass(ag,C);y.removeClass(ag,G);this.attachHover();if(Y){s.focusThisNode(I.query(".hd h2.title",ag,x));}H.removeUserModuleState(J);V.broadcast("pa:close",{mode:"edit"});},cancelEditLater:function(Y){var ag=this.cancelEditTimer;if(!ag){ag=d.later(15,this,this.cancelEdit,Y);}},onEditLoadSuccess:function(aj){var ak=this.list,ah=this.addDialog,ai=v.getDOMNode(ah.getNode()),ag,Y,al;y.removeClass(ak,X);y.removeClass(ai,X);y.addClass(ak,C);y.addClass(ai,C);ag=I.query("."+af,ai,x);if(aj.outerHTML){ag[w]=aj.outerHTML;}else{ag.replaceChild(aj,y.elementByAxis(ag,"firstChild"));}this.updateRemaining();Y=V.getService("sortable");al=Y.create(ak);al.subscribe("start",this.onSortableStart,this);al.subscribe("enter",this.onSortableEnter,this);al.subscribe("stop",this.onSortableStop,this);al.subscribe("cancel",this.onSortableCancel,this);this.sortable=al;this.setEditFocus();},onEditLoadFailure:function(ai){var Y,ah=v.getDOMNode(this.addDialog.getNode()),ag;if(ai=="badcrumb"||ai=="nocookies"){ag=a.getProperty("crumbErrorHtml")+'<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+V.getString("STR.OK")+"</a></p>";}else{ag=V.getString("STR.PA.TIMEOUT");}y.removeClass(this.list,X);y.removeClass(ah,X);Y=I.query("."+af,ah,x);Y[w]=ag;},setYServices:function(Y,ag){if(this.isEditMode()){if(typeof ag=="undefined"){this.onEditLoadSuccess(Y);}else{this.onEditLoadFailure(ag);}}},removeYServices:function(){},onLoadFavSuccess:function(Y){var ag=V.getService("type_pa_add"),ah=Y.data,ai;if(this.isEditMode()){ai=y.create(Y.html);this.onEditLoadSuccess(ai);this.gallery=ag.create(ai,ah.saveStatus,ah.saveMsg);}},onLoadFavFailure:function(Y){if(this.isEditMode()){this.onEditLoadFailure(Y.resultDetail);}},onSortableStart:function(ai){var ag=ai.drag,Y=ai.proxy,ah=document.createElement("div"),aj="btn";this.editIndex=ai.index;this.editOriginalSibling=y.elementByAxis(ag,"nextSibling");ah.className=aj;ah[w]=ag[w];Y.appendChild(ah);this.alert(F,this.getTitle(ag));},onSortableEnter:function(al){var ak=al.drag,ah=al.drop,ai=al.index,ag=ah.parentNode,Y=ai<this.editIndex,aj;if(ah==ak||!al.droppable){return;}aj=(Y)?ah:d.DOM.elementByAxis(ah,"nextSibling");if(aj){ag.insertBefore(ak,aj);}else{ag.appendChild(ak);}this.alert(L,this.getTitle(d.DOM.elementByAxis(ak,"previousSibling")));this.editIndex=ai;},onSortableStop:function(al){var ah=al.drag,ak=al.drag.getAttribute(ad),Y=y.elementByAxis(ah,"nextSibling"),ag=Y?Y.getAttribute(ad):B,aj,ai=x,am;if(!E){this.onSortableCancel(al);this.showSignInError();ai=ab;}al.proxy[w]="";if(ai&&Y!=this.editOriginalSibling){aj={type:"module",moduleId:N,args:{_action:U,_subAction:"moveapp",mid:ak,nextmid:ag}};am={success:this.onReorderSuccess,failure:this.onReorderFailure,scope:this};V.makeRequest(aj,am);}this.editIndex=this.editOriginalSibling=B;M.fireBeacon(V.getContextData("dragdropBeacon"));this.alert(z);},onSortableCancel:function(ah){var ag=ah.drag,ai=ag.parentNode,Y=this.editOriginalSibling;if(Y){ai.insertBefore(ag,Y);}else{ai.appendChild(ag);}},onReorderSuccess:function(Y){var ag=Y.data;if(ag.saveStatus!=O){this.showError(ag.saveMsg);}},onReorderFailure:function(Y){this.showError(V.getString("STR.PA.TIMEOUT.POPUP"));},removeApp:function(ag){var Y={type:"module",moduleId:N,args:{_action:U,_subAction:"removeapps",mid:ag}},ah={success:this.onRemoveAppSuccess,failure:this.onRemoveAppFailure,scope:this,argument:{moduleId:ag}};if(!V.isRequestPending(this.removeRequestId)){this.removeRequestId=V.makeRequest(Y,ah);if(this.gallery){this.gallery.isPaServiceBusy=true;}}},onRemoveAppSuccess:function(Y,ah){var ai=Y.data,ag=ah.moduleId;if(this.gallery){this.gallery.isPaServiceBusy=false;this.gallery.updateAppRemoval(ag);}if(ai.saveStatus==O){V.broadcast("userlist:remove",{moduleId:ag,timestamp:ai.saveTS});}else{this.showError(ai.saveMsg);}},onRemoveAppFailure:function(Y,ag){this.showError(V.getString("STR.PA.TIMEOUT.POPUP"));},addPromoLink:function(aj){var Y=aj.getAttribute("suid"),ah=s.ancestor(aj,"li"),ag,ai,ak;y.addClass(aj,e);if(!E){ag=a.getModuleApi(ah.getAttribute(ad)).getProperty("promosignin");V.navigate(ag);return;}ai={moduleId:N,type:"module",args:{_action:U,_subAction:"add_promo_link",suid:Y}};ak={success:this.addPromoLinkSuccess,failure:this.addPromoLinkFailure,argument:{target:aj,suid:Y},scope:this};V.makeRequest(ai,ak);},addPromoLinkSuccess:function(Y,ag){var ah=Y.data;if(ah.saveStatus==O){V.broadcast("userlist:add",{moduleId:ah.moduleId,timestamp:ah.saveTS});}else{y.removeClass(ag.target,e);q.showAppError(ah.saveMsg);}},addPromoLinkFailure:function(Y,ag){y.removeClass(ag.target,e);q.showAppError(V.getContextData("f-generic-msg"));},setEditFocus:function(){var ag=this.addDialog,Y=this.list.getElementsByTagName("LI"),aj=Y.length,ah=this.type,ai;if(ah==j){if(aj>1){ai=Y[1];}}else{if(ah==m){if(aj>=2){if(!y.hasClass(Y[0],"y-sortable-false")){ai=Y[0];}}}}if(ai&&E){this.alert(n);}else{if(ag){ai=ag.getNode().query(".pa-add-hd h2");ai=ai&&v.getDOMNode(ai);}}if(ai){s.focusThisNode(ai);}},alert:function(ah,ag){var ai=V.getString(ah),Y;if(ai){if(ag){ai=ai.replace("%s",ag);}if(!this.statusRegion){Y=document.createElement("div");Y.setAttribute("role","status");Y.setAttribute("aria-live","assertive");this.statusRegion=this.list.parentNode.appendChild(Y);}l.alert(ai,this.statusRegion);}},getTitle:function(Y){var ag=y.getText(I.query(".lbl",Y,x));return ag;}};r={YAHOO:j,USER:m,PROMO:Q,create:function(Y,ah){var ag;++W;if(W==1){N=V.getId();E=V.getService("userinfo").isLoggedIn();ag=V.getService("iframeshim");if(ag.isShimNeeded()){p=ag.create(Y);}}return new c(Y,ah);}};d.namespace(K);d[K][Z]={name:"palist",getService:function(ag,Y){if(!a){a=ag;V=a.getModuleApi(Y);l=V.getService("aria");h=V.getService("autohide");M=V.getService("instrumentation");q=V.getService("pa");s=V.getService("pautil");H=V.getService("statemgr");}return r;}};if(b){b.registerService(d[K][Z]);}},"1.0");(function(){var s="default",x="focus",y="scroll",h="action",f="value",A="value",a="innerHTML",v="scrollTop",g="submit",r="pmh:show",q="pmh:searchtext",p="mh:web_srch_inp",i="mh:tab_select",z=123,d=122,l="hide",o="hidden",e="y-txt-input",u=".ie6-wrapper",b=".type_persistentmasthead .type_tuc .tuc-dropdown",w="#y-masthead .stabs .selected",m="prev",n="next",j="trend-link",c="TRENDING_NOW",k="disabled",t=null;YModules.type_persistentmasthead={body:t,editBody:t,id:"",moduleapi:t,viewevents:["click"],webSearchText:t,visible:false,triggerScrollTop:z,triggerScrollTopAfter:z,isOnload:false,scrollEventHandle:t,ie6Wrapper:t,scrollWindow:t,supportedTabs:t,supportedTabsData:t,button:t,form:t,tucDropdown:t,trendingNowLinks:t,trendingNowLinkNode:t,currentIndex:0,init:function(B){this.Y=B.getService("yui");this.id=B.getId();this.moduleapi=B;this.supportedTabs=B.getContextData("CTX_SUPPORTED_TABS");this.supportedTabsData=B.getContextData("CTX_SUPPORTED_TABS_DATA");B.listen(p);B.listen(i);},onviewload:function(I){var D,F,K,H,J,G,E,B,C=this.Y;if(I===s){D=this.moduleapi;F=this.body=D.getViewNode(I);this.trendingNowLinks=D.getContextData(c);if(this.trendingNowLinks){this.trendingNowLinkNode=F.one("."+j);E=F.one("."+m);B=F.one("."+n);E.removeAttribute(k);B.removeAttribute(k);}this.container=C.one("#y-persistentmasthead-con");this.button=C.one("#"+this.id+"-search-submit");this.form=C.one(".search-wrapper form");if(C.UA.ie==6){K=this.ie6Wrapper=C.one(u);}if(C.UA.ie){this.form.on(g,this.handleSubmit,this);}G=C.one("#y-header");if(G){this.triggerScrollTop=G.get("region").bottom;if(this.triggerScrollTop<0){this.triggerScrollTop=z;}}J=this.queryInputField=F.one("#"+this.id+"-p");J.on(x,this.clearQueryInputField,this);this.scrollWindow=C.config.win;if(K){this.scrollWindow=K;}H=this.scrollWindow;if(this.isTabSelected(this.supportedTabs)){this.scrollEventHandle=C.on(y,this.handleWindowScroll,H,this);this.isOnload=true;this.handleWindowScroll();}}},onviewunload:function(C){var B=this.Y;if(C===s){this.supportedTabsData=t;this.queryInputField.detach(x,this.clearQueryInputField);B.detach(y,this.handleWindowScroll,this.scrollWindow,this);if(B.UA.ie){this.form.detach(g,this.handleSubmit);}this.body=this.form=this.button=this.container=this.queryInputField=t;}},onviewevent:function(D,C){var B=C.target,E=this.queryInputField;if(D===s){if(B.hasClass(m)||B.ancestor("."+m)||B.hasClass(n)||B.ancestor("."+n)){if(B.ancestor("."+m)){B=B.ancestor("."+m);}if(B.ancestor("."+n)){B=B.ancestor("."+n);}this.handlePagination(B);}if(B.hasClass("searchsubmit")&&E.hasClass(e)){E.set(A,"");}}},handleSubmit:function(D){var C=this.moduleapi,E=this.queryInputField,B;if(this.searchInputCleared){B=E.get(A);this.webSearchText=B;C.broadcast(q,B);}},onmessage:function(G,D,E){var H=this.scrollEventHandle,C=(H===t)?false:true,B=this.supportedTabsData,F=this.Y;if(G===p){this.webSearchText=E;}else{if(G===i){if(B[E.clickedTab]){this.updatePersistentMasthead(E);if(!C){this.scrollEventHandle=F.on(y,this.handleWindowScroll,this.scrollWindow,this);}}else{if(!B[E]&&C){H.detach();this.scrollEventHandle=t;this.container.addClass(l);}}}}},handlePagination:function(F){var C=this.currentIndex,B=this.trendingNowLinks,E=B.length,D=this.trendingNowLinkNode;if(F.hasClass(n)){if(++C==E){C=0;}}else{if(--C<0){C=E-1;}}D.set(a,B[C]);this.currentIndex=C;},clearQueryInputField:function(B){var C=this.queryInputField;C.set(A,"");C.removeClass(e);C.detach(x,this.clearQueryInputField);this.searchInputCleared=true;},handleWindowScroll:function(J){var C=this.Y,D,G,L,K,N=this.ie6Wrapper,H,F=this.moduleapi,E=this.visible,B=this.container,M=this.queryInputField,I;if(N){L=N.get(v)<0?d:N.get(v);G=this.tucDropdown;if(!G){G=this.tucDropdown=C.one(b);}}D=N?L:C.DOM.docScrollY();if(this.isOnload===false&&this.triggerScrollTop!=this.triggerScrollTopAfter){K=C.one("#y-header");if(K){this.triggerScrollTop=K.get("region").bottom;if(this.triggerScrollTop<0){this.triggerScrollTop=z;}}this.triggerScrollTopAfter=this.triggerScrollTop;}else{this.isOnload=false;}H=(D>=this.triggerScrollTop);if(H&&!E){if(G&&G.hasClass(o)){G.removeClass(o);G.addClass(o);}B.removeClass(l);this.visible=true;F.broadcast(r);if(this.webSearchText!==t){this.clearQueryInputField();M.set(A,this.webSearchText);}}if(!H&&E){B.addClass(l);this.visible=false;if(this.searchInputCleared){I=M.get(A);this.webSearchText=I;F.broadcast(q,I);}}},isTabSelected:function(F){var E,C=false,D=this.Y.one,B=F.length;for(E=0;E<B;E++){if(D(w+" ."+F[E])){C=true;break;}}return C;},updatePersistentMasthead:function(C){var B=this.supportedTabsData;this.form.set(h,B[C.clickedTab][h]);this.button.set(f,C.buttonName);this.button.set(a,C.buttonName);}};})();/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("windowshade_service",function(c){var k=c.ModulePlatform,e,f="MPServices",a="WindowShadeProvider",d=300,b=1,i="4em",j="click",l="end",h;function g(n,m){this._shade=c.Node.get(n);if(m){if(m.height){i=m.height;}}this._closeButton=this._shade.query(".y-wshade-close-btn");this._closeButton.on(j,this._onCloseButtonClick,this);}g.prototype={destroy:function(){this._closeButton.detach(j,this._onCloseButtonClick);this._shade=this._closebutton=null;},open:function(){c.later(d,this,function(){this._slideDown(this._shade,i,b,c.bind(this._fireOpen,this));});},close:function(){this._slideUp(this._shade,b,c.bind(this._fireClose,this));},beforeClose:function(){},_fireOpen:function(){this.fire("open");},_fireClose:function(){this.fire("close");},_onCloseButtonClick:function(m){m.preventDefault();this.fire("beforeClose");this.close();},_slideUp:function(n,p,m){var o=new c.Anim({node:n,duration:p,to:{height:0},easing:c.Easing.easeOut});if(m){o.on(l,m);}o.run();},_slideDown:function(o,m,q,n){var p=new c.Anim({node:o,duration:q,to:{height:m}});if(n){p.on(l,n);}p.run();}};c.augment(g,c.Event.Target);h={create:function(n,m){return new g(n,m);}};c.namespace(f);c[f][a]={name:"windowshade",getService:function(n,m){if(!e){e=n;}return h;}};if(k){k.registerService(c[f][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YModules.type_ipredirect={id:"",moduleapi:null,viewevents:["click"],windowShade:null,init:function(a){this.Y=a.getService("yui");this.id=a.getId();this.moduleapi=a;},onviewload:function(b){var a=this.moduleapi.getService("windowshade"),c=a.create("#"+this.id+"-wshade");c.open();this.windowShade=c;},onviewunload:function(a){this.windowShade.destroy();this.windowShade=null;},onviewevent:function(c,b){var a=b.target;if(a.get("nodeName")==="A"&&a.get("parentNode").hasClass("local")){b.preventDefault();this.windowShade.close();}}};/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("event-synthetic",function(b){var j=b.Env.evt.dom_map,d=b.Array,i=b.Lang,l=i.isObject,c=i.isString,e=i.isArray,g=b.Selector.query,k=function(){};function h(n,m){this.handle=n;this.emitFacade=m;}h.prototype.fire=function(s){var t=d(arguments,0,true),q=this.handle,o=q.evt,m=q.sub,p=m.context,u=m.filter,n=s||{},r;if(this.emitFacade){if(!s||!s.preventDefault){n=o._getFacade();if(l(s)&&!s.preventDefault){b.mix(n,s,true);t[0]=n;}else{t.unshift(n);}}n.type=o.type;n.details=t.slice();if(u){n.container=o.host;}}else{if(u&&l(s)&&s.currentTarget){t.shift();}}m.context=p||n.currentTarget||o.host;r=o.fire.apply(o,t);m.context=p;return r;};function f(o,n,m){this.handles=[];this.el=o;this.key=m;this.domkey=n;}f.prototype={constructor:f,type:"_synth",fn:k,capture:false,register:function(m){m.evt.registry=this;this.handles.push(m);},unregister:function(p){var o=this.handles,n=j[this.domkey],m;for(m=o.length-1;m>=0;--m){if(o[m].sub===p){o.splice(m,1);break;}}if(!o.length){delete n[this.key];if(!b.Object.size(n)){delete j[this.domkey];}}},detachAll:function(){var n=this.handles,m=n.length;while(--m>=0){n[m].detach();}}};function a(){this._init.apply(this,arguments);}b.mix(a,{Notifier:h,SynthRegistry:f,getRegistry:function(s,r,p){var q=s._node,o=b.stamp(q),n="event:"+o+r+"_synth",m=j[o];if(p){if(!m){m=j[o]={};}if(!m[n]){m[n]=new f(q,o,n);}}return(m&&m[n])||null;},_deleteSub:function(n){if(n&&n.fn){var m=this.eventDef,o=(n.filter)?"detachDelegate":"detach";this.subscribers={};this.subCount=0;m[o](n.node,n,this.notifier,n.filter);this.registry.unregister(n);delete n.fn;delete n.node;delete n.context;}},prototype:{constructor:a,_init:function(){var m=this.publishConfig||(this.publishConfig={});this.emitFacade=("emitFacade" in m)?m.emitFacade:true;m.emitFacade=false;},processArgs:k,on:k,detach:k,delegate:k,detachDelegate:k,_on:function(s,t){var u=[],o=s.slice(),p=this.processArgs(s,t),q=s[2],m=t?"delegate":"on",n,r;n=(c(q))?g(q):d(q);if(!n.length&&c(q)){r=b.on("available",function(){b.mix(r,b[m].apply(b,o),true);},q);return r;}b.Array.each(n,function(w){var x=s.slice(),v;w=b.one(w);if(w){if(t){v=x.splice(3,1)[0];}x.splice(0,4,x[1],x[3]);if(!this.preventDups||!this.getSubs(w,s,null,true)){u.push(this._subscribe(w,m,x,p,v));}}},this);return(u.length===1)?u[0]:new b.EventHandle(u);},_subscribe:function(q,o,t,r,p){var v=new b.CustomEvent(this.type,this.publishConfig),s=v.on.apply(v,t),u=new h(s,this.emitFacade),n=a.getRegistry(q,this.type,true),m=s.sub;m.node=q;m.filter=p;if(r){this.applyArgExtras(r,m);}b.mix(v,{eventDef:this,notifier:u,host:q,currentTarget:q,target:q,el:q._node,_delete:a._deleteSub},true);s.notifier=u;n.register(s);this[o](q,m,u,p);return s;},applyArgExtras:function(m,n){n._extra=m;},_detach:function(o){var t=o[2],r=(c(t))?g(t):d(t),s,q,m,p,n;o.splice(2,1);for(q=0,m=r.length;q<m;++q){s=b.one(r[q]);if(s){p=this.getSubs(s,o);if(p){for(n=p.length-1;n>=0;--n){p[n].detach();}}}}},getSubs:function(o,u,n,q){var m=a.getRegistry(o,this.type),v=[],t,p,s,r;if(m){t=m.handles;if(!n){n=this.subMatch;}for(p=0,s=t.length;p<s;++p){r=t[p];if(n.call(this,r.sub,u)){if(q){return r;}else{v.push(t[p]);}}}}return v.length&&v;},subMatch:function(n,m){return !m[1]||n.fn===m[1];}}},true);b.SyntheticEvent=a;b.Event.define=function(o,n,q){var p,r,m;if(o&&o.type){p=o;q=n;}else{if(n){p=b.merge({type:o},n);}}if(p){if(q||!b.Node.DOM_EVENTS[p.type]){r=function(){a.apply(this,arguments);};b.extend(r,a,p);m=new r();o=m.type;b.Node.DOM_EVENTS[o]=b.Env.evt.plugins[o]={eventDef:m,on:function(){return m._on(d(arguments));},delegate:function(){return m._on(d(arguments),true);},detach:function(){return m._detach(d(arguments));}};}}else{if(c(o)||e(o)){b.Array.each(d(o),function(s){b.Node.DOM_EVENTS[s]=1;});}}return m;};},"3.4.0",{requires:["node-base","event-custom-complex"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("event-focus",function(e){var d=e.Event,c=e.Lang,a=c.isString,b=c.isFunction(e.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);function f(h,g,j){var i="_"+h+"Notifiers";e.Event.define(h,{_attach:function(l,m,k){if(e.DOM.isWindow(l)){return d._attach([h,function(n){m.fire(n);},l]);}else{return d._attach([g,this._proxy,l,this,m,k],{capture:true});}},_proxy:function(o,s,p){var m=o.target,q=m.getData(i),t=e.stamp(o.currentTarget._node),k=(b||o.target!==o.currentTarget),l=s.handle.sub,r=[m,o].concat(l.args||[]),n;s.currentTarget=(p)?m:o.currentTarget;s.container=(p)?o.currentTarget:null;if(!l.filter||l.filter.apply(m,r)){if(!q){q={};m.setData(i,q);if(k){n=d._attach([j,this._notify,m._node]).sub;n.once=true;}}if(!q[t]){q[t]=[];}q[t].push(s);if(!k){this._notify(o);}}},_notify:function(p,l){var m=p.currentTarget,r=m.getData(i),s=m.get("ownerDocument")||m,q=m,k=[],t,n,o;if(r){while(q&&q!==s){k.push.apply(k,r[e.stamp(q)]||[]);q=q.get("parentNode");}k.push.apply(k,r[e.stamp(s)]||[]);for(n=0,o=k.length;n<o;++n){t=k[n];p.currentTarget=k[n].currentTarget;if(t.container){p.container=t.container;}t.fire(p);}m.clearData(i);}},on:function(m,k,l){k.onHandle=this._attach(m._node,l);},detach:function(l,k){k.onHandle.detach();},delegate:function(n,l,m,k){if(a(k)){l.filter=e.delegate.compileFilter(k);}l.delegateHandle=this._attach(n._node,m,true);},detachDelegate:function(l,k){k.delegateHandle.detach();}},true);}if(b){f("focus","beforeactivate","focusin");f("blur","beforedeactivate","focusout");}else{f("focus","focus","focus");f("blur","blur","blur");}},"3.4.0",{requires:["event-synthetic"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("plugin",function(b){function a(c){if(!(this.hasImpl&&this.hasImpl(b.Plugin.Base))){a.superclass.constructor.apply(this,arguments);}else{a.prototype.initializer.apply(this,arguments);}}a.ATTRS={host:{writeOnce:true}};a.NAME="plugin";a.NS="plugin";b.extend(a,b.Base,{_handles:null,initializer:function(c){this._handles=[];},destructor:function(){if(this._handles){for(var d=0,c=this._handles.length;d<c;d++){this._handles[d].detach();}}},doBefore:function(g,d,c){var e=this.get("host"),f;if(g in e){f=this.beforeHostMethod(g,d,c);}else{if(e.on){f=this.onHostEvent(g,d,c);}}return f;},doAfter:function(g,d,c){var e=this.get("host"),f;if(g in e){f=this.afterHostMethod(g,d,c);}else{if(e.after){f=this.afterHostEvent(g,d,c);}}return f;},onHostEvent:function(e,d,c){var f=this.get("host").on(e,d,c||this);this._handles.push(f);return f;},afterHostEvent:function(e,d,c){var f=this.get("host").after(e,d,c||this);this._handles.push(f);return f;},beforeHostMethod:function(f,d,c){var e=b.Do.before(d,this.get("host"),f,c||this);this._handles.push(e);return e;},afterHostMethod:function(f,d,c){var e=b.Do.after(d,this.get("host"),f,c||this);this._handles.push(e);return e;},toString:function(){return this.constructor.NAME+"["+this.constructor.NS+"]";}});b.namespace("Plugin").Base=a;},"3.4.0",{requires:["base-base"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("base-pluginhost",function(c){var a=c.Base,b=c.Plugin.Host;c.mix(a,b,false,null,1);a.plug=b.plug;a.unplug=b.unplug;},"3.4.0",{requires:["base-base","pluginhost"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ult-linktrack",function(d){var c=d.namespace("Search");function a(j){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-",f="",r,p,n,q,o,m,k,g=j.length,h=0;do{r=j.charCodeAt(h++);p=j.charCodeAt(h++);n=j.charCodeAt(h++);q=r>>2;o=((r&3)<<4)|(p>>4);m=((p&15)<<2)|(n>>6);k=n&63;if(isNaN(p)){m=k=64;}else{if(isNaN(n)){k=64;}}f+=(e.charAt(q)+e.charAt(o)+e.charAt(m)+e.charAt(k));}while(h<g);return f;}function b(g){for(var f=0,e=g.length;f<e;f++){if(g.charCodeAt(f)<32){return true;}}return false;}if(!c.ULT){c.ULT={};}d.mix(c.ULT,{BEACON_URL:"http://rds.yahoo.com/b.gif",SRC_SPACEID_KEY:"_S",beacon:function(f){var e=c.ULT.track_click(c.ULT.BEACON_URL,f)+"?t="+Math.random();(new Image()).src=e;},track_click:function(f,k){var h="\x03",g="\x04",e="_r",n=[],m=[],l,j;if(!d.Lang.isObject(k)){return f;}k[e]=2;l=0;d.each(k,function(o,i){if(!d.Lang.isString(o)){try{o=o.toString();}catch(p){return;}}if(i.length<1||i.length>8||i.indexOf(" ")!==-1||b(i)||b(o)){n=[];return;}n[l++]=i;});if(!n.length){return f;}n=n.sort();l=0;d.each(n,function(i){var o=k[i];m[l++]=i+h+o;});j=m.join(g);if(j.length<1||j.length>1024){return f;}j=";_ylc="+a(j);l=f.indexOf("/*");if(l===-1){l=f.indexOf("/?");}if(l===-1){l=f.indexOf("?");}if(l===-1){return f+j;}else{return f.substr(0,l)+j+f.substr(l);}}});},"1.0.0");YUI.add("highlighter",function(e){var m=e.Array,d="a",a="c",p="e",n="i",l="n",k="o",i="u",b="y",c={"\xC0":d,"\xC1":d,"\xC2":d,"\xC3":d,"\xC4":d,"\xC5":d,"\xE0":d,"\xE1":d,"\xE2":d,"\xE3":d,"\xE4":d,"\xE5":d,"\xC7":a,"\xE7":a,"\xC8":p,"\xC9":p,"\xCA":p,"\xCB":p,"\xE8":p,"\xE9":p,"\xEA":p,"\xEB":p,"\xCC":n,"\xCD":n,"\xCE":n,"\xCF":n,"\xEC":n,"\xED":n,"\xEE":n,"\xEF":n,"\xD1":l,"\xF1":l,"\xD2":k,"\xD3":k,"\xD4":k,"\xD5":k,"\xD6":k,"\xD8":k,"\xF2":k,"\xF3":k,"\xF4":k,"\xF5":k,"\xF6":k,"\xF8":k,"\xD9":i,"\xDA":i,"\xDB":i,"\xDC":i,"\xF9":i,"\xFA":i,"\xFB":i,"\xFC":i,"\xDD":b,"\xFD":b,"\xFF":b};m.unique=function(r,v){var u=0,q=r.length,t=[],w,s;for(;u<q;++u){w=r[u];for(s=t.length;s>-1;--s){if(w===t[s]){break;}}if(s===-1){t.push(w);}}if(v){if(L.isNumber(t[0])){t.sort(A.numericSort);}else{t.sort();}}return t;};m.reject=function(q,r,s){return m.filter(q,function(v,u,t){return !r.call(s,v,u,t);});};m.filter=function(r,v,w){var t=0,q=r.length,s=[],u;for(;t<q;++t){u=r[t];if(v.call(w,u,t,r)){s.push(u);}}return s;};function o(q){return q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");}function j(q){return q.replace(/([\\\^\$*+\[\]?{}.=!:(|)])/g,"\\$1");}function h(q,r){var s=m.unique((r?q:q.toLowerCase()).split(/\s+/));return m.reject(s,function(t){return t==="";});}function f(s){var r="",t,q,u;for(t=0,q=s.length;t<q;t++){u=s.charAt(t);r+=c[u]||u;}return r;}function g(B,q,C){var y,t,r,z,s,v,x,w,u;if(!C){C={};}B=o(B);y=f(B);q=q.concat();for(t=0,r=q.length;t<r;++t){q[t]=f(j(o(q[t])));}if(C.startMatch){z="^(%needles)";}else{if(C.subwordMatch){z="(%needles)";}else{z="\\b(%needles)\\b";}}s=y.replace(new RegExp(z.replace("%needles",q.join("|")),C.caseSensitive?"g":"gi"),"<$1>");v="";x=0;for(t=0,r=s.length;t<r;t++){w=B.charAt(x);u=s.charAt(t);if(u==="<"){v+='<b class="yui3-highlighter">';}else{if(u===">"){v+="</b>";}else{x+=1;v+=w;}}}return v;}e.namespace("Search").Highlighter={phraseMatch:function(s,r,q){return g(r,[s],{caseSensitive:q});},startMatch:function(s,r,q){return g(r,[s],{caseSensitive:q,startMatch:true});},wordMatch:function(t,r,q){var s=h(t,true);return g(r,s,{caseSensitive:q});},subwordMatch:function(t,r,q){var s=h(t,true);return g(r,s,{caseSensitive:q,subwordMatch:true});}};},"@VERSION@",{requires:["array-extras"]});YUI.add("searchassist-core",function(c){var d=c.namespace("Search"),j="searchassist",K="node",y="enabled",e="state",H="tray",g="searchbox",s="assist",o="delegate",I="hasFocus",G="descendants",t="activeIndex",F="tabIndex",v=true,J=false,f=0,M=1,n=0,i=1,b="suggest",D="request",C="response",E="open",m="close",P="show",h="hide",z="refresh",O="keynav",k="sa-tray",r="sa-panel",l="sa-active",a="sa-hidden",N="sa-panel-desc",w="Env.Search.Assist.DataSource.callbacks",B=YUI.namespace(w);c.AssistBase=function(){c.Base.apply(this,arguments);};c.AssistBase.NAME="AssistBase";c.AssistBase.ATTRS=c.Base.ATTRS;c.extend(c.AssistBase,c.Base,{_processInitOnlyAttrs:function(){var R=this.constructor,Q=c.bind(function(T,S){if(T.initOnly){this.modifyAttr(S,{readOnly:v});}},this);while(R){if(R.ATTRS){c.each(R.ATTRS,Q);}R=R.superclass?R.superclass.constructor:null;}},_defInitFn:function(){c.Base.prototype._defInitFn.apply(this,arguments);this._processInitOnlyAttrs();}});function q(){q.superclass.constructor.apply(this,arguments);}c.mix(q,{NAME:j,ATTRS:{searchbox:{initOnly:v,setter:function(Q){return c.one(Q);}},minLength:{value:3},autoSuggest:{value:v},enabled:{value:v}}});c.extend(q,c.AssistBase,{initializer:function(Q){this._query=d.Assist.Util.packString(Q.originalQuery||"");this._timer=null;this.publish(b);var R=this.get(g);R.setAttribute("autocomplete","off");R.on("keydown",this._keyDown,this);},getQuery:function(){return this._query;},_keyDown:function(S){if(!this.get("autoSuggest")){return;}var R=S.keyCode,Q=false;if(R<46&&R!==8&&R!==32){return;}if(this._timer){this._timer.cancel();}this._set(y,v);if(R===229||R===197&&c.UA.opera){Q=true;}this._timer=c.later(50,this,this._checkValue,null,Q);},_checkValue:function(){if(!this.get(y)){return;}var R=d.Assist.Util.packString(this.get(g).get("value")),Q=this.get("minLength");if(R!==this._query&&(R.length>=Q||this._query.length>=Q)){this._query=R;this.fire(b,{query:R});}}});function x(){x.superclass.constructor.apply(this,arguments);}c.mix(x,{NAME:j+"-datasource",_cache:{},_tId:0,ATTRS:{generateRequestURI:{},callbackParam:{},globalCallback:{}}});c.extend(x,c.AssistBase,{initializer:function(Q){this.publish(D,{defaultFn:c.bind("_defRequestFn",this)});this.publish(C,{defaultFn:c.bind("_defResponseFn",this)});c.each(Q.initialCacheData||{},c.bind(function(T,S){var R=this.get("generateRequestURI")(this,S);x._cache[R]=T;},this));},request:function(Q,S,R){this.fire(D,{query:Q,callback:S,params:R});},_defRequestFn:function(Y){function V(ae,ad,af){return ae+(ae.indexOf("?")===-1?"?":"&")+encodeURIComponent(ad)+"="+encodeURIComponent(af);}var ac=this,Z=Y.query,S=this.get("generateRequestURI")(this,Z),aa=S,X=x._cache[aa],U,ab,Q,W,T,R;if(X){this.fire(C,c.mix({uri:S,data:X},Y));return;}U=this.get("callbackParam");ab=this.get("globalCallback");if(U){Q=x._tId++;B[Q]=c.bind(function(ad){this.fire(C,c.mix({uri:aa,data:ad},Y));delete B[Q];},this);S=V(S,U,"YUI."+w+"["+Q+"]");}else{if(ab){window[ab]=function(ad){ac.fire(C,c.mix({uri:aa,data:ad},Y));};}}R="";T=16+Math.floor(Math.random()*16);for(W=0;W<T;W++){R+=Math.floor(10*Math.random());}S=V(S,"rnd",R);c.each(Y.params||{},function(ae,ad){S=V(S,ad,ae);});c.Get.script(S,{onEnd:function(ad){ad.purge();}});},_defResponseFn:function(R){var Q=R.callback;if(Q){Q(R);}if(R.data&&!R.data.cached){x._cache[R.uri]=R.data;R.data.cached=v;}}});function p(){p.superclass.constructor.apply(this,arguments);}c.mix(p,{NAME:j+"-tray",OPEN:f,CLOSED:M,ATTRS:{node:{initOnly:v,setter:function(Q){return c.one(Q);}},state:{initOnly:v,value:M},assist:{initOnly:v}}});c.extend(p,c.AssistBase,{initializer:function(){this.publish(E,{defaultFn:c.bind("_defOpenFn",this)});this.publish(m,{defaultFn:c.bind("_defCloseFn",this)});var Q=this.get(K);if(!Q){Q=c.Node.create("<div></div>");c.one("body").append(Q);this._set(K,Q);}Q.addClass(k);if(this.isClosed()){Q.addClass(a);}if(c.UA.ie){Q.addClass("ie"+c.UA.ie);if(document.compatMode==="BackCompat"){Q.addClass("quirksmode");}}},open:function(Q){if(this.isClosed()){this._set(e,f);this.fire(E,{auto:!!Q});}},close:function(){if(this.isOpen()){this._set(e,M);this.fire(m);}},toggle:function(){if(this.isClosed()){this.open();}else{this.close();}},isOpen:function(){return(this.get(e)!==M);},isClosed:function(){return(this.get(e)!==f);},_defOpenFn:function(){this.get(K).removeClass(a);},_defCloseFn:function(){this.get(K).addClass(a);}});function u(){u.superclass.constructor.apply(this,arguments);}c.mix(u,{NAME:j+"-traypanel",VISIBLE:n,HIDDEN:i,ATTRS:{tray:{initOnly:v},node:{initOnly:v,setter:function(Q){return c.one(Q);}},state:{initOnly:v,value:i},delegate:{initOnly:v,value:J},hasFocus:{readOnly:v,value:J},descendants:{value:"li a",getter:function(Q){return this.get(K).all(Q);}},activeIndex:{readOnly:v,value:-1},descText:{}}});c.extend(u,c.AssistBase,{initializer:function(){this.publish(P,{defaultFn:c.bind("_defShowFn",this)});this.publish(h,{defaultFn:c.bind("_defHideFn",this)});this.publish(z,{defaultFn:c.bind("_defRefreshFn",this)});this.publish(O,{defaultFn:c.bind("_defKeyNavFn",this)});var R=this.get(H),V=this.get(H).get(s),Q=this.get(o),S=this.get(K),U=this.get("descText"),T;if(!S){S=c.Node.create("<div></div>");R.get(K).append(S);this._set(K,S);}S.addClass(r);if(this.isHidden()){S.addClass(a);}if(U){S.append(c.Node.create('<p class="'+N+'">'+U+"</p>"));}T=Q?V.get(g):S;T.on("keydown",this._handleKeyDown,this);R.on(E,this._handleTrayOpen,this);if(!Q){S.on("focus",function(){this._set(I,v);},this);S.on("blur",function(){this._set(I,J);},this);}this.after(G+"Change",this._initDescendants,this);},show:function(){if(this.isHidden()){this._set(e,n);this.fire(P);}},hide:function(){if(this.isVisible()){this._set(e,i);this.fire(h);}},toggle:function(){if(this.isHidden()){this.show();}else{this.hide();}},isVisible:function(){return(this.get(e)!==i);},isHidden:function(){return(this.get(e)!==n);},focus:function(){var Q=this.get(G).item(this.get(t));if(this.get(o)){this._set(I,v);if(Q){Q.addClass(l);}}else{if(Q){try{Q.focus();}catch(R){}}}},blur:function(){var Q=this.get(G).item(this.get(t));if(this.get(o)){this._set(I,J);if(Q){Q.removeClass(l);}}},refresh:function(S,R,Q){this.blur();this.fire(z,{query:S,data:R,altText:Q});},hasFocusableDescendants:function(){return this.get(G).size()>0;},_handleKeyDown:function(Q){if(!this.get(I)){return;}if(Q.altKey||Q.ctrlKey||Q.metaKey||Q.shiftKey){return;}switch(Q.keyCode){case 27:case 37:case 38:case 39:case 40:Q.halt();this.fire(O,Q);break;}},_handleTrayOpen:function(){this._initDescendants();},_initDescendants:function(){var Q=this.get(o),R=this.get(I);this._set(t,0);this.get(G).each(c.bind(function(T,S){if(S===0){T.set(F,Q?-1:0);if(R){T.addClass(l);}}else{T.set(F,-1);T.removeClass(l);}},this));},_defShowFn:function(){this._initDescendants();this.get(K).removeClass(a);},_defHideFn:function(){this.get(K).addClass(a);this.blur();},_defKeyNavFn:function(V){var W=this.get(G),Q=this.get(t),T=this.get(o),U=W.item(Q),S;switch(V.keyCode){case 38:if(Q>0){Q--;}break;case 40:if(Q<W.size()-1){Q++;}break;}if(Q!==this.get(t)){S=W.item(Q);U.removeClass(l);S.addClass(l);this._set(t,Q);if(!T){U.set(F,-1);S.set(F,0);if(this.get(I)){try{S.focus();}catch(R){}}}}},_defRefreshFn:function(Q){}});d.Assist=q;d.Assist.DataSource=x;d.Assist.Tray=p;d.Assist.TrayPanel=u;d.Assist.Util={packString:function(Q){return Q.replace(/^\s*/,"").replace(/\s+/g," ");},getFormField:function(T,R){var Q=T.all("input"),S;Q.each(function(U){if(U.get("name")===R){S=U;}});return S;},getFormParam:function(S,Q){var R=this.getFormField(S,Q);return R?R.get("value"):null;},getEnableSearchAssist:function(){var Q=document.cookie.match(/(?:^|\s*;\s*)SP=(?:[^&]*&)?a=(\d)(?:&|;)?/);return Q&&Q[1]==="0"?false:true;},truncate:function(U,Q,R){var S,T;U=c.Lang.trim(U);if(Q<=0||U.length<=Q){return U;}R=R?R.split(/\s+/):[];for(S=0;S<R.length;++S){T=R[S];if(T.length>3){U=U.replace(new RegExp("(?:^|\\s+)"+T+"(?:\\s+)?","gi"),"...");if(U.length<=Q){return U;}}}return c.Lang.trim(U.substr(0,Q-3)).replace(/\.+$/,"")+"...";},buildSearchUrl:function(S,V,T,X){var U=S.get("form"),R=T||U.get("action"),Q=U.all("input,select,textarea"),W=[];if(!X){X={};}Q.each(function(aa){var Z,Y;if(aa.get("tagName").toLowerCase()==="input"){switch(aa.get("type")){case"button":case"image":case"reset":case"submit":return;case"checkbox":case"radio":if(!aa.get("checked")){return;}break;}}Z=aa.get("name");if(Z===S.get("name")){Y=V;}else{if(!X[Z]){Y=aa.get("value");}}if(Y){W.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y));}});c.each(X,function(Z,Y){W.push(encodeURIComponent(Y)+"="+encodeURIComponent(Z));});return R+(R.indexOf("?")===-1?"?":"&")+W.join("&");}};c.on("unload",function(){},window);},"1.0.0",{requires:["base-base","get","node-base","node-style","event-focus"]});YUI.add("searchassist-gossip",function(a){var i=a.Search.Assist,c="node",b="scrollSize",l="scrollIndex",f="children",d=true,k="sa-gossip",n="sa-spayt",o="sa-scroll-up",h="sa-scroll-down",m="sa-disabled",g="sa-hidden",j="sa-alt-text";function e(){e.superclass.constructor.apply(this,arguments);}a.mix(e,{NAME:"searchassist-gossip",ATTRS:{maxLength:{value:0},descText:{value:"Search suggestions"},scrollSize:{value:5},scrollIndex:{readOnly:d,value:-1},scrollUpText:{value:"Scroll suggestions up"},scrollDownText:{value:"Scroll suggestions down"},linkTitle:{},linkTarget:{},linkStem:{},linkParams:{}}});a.extend(e,i.TrayPanel,{initializer:function(){var p=this.get(c);p.addClass(k);this._buttonUp=a.Node.create('<a href="#" class="'+o+'" title="'+this.get("scrollUpText")+'" tabindex="-1"></a>');this._buttonUp.on("click",this._handleButtonUpClick,this);p.append(this._buttonUp);this._buttonDown=a.Node.create('<a href="#" class="'+h+" "+g+'" title="'+this.get("scrollDownText")+'" tabindex="-1"></a>');this._buttonDown.on("click",this._handleButtonDownClick,this);p.append(this._buttonDown);this.on("activeIndexChange",this._handleActiveIndexChange,this);this.after(l+"Change",this._afterScrollIndexChange,this);},scrollUp:function(){if(!this._list){return;}var q=this.get(l)-1,p;if(q<0){return;}p=this._list.get(f);p.item(q+this.get(b)).addClass(g);p.item(q).removeClass(g);this._set(l,q);},scrollDown:function(){if(!this._list){return;}var q=this.get(l),p=q+this.get(b),r=this._list.get(f);if(p>=r.size()){return;}r.item(q).addClass(g);r.item(p).removeClass(g);this._set(l,q+1);},hasSuggestions:function(){return this.hasFocusableDescendants();},_defRefreshFn:function(s){var u=this.get("tray").get("assist").get("searchbox"),p=this.get(c),t=s.query,r=s.data,w=s.altText,x=this.get("linkTitle"),v=this.get("linkTarget"),q="<ul>";if(this._list){this._list.remove();this._list=null;}if(this._altText){this._altText.remove();this._altText=null;}if(r&&r.length>this.get(b)){this._buttonUp.removeClass(g);this._buttonDown.removeClass(g);}else{this._buttonUp.addClass(g);this._buttonDown.addClass(g);}if(t===""||!r.length){if(w){this._altText=a.Node.create('<p class="'+j+'">'+w+"</p>");p.append(this._altText);this.show();}else{this.hide();}return;}this.show();a.each(r,a.bind(function(y,C){var B='<li pos="'+(C+1)+'"',F=y[0],z=y[1],E=a.Search.Highlighter.subwordMatch(t,i.Util.truncate(F,this.get("maxLength"),t)),D=[];if(z===1){D.push(n);E+="?";}if(C>=this.get(b)){D.push(g);}if(D.length>0){B+=' class="'+D.join(" ")+'"';}B+='><a href="'+i.Util.buildSearchUrl(u,F,this.get("linkStem"),this.get("linkParams"))+'" text="'+F.replace(/\"/g,"&quot;")+'"';if(x){B+=' title="'+x.replace("#{q}",F).replace(/\"/g,"&quot;")+'"';}if(v){B+=' target="'+v+'"';}B+=">"+E+"</a></li>";q+=B;},this));q+="</ul>";this._list=a.Node.create(q);p.one(">p").insert(this._list,"after");this._set(l,0);this._initDescendants();},_handleActiveIndexChange:function(q){if(!this._list){return;}var p=q.newVal;if(p<this.get(l)){while(p<this.get(l)){this.scrollUp();}}else{while(p>=this.get(l)+this.get(b)){this.scrollDown();}}},_afterScrollIndexChange:function(q){var p=this._list.get(f);this._buttonUp.removeClass(m);this._buttonDown.removeClass(m);if(q.newVal<=0){this._buttonUp.addClass(m);}else{if(q.newVal>=p.size()-this.get(b)){this._buttonDown.addClass(m);}}},_handleButtonUpClick:function(p){p.halt();this.scrollUp();},_handleButtonDownClick:function(p){p.halt();this.scrollDown();}});i.Gossip=e;},"1.0.0",{requires:["searchassist-core","highlighter"]});YUI.add("gossip-aria-plugin",function(b){function a(){a.superclass.constructor.apply(this,arguments);}b.mix(a,{NAME:"gossip-aria-plugin",NS:"aria",ATTRS:{suggestions_available:{value:"Search suggestions are available, use the up and down arrow keys to review them."},no_suggestion_available:{value:"No suggestion is available."}}});b.extend(a,b.Plugin.Base,{initializer:function(){var c=this._liveRegion=b.Node.create('<div role="status" aria-live="polite"></div>');b.one("body").append(c);c.setStyles({position:"absolute",left:"-9999px"});this.doAfter("refresh",this._handleRefresh,this);},_updateLiveRegion:function(d){var c=b.Node.create("<p></p>");c.setContent(d);this._liveRegion.all("*").remove();this._liveRegion.append(c);},_handleRefresh:function(){var c=this.get("host").get("descendants").size()>0?this.get("suggestions_available"):this.get("no_suggestion_available");this._updateLiveRegion(c);}});b.Search.Assist.GossipAriaPlugin=a;},"1.0.0",{requires:["searchassist-core","plugin","base-pluginhost"]});YUI.add("srp-preload-plugin",function(a){function b(){b.superclass.constructor.apply(this,arguments);}a.mix(b,{NAME:"srp-preload-plugin",NS:"preload",ATTRS:{url:{value:"http://search.yahoo.com/resources?js=1"}}});a.extend(b,a.Plugin.Base,{initializer:function(c){var d=c.host.get("searchbox").on("keydown",function(){a.Get.script(this.get("url"));d.detach();},this);}});a.Search.Assist.SrpPreloadPlugin=b;},"1.0.0",{requires:["searchassist-core","plugin","base-pluginhost"]});YUI.add("miniassist",function(d){var m=d.Search,c=m.Assist,t="node",k="parentNode",f="searchbox",h="value",a="hasFocus",b="activeIndex",e="descendants",s="spaceid",g="logdata",q="action",j=true,o=false,l="Change",n="sa-settings",r="sa-spayt",i=0;function p(){p.superclass.constructor.apply(this,arguments);}d.mix(p,{NAME:"miniassist",ATTRS:{searchbox:{initOnly:j,setter:function(u){return d.one(u);}},node:{initOnly:j,setter:function(u){return d.one(u);}},url:{value:"http://sugg.us.search.yahoo.net/gossip-us-sayt/"},nresults:{value:10},settingsText:{value:"Settings"},settingsUrl:{value:"http://search.yahoo.com/preferences/preferences?page=search_assist"},spaceid:{value:"2142478948"},origin:{},logdata:{},pubid:{},align:{value:o},shim:{value:0},preloadsrp:{value:o}}});d.extend(p,d.AssistBase,{initializer:function(){this._initComponents.apply(this,arguments);this._attachEvents();},_initComponents:function(u){var w=this.getEnableSearchAssist(),v=function(z,y,x){return d.mix(z,y||{},x,null,0,true);};this.assist=new m.Assist(v({searchbox:this.get(f),autoSuggest:w},u.assist));this.source=new c.DataSource(v({globalCallback:"yasearch",generateRequestURI:d.bind(this._generateRequestURI,this)},u.source,true));window.fxsearch=function(x){var y={q:x[0],f:["k","m"],r:[]};d.each(x[1],function(z){y.r.push([z,0]);});window.yasearch(y);};this.tray=new c.Tray(v({assist:this.assist,node:this.get(t)},u.tray));if(this.get("align")){this.tray.plug(c.TrayAlignPlugin);}if(this.get("shim")===2||this.get("shim")===1&&d.UA.ie<=6){this.tray.plug(c.TrayShimPlugin);}this.gossip=new c.Gossip(v({tray:this.tray,delegate:j,linkParams:{fr2:"sa-gp"}},u.gossip));this.gossip.plug(c.GossipAriaPlugin,u.aria||{});this.tray.get(t).prepend(d.Node.create('<a href="'+this.get("settingsUrl")+'" class="'+n+'">'+this.get("settingsText")+"</a>"));if(this.get("preloadsrp")){this.plug(c.SrpPreloadPlugin,u.preload||{});}},_attachEvents:function(){var u=this,v=this.get(f);function x(){var y=u.gossip.get(e).item(u.gossip.get(b));if(y){v.set(h,y.getAttribute("text"));}}function w(){this._invalidTrayContent=true;}this.assist.on("suggest",function(y){if(y.query.length<this.assist.get("minLength")){this.gossip.refresh("");}else{this.source.request(y.query,d.bind(this._handleGossipResponse,this));}},this);v.on("keydown",function(y){switch(y.keyCode){case 27:y.halt();this.gossip.hide();break;case 40:y.halt();if(this.assist.get("autoSuggest")){if(this._invalidTrayContent){if(v.get(h).length>=this.assist.get("minLength")){this.source.request(v.get(h),d.bind(function(z){this._invalidTrayContent=false;this._handleGossipResponse(z);this.gossip.focus();this.pqstr=v.get(h);x();},this));}else{this.gossip.show();}}else{if(this.gossip.hasSuggestions()){this.gossip.show();if(!this.gossip.get(a)){this.gossip.focus();this.pqstr=v.get(h);x();}}}}else{this.gossip.show();}break;}},this);this.gossip.on("keynav",function(y){if(y.keyCode===27||y.keyCode===38&&this.gossip.get(b)===0){this.gossip.blur();v.set(h,this.pqstr);}},this);this.gossip.after(b+l,function(y){if(this.gossip.get(a)){x();}},this);this.gossip.on("show",function(){this.tray.open();},this);this.gossip.on("hide",function(){this.tray.close();},this);d.one(document).on("mousedown",function(B){var z=B.target,y=this.get(f);if(!this.tray.get(t).contains(z)&&z!==y&&((z.get("tagName")!=="INPUT"&&z.get("tagName")!=="BUTTON")||z.get("type")!=="submit"&&z.get("form")!==y.get("form"))){this.gossip.hide();}},this);this.gossip.on(a+l,function(y){this.assist.set("enabled",!y.newVal);},this);this.gossip.get(t).on("click",this._handleGossipClick,this);this.get(f).get("form").on("submit",this._handleSearchFormSubmit,this);this.gossip.after("refresh",function(){var y=this.gossip.get(t).one("."+r);if(y){i=3;}else{if(i===2||i===3){i=2;}else{i=1;}}},this);this.on("url"+l,w,this);this.on("pubid"+l,w,this);},_generateRequestURI:function(x,w){var u=this.get("url")+"?output=yjsonp&l=1&command="+encodeURIComponent(w)+"&nresults="+this.get("nresults"),v=this.get("pubid");if(v){u+="&pubid="+v;}return u;},_handleGossipResponse:function(u){if(u.query===this.packString(this.get(f).get(h))){this._gprid=u.data.i;this.gossip.refresh(u.query,u.data.r);}},_handleGossipClick:function(C){var z=C.target,y=this.get(f).get("form"),w=(function(){while(z&&z.get("tagName").toUpperCase()!=="A"){z=z.get(k);}return z;}()),x=w.get(k),v=w.get("href"),u=this.get("origin"),B={fr:this.getFormParam(y,"fr"),fr2:"sa-gp",origin:u?u:location.hostname,query:w.getAttribute("text"),pqstr:this.pqstr||"",gprid:this._gprid||"",n_gps:this.gossip.get(e).size(),pos:x.getAttribute("pos"),sac:x.hasClass(r)?2:1,sao:i};d.mix(B,this.get(g));B[m.ULT.SRC_SPACEID_KEY]=this.get(s);v=m.ULT.track_click(v,B);w.set("href",v);},_handleSearchFormSubmit:function(z){var x,v,w=z.target,u=this.get("origin"),y={fr:this.getFormParam(w,"fr"),origin:u?u:location.hostname,query:this.get(f).get(h),n_gps:this.gossip.get(e).size(),sao:i};if(this.gossip.get(a)){x=this.gossip.get(e).item(this.gossip.get(b));v=x.get(k);d.mix(y,{fr2:"sa-gp",pqstr:this.pqstr||"",gprid:this._gprid||"",pos:v.getAttribute("pos"),sac:v.hasClass(r)?2:1});d.each(this.gossip.get("linkParams"),d.bind(function(C,B){var D=this.getFormField(w,B);if(D){D.set(h,C);}else{w.append(d.Node.create('<input type="hidden" name="'+B+'" value="'+C+'">'));}},this));}d.mix(y,this.get(g));y[m.ULT.SRC_SPACEID_KEY]=this.get(s);w.set(q,m.ULT.track_click(w.get(q),y));}});d.mix(p,c.Util,true,null,4);m.MiniAssist=p;},"1.0.0",{requires:["searchassist-gossip","gossip-aria-plugin","ult-linktrack"],use:["tray-align-plugin","tray-shim-plugin"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
(function(){var al=null,W=true,H=false,ak="undefined",g="-promotion",T="-rsch1",D="ymobilizerouter",o="hp-hidden",w="promoCode",an="hpCode",aM="hpOverlay",ag="hidden",b="randomPromo",K="rsch1Successful",aP="forceSethp",ab="sethpPromoShare",ax="showOnlySetHP",t="browser",aH="wsid",aw="30345158",c=75,aQ="web",az="ebay",O="jobs",aA="mail",f="games",U="local",P="tplocal",ao="music",V="images",l="people",q="shopping",E="innerHTML",n="value",aJ="title",d="action",ap="name",Y="parentNode",aF="tagName",L="firstChild",I="href",ad="width",R="offsetWidth",G="disabled",B="paddingLeft",X="paddingRight",y="data-tab",aG="text",h="submit",x="blur",s="click",e="open",Q="close",Z="8em",p="1.6",ar="hide-completely",aj="input-x-short",C="menu-select",af=".stabs",aK=".input-query",av=".search-form",aN=".searchwrapper",aR=".searchwrapper-inner",r=".searchwrapper-border",aS=".aria-announce",N=".tab-cover",m="y-mast-sprite",j="y-mast-link",au="y-mast-txt",at="y-mast-bg",ah="y-bg-3",am="y-ln-2",aa="sa-disabled",S="sa-hidden",k="y-mast-bg-hide",a="add-to-y",F=".hood",aC="allow.redirected.ult.links",J="pa:ready",aE="search.tab.",ac=".showdrawer",z={kr:W,jp:W,tw:W,cn:W},aD="pmh:show",aL="pmh:searchtext",M="mh:tab_select",ay="mh:web_srch_inp",A="ulm:defaultlocation",aO="ldw:defaultlocation",v="sayt.use.miniassist",aI="scrollsize",aq="autoSuggest",ae="px",aB="spaceid",i="STR.SA.SETTINGS",u=100,ai=103;YModules.type_masthead={id:"",body:al,moduleapi:al,platform:al,instrumentation:al,tablistService:al,tablist:al,autoHide:al,autoHideId:al,paService:al,viewevents:[s,"keyup"],formData:al,dummyYLT:al,saConfig:{enabled:W,minQueryLength:0,queryDelay:0,containerOpen:H,timeoutId:al,abortId:al,cachedResults:al,delayedRequests:0,numResults:0,numAddTos:0,normalizationRules:al,isAutoOpen:H,isManualOpen:H,selectedIndex:-1,lastAnimHeight:0,ywaTrackingEnabled:0},currentTab:"",showDrawer:1,form:al,textbox:al,hood:al,saWindow:al,saDrawer:al,searchwrapperInner:al,searchwrapper:al,aria:al,secondInput:al,hiddenInputNodes:al,suggestions:al,searchQuery:"",lastSearchQuery:"",lastQueryLength:0,anim:al,animId:al,animOpenedId:al,defLoc:"",currentSelectedListItem:al,currentSelectedLinkItem:al,menu:al,useFxjsonp:H,keyUpSupported:W,handleKeyUpObject:al,allowRedirectedULTLinks:W,ebayInputField:al,horizontalPadding:"0",moreLink:al,displayNameInMoreDropDown:H,useSaytFramework:H,miniAssist:al,upArrowNode:al,downArrowNode:al,webGossipUrl:al,imgGossipUrl:al,shoppingPartner:false,publisherID:0,publisherInputField:al,setHomepageService:al,browser:"",autoHideService:al,init:function(aX){this.Y=aX.getService("yui");this.moduleapi=aX;this.currentTab=aX.getContextData("FIRST_TAB_FOR_SEARCH")?aX.getContextData("FIRST_TAB_FOR_SEARCH"):aQ;this.hiddenInputNodes=[];this.id=aX.getId();this.platform=aX.getService("moduleplatform");this.instrumentation=aX.getService("instrumentation");this.tablistService=aX.getService("tablist");this.setHomepageService=aX.getService("sethomepage");this.browser=aX.getContextData(t);this.defLoc=aX.getContextData("defLoc");this.intlLoc=aX.getContextData("intlLoc");this.useSaytFramework=aX.getContextData(v);this.preloadSRP=aX.getContextData("preloadSRP")?W:H;this.srpAssetURL=aX.getContextData("srpAssetURL");this.ywaTrackingEnabled=parseInt(aX.getContextData("ywaTrackingEnabled"),10);this.autoHideService=aX.getService("autohide");this.shoppingPartner=aX.getContextData("shoppingPartner");if(this.shoppingPartner){this.publisherID=aX.getContextData("publisherID");}var aU=aX.getContextData("saData"),aZ=aU.cssSAWindowMaxHeightIE6,aY=aX.getContextData("horizontalPadding"),a0=aU.cssSAWindowSuggestionHeightIE6,aT,aW,aV;this.horizontalPadding=aY?aY:"0";if(aZ&&aZ.length>0){Z=aZ;}if(a0&&a0.length>0){p=a0;}this.formData=aX.getContextData("formData");aX.listen(A);aX.listen(aO);aX.listen(aL);aX.listen(aD);aX.listen(J);aT=aX.getProperty("channels");if(aT){aW=aT.length;for(aV=0;aV<aW;aV++){aX.listen(aT[aV]);}}this.initializeGossipUrls(aU);},registerAutoHide:function(){var aW=this.id,aU=this.body,aV=this.Y,aT=this.moduleapi.getService("autohide");this.autoHideId=aT.register({targets:[this.hood,this.textbox,aU.getById(aW+"-masthead-stabs")],hide:aV.bind(function(){this.miniAssist.tray.close();},this)});this.autoHide=aT;},unregisterAutoHide:function(){var aT=this.autoHide;if(aT){aT.unregister(this.autoHideId);}},initializeGossipUrls:function(aT){var aU=aT.webGossipUrl,aV=aT.imgGossipUrl;if(aU&&aU.length>0){this.webGossipUrl=aU;}if(aV&&aV.length>0){this.imgGossipUrl=aV;}},onviewload:function(bf){if(bf==="default"){var bl=this.platform,bm=this.moduleapi,aW=this.Y,bc=this.id,ba,aX,be,aU,a3,bh,aT,a7,a2,a1,bi,a6=bm.getViewNode(bf),aY=aW.one(".logo-container"),aZ,a5=bm.getContextData("adLogoMeta"),bg=bm.getContextData("searchIntl")?bm.getContextData("searchIntl").toLowerCase():al,a9=bm.getContextData("moremenu"),bk,a0,a4,bb,bj,a8=true,aV,bd;ba=a6.getById(bc+g);a3=bm.getContextData(K);a2=bm.getContextData(aP);aU=bm.getContextData(b);a1=bm.getContextData(ab);bi=bm.getContextData(ax);if(!a3){aT=bm.getContextData("rsch1Suid");if(aT){a7=bl.queryModules(function(bo){var bn=bl.getModuleApi(bo);return bn?bn.getProperty("contentId")==aT:false;})[0];if(a7){bl.stop(a7);bl.unregisterModule(a7);}bh=a6.getById(aT+T);if(bh){bh.remove();}}aZ=aY.one("object")||aY.one("embed");if(ba&&!aZ){be=!this.setHomepageService.isHomepageSet()&&!this.isHpWindowShade();if(a2||(be&&(!aU||Math.random()>a1))){aX=an;}else{if(bi===1){a8=false;}aX=w;}if(a8){ba.set(E,bm.getContextData(aX));ba.removeClass(o);ba.removeClass("rsch");}}}else{aZ=aY.one("object")||aY.one("embed");if(aZ){bh=a6.getById(aT+T);if(bh){bh.addClass("rsch");}}}this.displayNameInMoreDropDown=bm.getContextData("search.more.firstitem")?W:H;this.allowRedirectedULTLinks=bm.getContextData(aC);this.useFxjsonp=bm.getContextData("use.fxjsonp")?W:H;this.keyUpSupported=(aW.UA.gecko&&z[bg])?H:W;if(a5){bl.registerModule(a5);bl.start(a5.props.id,H,W);}this.body=a6;this.form=a6.query(av);bb=this.textbox=a6.query(aK);this.searchwrapper=a6.query(aN);this.searchwrapperInner=a6.query(aR);this.hood=a6.one(F);this.aria=a6.query(aS);a4=a6.query(af);this.tablist=this.tablistService.create(a4,{panel:this.searchwrapper,tabchange:"click"});this.tablist.subscribe("tabchange",this.switchSearchTab,this,W);if(a9){this.moreLink=a6.one(".more");bk=this.moduleapi.getService("menu");a0=a6.create(a9);a4.get("parentNode").insert(a0,a4);this.menu=bk.create(a0,{focusNode:this.textbox});this.menu.subscribe("execute",this.moreMenuSelect,this);this.menu.subscribe("show",this.moreMenuShow,this);this.menu.subscribe("hide",this.moreMenuHide,this);this.moreLink.on("click",this.handleMoreMenu,this);}bb.on(x,this.handleTextBlur,this);aV=bm.getContextData("frCode");this.form.one("[name=fr]").set("value",aV);this.form.on(h,this.handleSubmit,this);this.registerAutoHide();this.dummyYLT=bm.getContextData("dummyYLT");if(this.useSaytFramework){bj="#"+bc+"-sat";bd="#"+bc+"-p";this.createMiniAssist(bd,bj);}if(aW.UA.ie===6){this.adjustTrayWidth();}}},isHpWindowShade:function(){var aT=H,aV,aU=this.moduleapi.getService("statemgr");if(aU){aV=aU.getUserPageState(aH);if(aV==aw){aT=W;aU.removeUserPageState(aH);}}return aT;},setMobilizer:function(){var aU="100%",aY=document.documentElement.clientHeight+"px",aW=document.body.scrollTop||document.documentElement.scrollTop,aX=document.createElement("iframe"),aV="99999",aT=this.moduleapi.getContextData("locale"),aZ=this.moduleapi.getContextData("mobilizerUrl");if(document.getElementById(D)){document.body.removeChild(document.getElementById(D));}aX.src=aZ+"&lang="+aT;aX.setAttribute("id",D);aX.setAttribute("name",D);aX.setAttribute("allowTransparency","allowTransparency");aX.setAttribute("frameborder",0);aX.setAttribute("scrolling","no");aX.setAttribute("width",aU);aX.setAttribute("height",aY);aX.style.position="absolute";aX.style.left="0px";aX.style.top=aW+"px";aX.style.zoom="1";aX.style.zIndex=aV;aX.style.overflow="hidden";aX.setAttribute("style","z-index:"+aV+";position:absolute;top:"+aW+"px;left:0px;width:"+aU+";height:"+aY+";");document.body.appendChild(aX);if(typeof window.addEventListener!=ak){window.addEventListener("message",this.closeMobilizer,H);}else{if(typeof window.attachEvent!=ak){window.attachEvent("onmessage",this.closeMobilizer);}}},setHomePage:function(){var aW,a2=this.setHomepageService,aY=this.moduleapi,aU,aZ,aV,aX=this.body,aT=this.id,a1=aY.getContextData(aM),a3=aY.getContextData("ilc"),a0;if(this.browser=="IE"){if(a2.setIEHomepage(a3)){aV=aY.getContextData(w);if(aV!==""&&aV!==al){aW=document.getElementById(this.id+g);aW.innerHTML=aV;}else{aZ=aX.getById(aT+g);aZ.get(Y).removeChild(aZ);}aU=aY.getString("PARAM.NAVBAR.IE.YES_BEACON");}else{aU=aY.getString("PARAM.NAVBAR.IE.NO_BEACON");}this.instrumentation.fireUltBeacon(aU);}else{if(this.Y.Array.indexOf(["FF","WK","OP","CH"],this.browser)>-1){aZ=aX.getById(aT+g);if(aX.getById(aT+"-set-homepage-overlay")==al){aZ.append(a1);}this.overlay=aX.getById(aT+"-set-homepage-overlay");if(this.overlay){this.autohideId=this.autoHideService.register({targets:[this.overlay,aZ],hide:this.Y.bind(function(){this.hideOverlay();},this)});a0=aX.getById(aT+"-sethp-ff");if(a0){a0.on("mousedown",this.fireFFBeacon,this);a0.on("click",this.yBangClick,this);}this.overlay.removeClass(ag);}}else{a2.setHpCookie(a3,"1");}}},hideOverlay:function(){this.overlay.addClass(ag);},fireFFBeacon:function(){var aV=this.setHomepageService,aU=this.moduleapi,aT=aU.getString("PARAM.NAVBAR.DRAG.BEACON");this.instrumentation.fireUltBeacon(aT);aV.setHpCookie(aU.getContextData("ilc"),"1");},closeMobilizer:function(aT){if(aT.data=="closeYMBZ"){if(document.getElementById(D)){document.body.removeChild(document.getElementById(D));}}},adjustTrayWidth:function(){var aT=this.body.one(r),aU=parseFloat(aT.get(R))+ae;this.hood.setStyle(ad,aU);},onviewunload:function(aU){var aT=this.textbox,aV=this.animOpenedId;if(aV){aV.detach();this.animOpenedId=al;}if(this.currentTab===az){aT.set(G,W);}this.unregisterAutoHide();aT.detach(x,this.handleTextBlur);this.form.detach(h,this.handleSubmit);if(this.menu){this.moreLink.detach("click",this.handleMoreMenu);this.menu.destroy();}this.tablist.destroy();this.tablist=this.body=this.menu=this.paService=this.textbox=this.form=this.searchwrapper=this.searchwrapperInner=this.aria=this.hood=this.saWindow=this.saDrawer=this.secondInput=this.hiddenInputNodes=this.anim=this.animId=this.formData=this.saConfig=al;},updateNameAttribute:function(aV){var aU=this.textbox,aT=this.formData[aV].paramQuery;if(!aT){aT=aV===aA?"s":"p";}aU.setAttribute(ap,aT);},setSecondInput:function(){var a1=this.moduleapi,a0=this.body,a4=this.textbox,aZ=this.secondInput,a3=H,aY=H,aU=this.currentTab,aV=this.formData[aU],a5,aX,a2,aT,aW;this.removeHiddenInputFields();aT=this.hiddenInputNodes;switch(aU){case P:aY=W;case U:a3=W;case O:if(!aZ){a2=a0.query(".button-wrapper");aW=a2.get(Y);aX=aW.create(a1.getContextData("HTML_SECONDLABEL"));aW.insertBefore(aX,a2);aZ=aW.create(a1.getContextData("HTML_SECONDINPUT"));aW.insertBefore(aZ,a2);a4.addClass(aj);}a4.set(ap,aV.paramQuery);aZ.set(ap,aV.paramLocation);a5=(a3&&this.defLoc)?this.defLoc:aV.locationGhostText;if(aY){a5=(this.intlLoc)?this.intlLoc:aV.locationGhostText;}aZ.setAttribute(n,a5);aZ.on(x,this.blurText,this);this.secondInput=aZ;break;case ao:if(aV.param1Name&&aV.param1Value){aT[0]=this.createHiddenInputFieldForTab(aV.param1Name,aV.param1Value);}if(aZ){this.secondInput=al;aZ.detach(x,this.blurText);aX=aZ.previous();aX.get(Y).removeChild(aX);aZ.get(Y).removeChild(aZ);a4.removeClass(aj);}break;case f:if(aV.vsValue){aT[0]=this.createHiddenInputFieldForTab("vs",aV.vsValue);}if(aZ){this.secondInput=al;aZ.detach(x,this.blurText);aX=aZ.previous();aX.get(Y).removeChild(aX);aZ.get(Y).removeChild(aZ);a4.removeClass(aj);}break;case l:if(aV.vfValue&&aV.vsValue){aT[0]=this.createHiddenInputFieldForTab("vf",aV.vfValue);aT[1]=this.createHiddenInputFieldForTab("vs",aV.vsValue);}if(aZ){this.secondInput=al;aZ.detach(x,this.blurText);aX=aZ.previous();aX.get(Y).removeChild(aX);aZ.get(Y).removeChild(aZ);a4.removeClass(aj);}break;default:if(aZ){this.secondInput=al;aZ.detach(x,this.blurText);aX=aZ.previous();aX.get(Y).removeChild(aX);aZ.get(Y).removeChild(aZ);a4.removeClass(aj);}break;}},blurText:function(aT){var aU=aT.target;if(aU.get(n)===""){aU.set(n,aU.get("defaultValue"));}},switchSearchTab:function(be){var a6,aV,aU=this.moduleapi,aT=this.saConfig,a4=this.body,ba=this.tablist,a9=this.textbox,a0=this.miniAssist,aW=this.webGossipUrl,a1=this.imgGossipUrl,aY=a0.assist,a8=ba.getTabNode(be.fromIndex),aX=a8.get(L),aZ=aX.get(L),bd=ba.getTabNode(be.toIndex),a5=bd.get(L),a2=a5.get(L),bc=this.Y.Lang.trim(a5.getAttribute(y)),bb=this.formData[bc],a7=aU.getContextData(aE+bc+ac),a3=a4.getById("search-submit");if(aT.abortId){this.Y.Get.abort(aT.abortId);}this.currentTab=bc;this.showDrawer=a7;aU.broadcast(M,{clickedTab:bc,buttonName:bb.button});aU.broadcast(ay,a9.get(n));a8.removeClass(m);aX.removeClass(m).addClass(j).removeClass(au);aZ.removeClass(at).addClass(k);bd.addClass(m);a5.addClass(m).addClass(au).removeClass(j);a2.addClass(at).removeClass(k);if(a0.getEnableSearchAssist()&&((bc===aQ&&aW)||(bc===V&&a1))){aY.set(aq,W);a0.gossip.set("linkStem",this.createUltInstrumentationString());aV=bc===aQ?aW:a1;if(aV){a0.set("url",aV);a6=bc===aQ?"":ai;a0.set("pubid",a6);}}else{aY.set(aq,H);a0.gossip.hide();}if(bc===V){if(!a7){aT.selectedIndex=-1;}}else{aT.selectedIndex=-1;}a4.getById(this.id+"-aria-label").set(E,bc);this.setSecondInput();this.updateNameAttribute(bc);a3.set(n,bb.button);a3.set(E,bb.button);a9.set(aJ,bb.button);if(this.shoppingPartner){this.prepareShoppingSubmit();}if(bb.noQueryURL){this.updateLandingPage();}else{this.form.setAttribute(d,bb.action);}if(this.Y.UA.ie===6){this.adjustTrayWidth();}},handleMoreMenu:function(aY){var aX=aY.target.ancestor("li").one("a"),aV=aX.ancestor("#y-masthead"),aW=aX.get("region"),aT=aV.get("region"),aU={top:Math.floor(aW.bottom-aT.top),left:aW.left-aT.left-8};aY.preventDefault();this.menu.show(aU);},moreMenuShow:function(aU){var aT=this.moreLink.ancestor("li");aT.addClass(ah);aT.addClass(am);aT.addClass(C);},moreMenuHide:function(aU){var aT=this.moreLink.ancestor("li");aT.removeClass(ah);aT.removeClass(am);aT.removeClass(C);},moreMenuSelect:function(a0){var a1,a8,aU,aT,a6=this.tablist,a5=this.moreLink,aZ=a6.getTabNodes().size()-1,a4=a0.relatedTarget,aV=a4.get(L),aX=aV.cloneNode(true),aY=aX.query(N),a2=aV.getAttribute(y),a7=a6.getTabNode(aZ),aW=a7.get(L),a3=this.horizontalPadding;aU=this.formData[a2];if(aU.noQueryURL){this.updateLandingPage();}else{this.form.setAttribute(d,aU.action);}if(aY){aY.setStyle(B,a3);aY.setStyle(X,a3);}if(a4.hasClass("link")){this.moduleapi.navigate(aV.getAttribute("href"));return;}aW.replace(aX);if(a6.getSelectedIndex()===aZ){a8={toIndex:aZ,fromIndex:aZ};this.switchSearchTab(a8);}else{a6.switchTo(aZ);}if(this.displayNameInMoreDropDown){a5.setAttribute(I,aV.getAttribute(I));a5.setAttribute("data-b",aV.getAttribute("data-b"));a5.setAttribute(y,a2);aT=aV.one(N);a1=aT?aT.get(E):al;if(a1){aT=a5.one(N);if(aT){aT.set(E,a1);}}}this.textbox.focus();},trackYWA:function(aU){var aT;if(this.ywaTrackingEnabled&&YWA!==null){this.ywaObject=YWA;}if(this.ywaTrackingEnabled&&this.ywaObject!==al){aT=this.moduleapi.getContextData("ywaProjectId")+"";this.YWATracker=this.ywaObject.getTracker(aT);this.Y.later(u,this,function(){if(this.YWATracker!==al){this.YWATracker.setAction("INTERNAL_SEARCH");this.YWATracker.setISK(aU);this.YWATracker.setISR("100");if(aU.length===0){this.YWATracker.setISR("0");}this.YWATracker.setDocumentGroup("Search");this.YWATracker.setDocumentName("Search Results");this.YWATracker.submit();}},al);}},onviewevent:function(aZ,aW){if(aZ==="default"){var aV=this.body,aT=this.id,aY=this.textbox,a0=aY.get(n),aX=aW.target,a1=aW.type,aU="";this.searchQuery=a0;if(a1==="keyup"&&aX===this.textbox){this.handleKeyUp(aW.keyCode);}else{if(a1===s){if(aV.query(af).contains(aX)){aY.focus();if(this.Y.UA.ie===8){aY.set(n,a0);}}aU=aX.get("id");if(aU){if(aU.indexOf(a)>-1||this.hood.contains(aX)&&aX.get(aF)==="A"&&aX.getAttribute(I).indexOf("ylt")===-1){aW.preventDefault();}else{switch(aU){case aT+"-homepage":if(this.Y.Array.indexOf(["IE","FF","WK","OP","CH"],this.browser)>-1){aW.preventDefault();}this.setHomePage();break;case aT+"-close-overlay":aW.preventDefault();this.hideOverlay();break;case aT+"-mobilizer":aW.preventDefault();this.setMobilizer();break;}}}else{if(this.hood.contains(aX)&&aX.get(aF)==="A"&&aX.getAttribute(I).indexOf("ylt")!==-1){this.trackYWA(aX.getAttribute(aG));}}}}}},handleKeyUp:function(aU){var aT=this.textbox.get(n);this.updateLandingPage();this.moduleapi.broadcast(ay,aT);},handleTextBlur:function(){this.aria.set(E,"<p></p>");},onmessage:function(aW,aV,aY){var a1=this.body,a2=this.textbox,aZ=this.secondInput,aU=this.miniAssist,a4=aY?aY.displayName:al,a3,aX,a0,aT;if((aW===A||aW===aO)&&a4){this.defLoc=a4;if(aZ){aZ.set(n,a4);}a3=a1.getById(this.id+"-weather");if(a3){aX=a3.next();if(aX){aX.set(E,a4.substring(0,a4.indexOf(",")));}}}else{if(aW===aL){a2.focus();a2.set(n,aY);aU.assist.fire("suggest",{query:aY});aU.gossip.hide();}else{if(aW===aD){this.miniAssist.gossip.hide();}else{if(aW.substr(0,5)==="/user"){a0=aW.substr(aW.lastIndexOf("/")+1);aT=a1.getById(this.id+"-"+a0);if(aT){aT.set(E,aY.data);aT.removeClass(ar);}}}}}},createHiddenInputFieldForTab:function(aU,aW){var aV=this.body.getById(this.id+"-p"),aT=aV.get(Y),aX=aT.create("<input type='hidden'>");if(aU&&aW){aX.setAttribute(ap,aU);aX.setAttribute(n,aW);}return aT.insertBefore(aX,aV);},removeYNode:function(aT){if(aT){aT.get(Y).removeChild(aT);}},removeHiddenInputFields:function(){var aT,aU=0,aV=this.hiddenInputNodes;if(aV){aU=aV.length;for(aT=aU-1;aT>=0;aT--){this.removeYNode(aV[aT]);aV[aT]=al;}}},createUltInstrumentationString:function(){return this.formData[this.currentTab].yltClickSuggestion;},createMiniAssist:function(aZ,aY){var aT=this.webGossipUrl,aX=this.moduleapi,aU=aX.getContextData("frCode"),aW=aX.getContextData(aI),aV=this.miniAssist=new this.Y.Search.MiniAssist({node:aY,searchbox:aZ,settingsUrl:this.formData[this.currentTab].settingsUrl,settingsText:aX.getString(i)});aV.gossip.set("linkStem",this.createUltInstrumentationString());aV.gossip.set("linkParams",{fr:aU+"-s"});aV.set(aB,aX.getContextData(aB));aV.gossip.set("maxLength",c);if(aT){aV.set("url",aT);}if(aW){aV.gossip.set("scrollSize",parseInt(aW,10));}if(!aV.assist.get("autoSuggest")){this.body.one(aY).prepend(aX.getContextData("HTML_MINIASSIST_DISABLED"));}this.initializeScrollListeners();this.miniAssist.tray.on(e,this.handleSAOpen,this);this.miniAssist.tray.on(Q,this.handleSAClose,this);},initializeScrollListeners:function(){var aT=this.body,aU=this.upArrowNode=aT.one(".sa-scroll-up"),aV=this.downArrowNode=aT.one(".sa-scroll-down");aU.on(s,this.fireArrowClickBeacon,this);aV.on(s,this.fireArrowClickBeacon,this);},fireArrowClickBeacon:function(aU){var aT=aU.target;if(aT&&!aT.hasClass(aa)){this.instrumentation.fireUltBeacon(this.formData[this.currentTab].bcnScroll);}},handleSAOpen:function(aT){if(this.showDrawer){this.instrumentation.fireUltBeacon(this.formData[this.currentTab].bcnAutoOpen);this.hood.addClass(e);if(this.hood.one("div").hasClass(S)){this.hood.one("div").removeClass(S);}}else{aT.preventDefault();this.hood.one("div").addClass(S);}},handleSAClose:function(){this.hood.removeClass(e);},toggleSA:function(){var aU=this.miniAssist,aV=this.formData,aT=aU.gossip,aX=this.currentTab,aW=this.instrumentation;if(aT.isVisible()){aT.hide();aW.fireUltBeacon(aV[aX].bcnDrawerClose);}else{if(aT.hasSuggestions()){aT.show();aW.fireUltBeacon(aV[aX].bcnDrawerOpen);}}},disableHiddenInputField:function(aU){var aT=this.body.getById(aU);if(aT){aT.set(G,W);}},updateLandingPage:function(){var aT,aU,aV,aW=this.formData[this.currentTab];if(aW.noQueryURL){aU=this.form;aV=aU.getAttribute(d);aT=this.extractURL(aV);if(this.searchQuery.length===0){aV=aV.replace(aT,aW.noQueryURL);}else{aV=aV.replace(aT,this.extractURL(aW.action));}aU.setAttribute(d,aV);}},extractURL:function(aU){var aV,aT=al;if(aU){aV=aU.indexOf("http://");if(aV===-1){aV=0;}aT=aU.substr(aV,aU.length);}return aT;},handleSubmit:function(aY){var aW,aX=this.body,a0,aV,aT,aZ,aU,a1;this.trackYWA(this.searchQuery);if(aX.one(".stabs .selected a").getAttribute("data-tab")==="tplocal"){aY.preventDefault();aY.stopPropagation();aU=this.moduleapi;aW=this.textbox.get(n).replace(/ /g,"-");a1=this.form.get("action");aV=this.secondInput;a0=aV.get(n).replace(/ /g,"-");aZ=aU.getContextData("frCode");if(aV.hasClass("y-txt-3")){a1+="/"+aW;}else{if(-1!=a0.search(",")){aT=a0.split(",");a1+=aT[1]+"/"+aW+"/?ar="+aT[0]+"&fr="+aZ;}else{a1+=a0+"/"+aW+"/?fr="+aZ;}}this.instrumentation.fireUltBeacon(aX.one(".stabs .selected a").getAttribute("data-b"));aU.navigate(a1);return;}},prepareShoppingSubmit:function(){var aU=this.textbox,aV=this.currentTab,aT=this.publisherInputField;if(aV===q){aU.setAttribute(ap,"search");if(!aT){this.publisherInputField=this.createHiddenInputFieldForTab("p",this.publisherID);}else{aT.set(G,H);aT.set(n,this.publisherID);}}else{aU.setAttribute(ap,"p");if(aT){aT.set(G,W);}}},prepareEbaySubmit:function(){var aV,aU=this.textbox,aW=this.currentTab,aT=this.ebayInputField;if(aW===az){aV=this.Y.substitute(this.formData[aW].mpreValue,{"0":aU.get(n)});if(!aT){this.ebayInputField=this.createHiddenInputFieldForTab("mpre",aV);}else{aT.set(G,H);aT.set(n,aV);}this.fireEbayBeacon();}else{if(aT){aT.set(G,W);}}},fireEbayBeacon:function(){var aT=this.formData[az],aU={A_rd:aT.rdPath,_E:"rd",_S:aT.spaceId,_u:aT.scurl};this.instrumentation.fireUltBeacon(aU);}};})();/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
(function(){var f="mouseover",c="mouseout",a="tab_enter",e="tab_exit",g="innerHTML",d=null;function b(k,h){var j=k.currentTarget,i=k.relatedTarget;if(j!==i&&!j.contains(i)){h.call(this,k);}}YModules.type_tabbar={body:d,id:"",api:d,viewevents:["click"],events:d,tiles:d,ulm:d,locWidget:d,locaBadgeReq:d,init:function(h){this.Y=h.getService("yui");this.id=h.getId();this.api=h;this.events=[];},onviewload:function(q){var n=this.api,v=n.getViewNode(q),j=this.handleEnterLeave,i=this.id,s,m,k,u,h,o,l,p,t,r;s=v.getById(i+"-tiles");r=this.tiles=s.all(".tab");this.body=v;this.locaBadgeReq=this.api.getContextData("localbadge");this.events.push(r.on(f,b,this,j),r.on(c,b,this,j));l=v.one(".local-drop");if(l){m=n.getService("ulm");n.listen("ulm:defaultlocation");this.ulm=m.create(l.one(".y-ulm"),{setDefault:true});this.ulm.subscribe("locationselect",this.onLocationSelect,this);l.removeClass("hide");l.one(".y-ulm-dd").addClass("hide-textindent");}else{if(v.one("#mld-widget")){n.listen("ldw:defaultlocation");o=n.getService("locdrop_widget");p=n.getContextData("locale");t=n.getContextData("locdrop_crumb");k=n.getContextData("country_filter");u=n.getContextData("def_loc");h=n.getContextData("cur_loc");this.locWidget=o.create("#mld-widget",{crumb:t,locale:p,countryFilter:k,currentLoc:h,defaultLoc:u});this.locWidget.subscribe("locationselect",this.onLocWidgetSelect,this);}}s.destroy();},onmessage:function(h,i,j){if((h==="ulm:defaultlocation"||h==="ldw:defaultlocation")&&i!="tabbar"){this.updateLocation(j.loc);}},updateLocation:function(i){var h={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"ulmLocationSelect",ulmLocation:i}},j={success:this.onUpdateLocationSuccess,failure:this.onUpdateLocationFailure,argument:{},scope:this};this.api.makeRequest(h,j);},onUpdateLocationSuccess:function(h,i){if(h.html){this.body.one(".local-txt").set(g,h.html);}},onUpdateLocationFailure:function(h,i){},onLocationSelect:function(i){var h,j;if(i.response.html){h=this.body.one(".local-txt");h.set(g,i.response.html);j=(i.response.data._ULM_LOCATION)?i.response.data._ULM_LOCATION:i.location;if(this.locaBadgeReq&&j){if(NILE&&NILE.onLocationChange){NILE.onLocationChange(j);}}}},onLocWidgetSelect:function(h){this.updateLocation(h);},onviewunload:function(h){this.body.destroy();this.Y.Array.each(this.events,function(i){i.detach();});this.tiles.destroy();this.body=this.events=this.tiles=d;},onviewevent:function(o,n){var l,m=n.target,k,i,h,j;if(!m.hasClass("lw")&&!m.ancestor(".lw")&&!m.hasClass("y-ulm")&&!m.ancestor(".y-ulm")&&m.get("nodeName").toLowerCase()!="a"){k=m.hasClass("tab")?m:m.ancestor(".tab");if(k){j=k.one(".mod");l=m.get("className");if((!j||!j.contains(m)||/\btab-(?:label|caption)\b/.test(l))&&!m.hasClass("feature-cue")&&!m.ancestor(".feature-cue")){i=k.one(".tab-label");h=i.get("href");if(h){this.api.navigate(h);}i.destroy();}}}},handleEnterLeave:function(m){var o=m.type==f?a:e,j=m.currentTarget,l,k=j.one(".bd"),n,i,h;if(!k){return;}i=k.get("className");h=/type_(\w+)/.exec(i);if(h&&h[1]){n=h[1];l=m.target;if("mail"===n&&(l.hasClass("feature-cue")||l.ancestor(".feature-cue"))){return;}this.api.broadcast(o,{moduleType:n});}else{}}};})();/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
(function(){var e=null,i=false,j="pv-shown",h=".pv-ymail-preview",b="pv-loading",f="default",d="innerHTML",n="tab_enter",o="tab_exit",m="/user/ymail",g="mail_preview",l=0,k=1,c=2,a=400;YModules.type_mail={id:"",body:e,api:e,viewevents:["click"],w3:i,type:e,isShown:i,timer:e,pv:e,loadState:e,shim:e,mailLoadReqId:null,arcadeTransport:null,refreshed:false,mailTranslations:null,isRecogStateMsgShown:false,init:function(q){this.Y=q.getService("yui");this.id=q.getId();this.api=q;this.platform=q.getService("moduleplatform");if(this.platform){this.arcadeTransport=this.platform.getService("arcade_transport");}else{this.arcadeTransport=q;}this.arcadeTransport=q;var p=q.getContextData("pl");this.mailTranslations=q.getContextData("mailtranslations");if(p=="tabbar"){this.type="mail";this.w3=true;}},onviewload:function(u){var s=this.api,t=s.getService("userinfo").isLoggedIn(),q=s.getContextData("recognizedState"),r=s.getContextData("isLoggedOutPage"),p=s.getContextData("logOutMsgDly");if(u===f){this.body=s.getViewNode(u);if(this.w3){if(q&&r){this.isRecogStateMsgShown=true;s.listen(m);this.timer=this.Y.later(p,this,this.showHideRecogStateMsg,false);}else{if(q||t){this.isRecogStateMsgShown=false;s.listen(n);s.listen(o);s.listen(m);}}}}},onviewunload:function(p){if(p===f){this.body=e;}},onviewevent:function(u,t){var r=this.api,q=t.target,p,s;if(u===f){if(q.get("tagName")!=="A"){p=q.ancestor("TR");if(p){s=p.query(".subject A").getAttribute("href");r.navigate(s);}}else{if(q.hasClass("refresh-mail-account")){t.preventDefault();r.refreshView(f);r.refreshView("pa");}}}},onmessage:function(r,p,q){switch(r){case n:case o:if(q.moduleType==this.type){this.showHideLater(r==n);}break;case m:if(q){this.showVitalityCount(q);}break;default:}},showVitalityCount:function(u){var s,r,t,w,q,v,p;s=(u.data)?u.data:"";if(s){r=this.body.one(".tab-badge");if(r){r.set(d,s);r.addClass("tab-badge-shown");}t=this.body.one(".mail-spr");if(t){t.addClass("tab-icon-unread");}w=this.body.one(".tab-badge-txt");if(w){if(s==1){v=this.mailTranslations.s;}else{v=this.mailTranslations.p;}v=v.replace("{0}",s);w.set(d,v);}if(this.api.getContextData("recognizedState")){p=this.api.getContextData("logOutMsgDly");q=this.body.one(".recog-email-msg");if(q&&v){if(this.isRecogStateMsgShown){this.Y.later(p,this,function(x){q.set(d,this.mailTranslations.r+" "+v);},true);}else{q.set(d,this.mailTranslations.r+" "+v);}}}}},clear:function(){if(this.timer){this.timer.cancel();}this.timer=e;},showHideLater:function(p){this.clear();this.timer=this.Y.later(a,this,this.showHide,p);},showHide:function(p){if(this.isShown==p){return;}this.clear();var q=this.api,s,r=this.pv;if(!r){r=this.body.getById(this.id+"-pv");if(!r){r=this.body.one(h);}this.pv=r;}if(p){this.loadMail();r.addClass(j);s=q.getService("instrumentation");s.fireBeacon(q.getContextData("showBeacon"));}else{r.removeClass(j);}this.isShown=!!p;},showHideRecogStateMsg:function(q){this.clear();var r=this.api,t,p,s=this.pv;if(!s){s=this.body.getById(this.id+"-pv");if(!s){s=this.body.one(h);}this.pv=s;}if(q){this.loadMail();s.addClass(j);t=r.getService("instrumentation");t.fireBeacon(r.getContextData("showBeacon"));}else{s.removeClass(j);p=this.body.one(".logmsg");p.remove(true);this.isRecogStateMsgShown=false;r.listen(n);r.listen(o);}},loadMail:function(){if(this.loadState){return;}var r=this.pv,p=this.arcadeTransport,q={type:"module",moduleId:this.id,args:{_action:"show",_subAction:g}};this.loadState=k;if(p.isRequestPending(this.mailLoadReqId)){p.abortRequest(this.mailLoadReqId);}this.mailLoadReqId=p.makeRequest(q,{success:this.loadMailSuccess,failure:this.loadMailFailure,scope:this});r.addClass(b);r.set(d,"");},loadMailSuccess:function(t,p){this.loadState=c;var r=this.pv,s,q;r.removeClass(b);r.set(d,t.html);if(this.api.getContextData("recognizedState")){q=this.body.one(".recog-email-msg");s=this.body.one(".tab-badge-txt");if(q&&s){q.set(d,this.mailTranslations.r+" "+s.get(d).toLowerCase()+".");}}},loadMailFailure:function(r,p){if(r.result=="abort"){return;}this.loadState=l;var q=this.pv;q.removeClass(b);q.set(d,this.api.getContextData("err"));}};}());/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
(function(){var ac=null,L=true,s=false,aD=document,ai="pa",ax="click",A="edit",ag="default",aK="string",u="innerHTML",aA="yservices",aG="connected",Z="not_authorized",J="unknown",h="column",D="data-b-paq",c="data-b-pad",af="pa-detached",aI="pa-module-loading",aq="btn-current",d="pa-open",b="hide",ap="y-pa-cont",aL="pa:open",U="pa:close",t="pa:ready",N="mouseover",Q="mouseout",C="ulm:defaultlocation",i="ldw:defaultlocation",aa="userlist:add",W="userlist:remove",aH="e",l="y",I="u",ad,K,aw,aC,ab,aB,x={},m,n,H,R,o,e,a,B=[],M=[],g=[],G=[],k,al,T,aE,am,aF,av,y,aM,ah=ac,v=ac,q,X,au,j,f,at,ay,V=ac,S,ar="",E,an,O,aN,ao,r,ak,aJ,w={},z,aj,F,ae,P,p,az=function(Y){var aO=["getContainer","setModuleLoading","setChild","isPAOpen","isPAModule","refreshUserList","collapse","userListUpdated","getCurrentModuleButton","closeCurrentModule","hideError","clearChild"],aP=az.prototype;if(!aP[aO[0]]){ab.each(aO,function(aQ){aP[aQ]=function(){return aj?aj[aQ].apply(aj,arguments):ac;};});}};az.prototype={open:function(Y){this.openModule(Y);},close:function(){this.collapse();},emulateTextOverflow:function(){if(a){a.emulateTextOverflow.apply(a,arguments);}},isOpen:function(){return this.isPAOpen();},fireExternalBeacon:function(Y){if(a){a.fireExternalBeacon(Y);}},openModule:function(Y){if(aj){R.later(15,aj,aj.openModule,Y);}},getPacontainerId:function(){return e;},getUserModuleCount:function(){var Y=0;if(w&&w.y&&w.u){Y=w.y.getModuleCount()+w.u.getModuleCount();}return Y;},showAppError:function(aO){if(aj){var Y={html:aO,container:aC.query(".pa-app-col1",O,L)};aj.showError(Y);}}};YModules.type_pa={viewevents:[ax],services:[{name:ai,getService:function(Y,aP){var aO=aP?Y.getModuleApi(aP):ac;if(!aj){return ac;}if(!F){F=new az(Y);}return(!aP||aO.getProperty("trusted"))?F:ac;}}],init:function(Y){n=Y;H=n.getId();R=n.getService("yui");o=n.getContextData();E=n.getService("moduleplatform");q=n.getService("autohide");aj=this;ad=R.DOM;K=R.Event;aw=R.Node;aC=R.Selector;ab=R.Array;aB=R.UA;n.listen([C,i,aa,W,aL,U]);a=n.getService("pautil");z=n.getService("userinfo").isLoggedIn();this.oopsBtnDefault=n.getContextData("oopsBtnDefault");y=n.getService("iframeshim");if(!y.isShimNeeded()){y=ac;}},onviewload:function(aU){var aT=n.getContextData,Y=aT("addString"),aO=aT("saveTS"),aW=aT("addBeacon"),aQ,aP,aR=aT("pacontainer"),aS=n.getService("palist"),aV;au=aT("fbsc_cont");if(aU==ag){this.updateConfigValues();if(aR){e=this.registerModules([aR])[0];}if(au&&6!==R.UA.ie){R.later(500,this,function(){X=n.getService("pafbsc");X.subscribe("fbreturn",this.handleFB,this);});}m=aw.getDOMNode(n.getViewNode(aU));f=n.getService("instrumentation");j=n.getService("statemgr");O=ad.byId(H+"-ctr");ao=ad.byId(H+"-sb");aN=ad.byId(H+"-app");an=ad.byId(H+"-mod");aJ=ad.byId(H+"-accessibility-status");k=ad.byId(H+"-error-popup");T=ad.byId(H+"-mod-err-ctr");this.truncateButtonTitles(ao);aE=aT("errorMsgDefault");am=aT("loadingMsgDefault");S=aT("detachedPointerHtml");w.y=aS.create(ad.byId(H+"-y"),aS.YAHOO);w.u=aS.create(ad.byId(H+"-u"),aS.USER);ak=ad.byId(H+"-p");if(ak){w.p=aS.create(ak,aS.PROMO);}at=aT("delay_added_fade");ay=aT("duration_added_fade");this.tryHideAddedNotifications();if(Y){aV=n.getService("tooltip");p=aV.create({msg:Y});ab.each(aC.query(".do-edit.ico",ao),function(aX){K.attach(N,this.handleEditTooltip,aX);K.attach(Q,this.handleEditTooltip,aX);},this);}this.refreshUserModules();this.refreshPromoModules();if(aO){this.userListUpdated(aO);}aP=n.getContextData("flashErr");if(aP){this.showPaError(aP);j.removeUserModuleState(aH);}else{aQ=j.getUserModuleState(aH);if(aQ==l){w.y.switchToEditMode();}else{if(aQ==I){w.u.switchToEditMode();}}}if(aW){a.fireExternalBeacon(aW);}n.broadcast(t);}},handleFB:function(aP){var aS,aO=aP.href,aR="",Y,aQ;switch(aP.status){case Z:aS=R.one("#fb-root");aS.removeClass("hide-offscreen");aS.removeClass("fb_reset");aS.set("innerHTML",au);aQ=(R.one("#y-pa").get("region").left+150)+"px";Y=aS.one(".fbsc-dialog");Y.setStyle("left",aQ);Y.setStyle("top","150px");Y.scrollIntoView();aR="1";Y.one(".close").on("click",function(aT){aS.addClass("hide-offscreen");X.destroy();});Y.one(".no-btn").on("click",function(aT){aT.preventDefault();n.navigate(aO);});j.setUserModuleState("fbsc",aR);break;case aG:aR="2";j.setUserModuleState("fbsc",aR);case J:default:n.navigate(aO);break;}},onviewunload:function(Y){if(Y===ag){this.closeCurrentModule();if(this.errorHandle){this.errorHandle.detach();}w.y.destroy();w.u.destroy();if(w.p){w.p.destroy();}if(aF){aF.destroy();}if(av){av.destroy();}if(ae){ae.destroy();if(P){q.unregister(P);}}B=[];M=[];g=[];G=[];ar="";z=s;az=aJ=ao=aN=m=an=v=al=k=T=ae=O=f=aF=av=aj=aM=p=E=ak=j=r=ac;}},onmessage:function(aW,aU,aP){var aV=[],aS,aT,aO,aQ,Y="edit-mode",aR=aP&&aP.mode;if(aW==aL){if(aR=="edit"){ad.addClass(O,Y);}else{ad.removeClass(O,Y);}}else{if(aW==U){ad.removeClass(O,Y);}else{if(aW===C||aW===i){ab.each(G,function(aY){var aX=E.getModuleApi(aY);if(aX.getProperty("locationBased")&&E.isViewOpen(aY,ai)){aV.push(aY);}});if(aV.length){E.refreshView(aV,ai,aP);}}else{if(aW.charAt(0)==="/"){aO=E.getViewNode(x[aW],"pa");if(aO){aQ=aO.one(".vital");if(aQ){aQ.remove();}aO.one("a").append(R.substitute(n.getString("STR.PA.VITALS"),{data:aP.data}));}}else{if(aW===aa){this.refreshUserList(aP.timestamp);}else{if(aW===W){this.userListUpdated(aP.timestamp);aS=aP.moduleId;if(this.isPAModule(aS)){E.stop(aS);E.unregisterModule(aS);aT=ab.indexOf(G,aS);if(aT>-1){G.splice(aT,1);}w.y.remove(aS);w.u.remove(aS);}}}}}}}},onviewevent:function(aV,aT){var aU=aw.getDOMNode(aT.target),aQ=s,aP=aw.getDOMNode(aT.currentTarget),aR=a.testClassName,aS=a.ancestor,Y,aO;if(aV!=ag||aT.type!=ax){return;}if(ad.hasClass(aU,"pa-mod-err-retry")){this.loadModule(ah);}else{if(an&&ad.contains(an,aU)){}else{if(aR(aU,"ptr",aP)){aQ=L;aO=aS(aU,"li");Y=aO.getAttribute(c);f.fireUltBeacon(Y);this.collapse();}else{if(ad.hasClass(aU,"pa-mod-err-close")||ad.hasClass(aU,"pa-mod-err-ok")||ad.hasClass(aU,"pa-mod-err-cancel")){aQ=L;this.hideError();}else{if(ad.hasClass(aU,"do-app-close")){this.collapse();}else{if(ad.hasClass(aU,"do-flash-close")){this.hideError();}}}}}}if(aQ){aT.preventDefault();}},setModuleLoading:function(Y){var aO;if(Y){aO=ad.byId(H+"-module-loading-msg");aO[u]=am;ad.addClass(O,aI);if(y){if(!aF){aF=y.create(aO);}aF.show();}}else{ad.removeClass(O,aI);if(aF){aF.hide();}}a.emulateTextOverflow(an,".pa-app-col1 .hd h2");},setChild:function(aO,Y,aP){if(E.getModuleApi(Y).getProperty("type")==aA){w.y.setYServices(aO,aP);}else{if(an.hasChildNodes()){an.replaceChild(aO,ad.elementByAxis(an,"firstChild"));}else{an.appendChild(aO);}}},clearChild:function(Y){if(E.getModuleApi(Y).getProperty("type")==aA){w.y.removeYServices();}else{an.innerHTML="";}},isPAModule:function(Y){if(o&&o.fallback&&!G){return s;}return(R?ab.indexOf(G,Y)>-1:s);},getContainer:function(){return an;},getCurrentModuleButton:function(){return v;},isPAOpen:function(){return ad.hasClass(O,d)||(w.y&&w.y.isEditMode())||(w.u&&w.u.isEditMode());},updateConfigValues:function(){var Y=n.getContextData();if(Y.yservices){B=this.registerModules(Y.yservices);}if(Y.userlist){M=this.registerModules(Y.userlist);}if(Y.promolist){g=this.registerModules(Y.promolist);}this.mergeModuleIds();},registerModules:function(Y){var aO=[];ab.each(Y,function(aR){var aP=aR.props,aQ=aP.id;E.registerModule(aR);if(aP.pachannel){n.listen(aP.pachannel);x[aP.pachannel]=aQ;}aO.push(aQ);});return aO;},showPaError:function(aO){var Y={html:aO,container:O};this.showError(Y);},showError:function(aQ){var Y,aS,aO=aQ.container,aR,aT,aP;if(!this.isPAOpen()){aP=n.getService("tooltip");if(!ae){ae=aP.create({borderClass:["y-ln-4","y-bg-3"],className:"y-tooltip-pa-dialog pa-flash",parentNode:O,pointerClass:"y-fp-pg-controls",role:"alertdialog",scrollIntoView:true});}ae.show(O,{msg:R.substitute(n.getContextData("flashErrHtml"),{html:aQ.html}),position:{box:"r",arrow:"t",alignNode:O}});if(!P){P=q.register({targets:[ae.getNode()],hide:R.bind(this.hideError,this)});}if(!this.errorHandle){this.errorHandle=R.Event.attach("keypress",this.handleHideError,document,this);}}else{if(w.y&&w.y.isEditMode()){w.y.showError(aQ.html);}else{if(w.u&&w.u.isEditMode()){w.u.showError(aQ.html);}else{T[u]=aE;Y=aC.query(".pa-mod-err-msg",T,L);aT=aC.query(".pa-mod-ovrly",k,L);aO.appendChild(k);aR=ad.region(aO).height;aT.style.height=aR+"px";Y[u]=aQ.html;aS=aC.query("a",Y,L)||aC.query("button",Y,L);ad.removeClass(k,b);if(y){if(!av){av=y.create(aT);}av.show();}if(aS){a.focusThisNode(aS);}else{}if(!this.errorHandle){this.errorHandle=R.Event.attach("keypress",this.handleHideError,document,this);}}}}},handleHideError:function(Y){if(Y.keyCode==27){this.hideError();}},hideError:function(){var Y=this.errorHandle;if(ae){ae.hide();q.unregister(P);P=ac;}if(av){av.hide();}ad.addClass(k,b);ad.removeClass(O,"notice");if(Y){Y.detach();this.errorHandle=ac;}},userListUpdated:function(aO){var Y=n.getService("toolbar_bridge");if(Y){Y.ping(aO);}},refreshUserList:function(Y){if(j){j.update();}if(Y){this.userListUpdated(Y);}this.loadAppColumn(0,L);},loadAppColumn:function(aO,Y){var aP={type:"module",moduleId:H,args:{_action:"show",_subAction:h,col:aO,promo:Y?1:ac}},aQ={success:this.onLoadAppColumnSuccess,failure:this.onLoadAppColumnFailure,scope:this};if(n.isRequestPending(aM)){n.abortRequest(aM);}aM=n.makeRequest(aP,aQ);},onLoadAppColumnSuccess:function(aO){var aR=aO.data,aP=aR.yhtml,Y=aR.uhtml,aQ=aR.phtml;if(aR.fallback){return;}this.updateConfigValues();if(typeof aP==aK){w.y.update(aP);}if(typeof Y==aK){w.u.update(Y);}if(w.p&&typeof aQ==aK){w.p.update(aQ);}if(j){j.update();}this.tryHideAddedNotifications();},onLoadAppColumnFailure:function(){},tryHideAddedNotifications:function(){var Y=aC.query(".pa-notice",ao),aQ=Y&&Y.length>0,aP=0,aO=105;if(aQ){if(V){V.cancel();}V=R.later(at,this,function(){ab.each(Y,function(aR){R.later(aP+=aO,this,this.hideAddedNotification,aR);},this);V=ac;},Y);}return aQ;},hideAddedNotification:function(Y){var aO=new R.Anim({node:Y,from:{opacity:1},to:{opacity:0},duration:ay/1000,easing:R.Easing.easeIn});if(Y&&ad.inDoc(Y)){aO.on("end",function(){if(ad.inDoc(Y)){Y.parentNode.removeChild(Y);}Y=ac;});aO.run();}},canModuleOpen:function(){return(aD.documentElement.className.indexOf("ad-takeover")<0);},expand:function(Y){var aO=[ap,d];if(!z){aO.push("logged-out");}aO=aO.concat(Array.prototype.slice.call(arguments,0));O.className=aO.join(" ");if(!this.autohideId){this.autohideId=q.register({targets:[aw.get(m)],hide:R.bind(function(){this.collapse(s);},this)});}return O;},collapse:function(Y){var aO=ar;O.className=ap;Y=R.Lang.isUndefined(Y)?L:Y;if(j){j.update();}this.tryHideAddedNotifications();q.unregister(this.autohideId);this.autohideId=ac;w.y.cancelEdit();w.u.cancelEdit();this.closeCurrentModule(Y);this.hideError();this.clearAccessibilityMsg();if(aO){n.broadcast(U,{type:aO,mode:ac});}},rePositionAppView:function(aW){var aV=ad.region,aO=aV(ao).top,aY=aV(aN).height+5,aP=aV(aW),aS=aP.height,aT=ad.viewportRegion(),aR=aV(ad.byId("y-cols")),aX=aP.top-aS,Y=aX+aY,aQ=Math.max(aT.top,aO),aU=Math.min(aT.bottom,aR.bottom);if(aX<aQ){aX=aQ;}if(Y>aU){aX=aX+(aU-Y);}if(aX<aO){aX=aO;}Y=aX+aY;if(aP.top<aX){aX=aP.top-aS;}else{if(aP.bottom>Y){aX=aX+aS;}}ad.setY(aN,aX);},openModule:function(aR){if(ah==aR||!this.canModuleOpen()){return;}var aO=E.getModuleApi(aR).getProperty("type"),aQ=E.getModuleApi(aR).getProperty("contentId"),aP=n.getContextData("migrateExclude"),Y=aw.get(m).one(".pa-migrate-msg");if(v){ad.removeClass(v,aq);}if(Y){if(R.Lang.isArray(aP)&&ab.indexOf(aP,aQ)>=0){Y.setStyle("display","none");}else{Y.setStyle("display","block");}}v=ad.byId("pa-"+aR+"-bd");ad.addClass(v,aq);this.hideError();this.expand(af);this.aboveFpad(L);this.appendDetachedPointer(v);this.rePositionAppView(v);this.setAccessibilityMsg(aR);n.broadcast(aL,{type:aO,mode:ac});this.loadModule(aR,R.bind(this.updateAccessibilityMsg,this));ar=aO;this.hideError();},loadModule:function(aP,aS){var aO=E.getModuleApi(aP),aR=R.Lang.substitute(E.getProperty("modChromeHtml"),{html:"",type_name:aO.getProperty("type"),view_name:"load"}),aQ=aC.query(".do-app-close",O),Y=aO.getProperty("title");this.unloadCurrentModule();an[u]=R.Lang.substitute(n.getString("pacontainerHtml"),{html:aR,title:Y});ab.each(aQ,function(aT){aT[u]=R.Lang.substitute(n.getString("pacloseHtml"),{title:Y});});this.setModuleLoading(L);ah=aP;E.openView(aP,ag,aS);},closeCurrentModule:function(Y){if(!ah){return;}O.className=ap;if(v){this.removeDetachedPointer();ad.removeClass(v,aq);if(Y){a.focusThisNode(aC.query("A",v,L));}v=ac;}this.aboveFpad(s);ar="";this.unloadCurrentModule();},unloadCurrentModule:function(){if(ah){if(E.isViewOpen(ah,A)&&!E.closeView(ah,A)){return;}E.stop(ah);ah=ac;}},handleEditTooltip:function(Y){if(Y.type==N){p.show(Y.target,{position:{box:"t",arrow:"l"}});}else{p.hide();}},setAccessibilityMsg:function(aO){var Y=E.getModuleApi(aO);if(Y){aJ[u]="<p>"+R.Lang.substitute(n.getString("STR.PA.ACCESSIBILITY.LOADING"),{title:Y.getProperty("title")})+"</p>";}},updateAccessibilityMsg:function(){if(ah){var Y=E.getModuleApi(ah);if(Y){aJ[u]="<p>"+R.Lang.substitute(n.getString("STR.PA.ACCESSIBILITY.LOADED"),{title:Y.getProperty("title")})+"</p>";}a.focusThisNode(aC.query(".hd h2",an,L));}},clearAccessibilityMsg:function(){aJ[u]="<p></p>";},truncateButtonTitles:function(Y){a.emulateTextOverflow(Y,".lbl");},refreshUserModules:function(){var Y=[];ab.each(M,function(aO){if(E.getModuleState(aO).padefer===L){Y.push(aO);}});if(Y.length){E.refreshView(Y,ai);}},refreshPromoModules:function(){var aO=[],Y=n.getContextData("loadingSpinner");ab.each(g,function(aQ){var aR=E.getModuleApi(aQ),aP=aR.getViewNode(ai);if(aP&&aP.getAttribute("defer")=="1"){aO.push({type:"loadview",view:ai,moduleId:aQ,chrome:s,promo:1,batchable:true});aP.append(Y);}});if(aO.length){E.getService("transport").makeRequest(aO,{success:this.refreshPromoModuleSuccess,failure:this.refreshPromoModuleFailure,scope:this});}else{R.later(500,this,this.firePartnerBeacons);}},refreshPromoModuleSuccess:function(aQ){var aO=aQ.targetId,aX=E.getModuleApi(aO),aU=aX.getViewNode(ai),aR=R.Lang.trim(aQ.html||""),aW=n.getContextData("promo_ad_meta"),aT,Y,aV,aP,aS;if(aR.indexOf("<a ")===0){aU.set(u,aR);this.truncateButtonTitles(aU);return;}if(aW&&aW[0]&&aW[0].data&&aW[0].data.childAdServedModuleMetaData){aW=[aW[0].data.childAdServedModuleMetaData];}if(aR.indexOf("<li")===0&&aW&&aW[0]){aP=ad.create(aR);if(aP.hasChildNodes()){aU.replace(aP);aT=this.registerModules(aW)[0];Y=E.getModuleApi(aT);aV=Y.getViewNode(ai);aS=aV.getAttribute("data-ad-p-b");g.push(aT);this.mergeModuleIds();this.truncateButtonTitles(aV);if(aS){a.fireExternalBeacon(aS);}}else{this.removePromoModule(aO);}}else{this.removePromoModule(aO);}},refreshPromoModuleFailure:function(Y){this.removePromoModule(Y.targetId);},removePromoModule:function(aR){var aQ=[],aO,Y,aP;aO=aw.getDOMNode(E.getModuleApi(aR).getViewNode(ai));E.stop(aR);aO.style.display="none";aO.removeAttribute("id");aO.removeAttribute("modid");aO.removeAttribute("defer");aO.removeAttribute(c);aO.removeAttribute(D);aO.className="";for(aP=0;aP<g.length;aP++){Y=g[aP];if(aR!=Y){aQ.push(Y);}}if(!aQ.length){w.p.update("");}g=aQ;this.mergeModuleIds();},removeDetachedPointer:function(){var Y=ad.byId(H+"-ptr");return(Y)?Y.parentNode.removeChild(Y):ac;},appendDetachedPointer:function(Y){var aO=Y,aP=this.removeDetachedPointer();if(!aP){aP=ad.create(S);}aO.appendChild(aP);},aboveFpad:function(aP){if(aB.opera||aB.webkit&&aB.webkit<526){var Y=ad.byId("y-col2"),aO=aC.query(".fpad",Y,L)||aC.query(".lrec",Y,L)||aC.query(".wam",Y,L);if(aO){aO.style.visibility=aP?"hidden":"";}}},mergeModuleIds:function(){G=B.concat(M,g);},firePartnerBeacons:function(){var Y="data-ad-p-b",aO=aC.query("["+Y+"]",ak,s);ab.each(aO,function(aP){a.fireExternalBeacon(aP.getAttribute(Y));});}};})();/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
