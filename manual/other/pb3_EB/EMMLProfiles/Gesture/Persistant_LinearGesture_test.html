<html>
<META HTTP-Equiv="EMMLProfile" Content="apply:myProfile.Linear">
<META HTTP-Equiv="scanner" Content="DecodeEvent:url('javascript:doScan('%s', '%s', '%s', '%s', '%s');')">
<script>
    var generic = new ActiveXObject("PocketBrowser.generic");
    function doQuit() {

        generic.InvokeMETAFunction('application', 'quit');
    }


    function doApplyProfile(profile) {
      
        generic.InvokeMETAFunction('EMMLProfile', 'Apply:' + profile);
    }

    function onGesture(id, count)
     {
         if (id == "Battery") 
        {
            message.innerHTML = "Linear gesture is detected and captured";
            generic.InvokeMETAFunction("battery","left:20;top:20;visibility:hidden");
        }
        else if (id == "Signal") 
        {

            message.innerHTML = "Circular gesture is detected and captured"; 
            generic.InvokeMETAFunction("signal","left:100;top:20;visibility:hidden");
        }
        else if (id == "Scan") 
        {
            message.innerHTML = "Hold gesture is detected and captured";
            generic.InvokeMETAFunction("scanner","enabled;start");
        }
     }

     function doScan(data, source, type, time, length) 
     {
         message.innerHTML = "Decoded data is :" + data + "\nSource: " + source + "\nType: " + type + "\nTime: " + time + "Length: " + length;
     }
</script>

<body>
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<h4>Persistant linear test script</h4>
 <div id="message"></div><br /><br /><br />
<a href="javascript:doApplyProfile('myProfile.Linear');">Apply Named Profile</a>
<h4>Upon detection battery will be hidden.</h4>
    
  
<br><br>
    <a href="javascript:doQuit();">Quit PB</a>

</body>
</html>
