<html>
<head><script type="text/javascript" src="http://192.168.6.18/NEON/src/elements.js"></script><script type="text/javascript" src="http://192.168.6.18/NEON/src/elements.js"></script>
    <title>PB Battery Test saurav</title>
<script language=javascript>
    var a = 0;
    //var myobjGeneric = new ActiveXObject("PocketBrowser.Generic");

    function batteryVisible() {
        
        generic.InvokeMETAFunction('Battery', 'Visibility:Visible');
    }

    function batteryHidden() {
        generic.InvokeMETAFunction('Battery', 'visibility:Hidden');
    }

    function batteryAddress() {
        generic.InvokeMETAFunction('Battery', 'visibility:Address');
    }



    function IconPositionGraphPosition() {
        var selectedPosition = "";
        var SlectedIndex = frm.mydropdown.selectedIndex;
        selectedPosition = frm.mydropdown.options[SlectedIndex].value;
        switch (selectedPosition) {
            case 'Left_Top':

                generic.InvokeMETAFunction('Battery', 'Left:50; Top:50; Iconposition:Left; GraphPosition:Top; color:#00C000; visibility:visible');
                break;

            case 'Top_Right':

                generic.InvokeMETAFunction('Battery', 'Left:200; Top:200; Iconposition:Top; GraphPosition:Right; color:#00C000; visibility:visible');
                break;

            case 'Right_Top':

                generic.InvokeMETAFunction('Battery', 'Left:10; Top:10; Iconposition:Right; GraphPosition:Top; color:#00C000; visibility:visible');
                break;

            case 'Bottom_Right':

                generic.InvokeMETAFunction('Battery', 'Left:160; Top:160; Iconposition:Bottom; GraphPosition:Right; color:#00C000; visibility:visible');
                break;

            case 'Left_Bottom':

                generic.InvokeMETAFunction('Battery', 'Left:250; Top:220; Iconposition:Left; GraphPosition:Bottom; color:#00C000; visibility:visible');
                break;

            case 'Top_Left':

                generic.InvokeMETAFunction('Battery', 'Left:50; Top:50; Iconposition:Top; GraphPosition:Left;color:#00C000; visibility:visible');
                break;

            case 'Right_Bottom':

                generic.InvokeMETAFunction('Battery', 'Left:180; Top:180; Iconposition:Right; GraphPosition:Bottom;color:#00C000; visibility:visible');
                break;

            case 'Bottom_Left':

                generic.InvokeMETAFunction('Battery', 'Left:20; Top:20; Iconposition:Bottom; GraphPosition:Left; color:#00C000; visibility:visible');
                break;

            case 'Bottom_Top':

                generic.InvokeMETAFunction('Battery', 'Left:250; Top:250; Iconposition:Bottom; GraphPosition:Top; color:#00C000; visibility:visible');
                break;

        }
    }

    function smartBattery() {

        myobjGeneric.InvokeMETAFunction('Battery','visibility:hidden');
        myobjGeneric.InvokeMETAFunction("Battery", "SmartBatteryEvent:url('Javascript:SmartBattery('%s','%s','%s','%s','%s','%s');')");
        //myobjGeneric.InvokeMETAFunction("Battery","SmartBatteryEvent:");
        myobjGeneric.InvokeMETAFunction('Battery', 'GetSmartBatteryStatus');

    }

    function SmartBattery(SN, PN, BC, RC, MA, SH) {
       alert("event fired");
       bat.innerHTML = "SN: " + SN + "\<BR>PN:" + PN + "\<BR>BC: " + BC + "\<BR>RC: " + RC + "\<BR>MA:" + MA + "\<BR>SH: " + SH;
       return;
    }

    function eventStatus() {

        myobjGeneric.InvokeMETAFunction('Battery', 'visibility:visible');
        myobjGeneric.InvokeMETAFunction("Battery", "BatteryEvent:url('Javascript:OnBattery('%s','%s','%s');')");
        //myobjGeneric.InvokeMETAFunction("Battery","BatteryEvent:");
    }
	
	function EmptyeventStatus() {

        myobjGeneric.InvokeMETAFunction('Battery', 'visibility:visible');
        //myobjGeneric.InvokeMETAFunction("Battery", "BatteryEvent:url('Javascript:OnBattery('%s','%s','%s');')");
        myobjGeneric.InvokeMETAFunction("Battery","BatteryEvent:");
    }

    function OnBattery(AC, main, backup) {
        a = a + 1;

        bat.innerHTML = "AC: " + AC + "\<BR>main:" + main + "\<BR>backup: " + backup + "\<BR>Count: "+a;
        return;
    }

    function eventURL() {
        myobjGeneric.InvokeMETAFunction('Battery', 'visibility:visible');
        myobjGeneric.InvokeMETAFunction("Battery", "BatteryEvent:url('http://192.168.6.18/PB3.x/NavigateTest.html')");
    }

    function setLeftPosition() {
        var leftpst = frm.leftPosition.value;
        var temp = "Left:" + leftpst;
        generic.InvokeMETAFunction('Battery', temp);
    }

    function setTopPosition() {
        var toppst = frm.topPosition.value;
        var temp1 = "Top:" + toppst;
        generic.InvokeMETAFunction('Battery', temp1);
    }

    function setcolor() {
        var clr = frm.colorRGB.value;
        var temp2 = "Color:" + clr;
        generic.InvokeMETAFunction('Battery', temp2);
    }



</script>

</head>
<body>

<form id="frm" action="">

<div id="bat">Battery readings amit should appear here</div>

<BR><BR>

<input type=button onclick="batteryVisible();" value="Visible">

<input type=button id="Hidden" onclick="batteryHidden();" value="Hidden">

<BR><BR>

<input type=button id="Address" onclick="batteryAddress();" value="Address">

<BR><BR>

<input type=button id="EventStatus" onclick="eventStatus();" value="EventStatus">

<BR><BR>

<input type=button id="EventStatus" onclick="EmptyeventStatus();" value="EmptyEventStatus">

<BR><BR>

<input type=button id="EventURL" onclick="eventURL();" value="EventURL">

<BR><BR>

<input type=button id="SmartBattery" onclick="smartBattery();" value="SmartBattery">

<BR><BR>
Position
<select name="mydropdown" id="mydropdown" onChange="IconPositionGraphPosition();">
<option value="Left_Top">Left_Top</option>
<option value="Top_Right">Top_Right</option>
<option value="Right_Top">Right_Top</option>
<option value="Bottom_Right">Bottom_Right</option>
<option value="Left_Bottom">Left_Bottom</option>
<option value="Top_Left">Top_Left</option>
<option value="Right_Bottom">Right_Bottom</option>
<option value="Bottom_Left">Bottom_Left</option>
<option value="Bottom_Top">Bottom_Top</option>
</select>
<BR><BR>
<table border=1 width=100%>
 <tr>
      <td>Left Position:</td><td><Textarea id="leftPosition" cols="10" rows="1">350</Textarea> <INPUT type=button onclick="Javascript:setLeftPosition();" value="Left"></td>
    </tr>
 <tr>
      <td>Top Position:</td><td><Textarea id="topPosition" cols="10" rows="1">250</Textarea> <INPUT type=button onclick="Javascript:setTopPosition();" value="Top"></td>
    </tr>
 <tr>
      <td>Color:</td><td><Textarea id="colorRGB" cols="10" rows="1">#E066FF</Textarea> <INPUT type=button onclick="Javascript:setcolor();" value="Color"></td>
    </tr>

</table>

<BR>
<A HREF="./Indicators.html">Back</A>


</form>
</body>
</html>
