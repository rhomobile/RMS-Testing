<HTML>
<HEAD>

<TITLE>CORS Tests</TITLE>
</HEAD>

<BODY>
  <script type="text/javascript">

  var xmlHttp = null;
	
	function GetRequest8081()
	{
		xmlHttp = new XMLHttpRequest(); 
		xmlHttp.onreadystatechange = ProcessRequest8081;
		var ip = document.getElementById('ipadd').value;
		var portno = document.getElementById('portTextarea').value;
		xmlHttp.open( "get", "http://"+ip+":"+portno+"/menu.html?name=Vinod", true );
		xmlHttp.send( );
	}

	function ProcessRequest8081() 
	{
		
		var response = "Status = " + xmlHttp.status + " Response = " + xmlHttp.responseText;
		cors2.innerHTML = response;	
		alert(response);		
		
		if ( xmlHttp.readyState == 4 && xmlHttp.status == 200 ) 
		{
			alert(xmlHttp.responseText);			                    
		}
	}
	
	function PushStart()
	{
		push.start();
		alert("started");
		
		
	}
	
	function PushStop()
	{
		push.stop();
		alert("Stopped");
		
	}
	function setPort()
   {
	   var portval=portTextarea.value;
	   var portparam="port:"+portval;
	   myevent.innerHTML=portparam;
	   push.port=portval;
   }
	
  </script>

	<BR><BR><BR><BR>
	<DIV id="cors2">HTTP 8081 response will appear here</div>
	<BR><BR>
	IP: <input type="text" id="ipadd" value="192.168.6.138"><br>
	Port: <textarea id="portTextarea" cols="10" rows="1">8081</textarea>
	<div id="myevent"></div><br />
	<P><INPUT TYPE="button" VALUE="Set Port" ONCLICK="setPort();"></P>	
	<INPUT align="center" type="button" value="GET request 8081" onclick="GetRequest8081();"><BR>
	<INPUT align="center" type="button" value="Start Push" onclick="PushStart();"><BR>
	<INPUT align="center" type="button" value="Stop Push" onclick="PushStop();"><BR>
</BODY>
</HTML>

