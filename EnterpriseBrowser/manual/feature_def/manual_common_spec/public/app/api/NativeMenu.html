<!DOCTYPE html>
<html>
<head>
    <title>Main Page</title>
    <meta name="viewport" content="initial-scale=1.0, width=device-width"/>
    <script src="/public/jquery/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="/public/jquery/jquery.json-2.3.min.js" type="text/javascript"></script>
    <script type="text/javascript" charset="utf-8" src="/public/api/rhoapi-modules.js"></script>

    <script type="text/javascript">

        function leftMenuCreate() 
        {
           Rho.NativeMenubar.extraMenu = [
                { 'label':"menu item 1", 'action':'javascript:onAppMenu1()', 'disabled':'false'} ,
                { 'label':"home"       , 'action':'javascript:goHome()'    , 'disabled':'true'} ,
                { 'label':"Exit"       , 'action':'javascript:onExit()'    , 'disabled':'false'} ,
                { 'label':"Quit"       , 'action':'javascript:onQuit()'    , 'disabled':'false'} ]
        }

        function rightMenuCreate() 
        {
           Rho.NativeMenubar.mainMenu = [
                { 'label':"menu item 2", 'action':'javascript:onAppMenu1()', 'disabled':'true'} ,
                { 'label':"home"       , 'action':'javascript:goHome()'    , 'disabled':'false'} ,
                { 'label':"Exit"       , 'action':'javascript:onExit()'    , 'disabled':'false'} ,
                { 'label':"Quit"       , 'action':'javascript:onQuit()'    , 'disabled':'false'} ]
        }

        function showLeftMenuInfo() 
        {
            var menuInfo = Rho.NativeMenubar.extraMenu;
            strInfo = "";
            
            for (var i = 0; i < 4/*menuInfo.lenght*/; i++) 
            {
                strInfo += "label: " + menuInfo[i]['label'] + "\n";
                strInfo += "action: " + menuInfo[i]['action'] + "\n";
                strInfo += "disable?: " + menuInfo[i]['disabled'] + "\n";
                strInfo += "\n";
            }

            $('#infoTag').text(strInfo);    
        }

        function showRightMenuInfo() 
        {
            var menuInfo = Rho.NativeMenubar.mainMenu;
            strInfo = "";
            
            window.alert(menuInfo.lenght);
            
            for (var i = 0; i < 4/*menuInfo.lenght*/; i++) 
            {
                strInfo += "label: " + menuInfo[i]['label'] + "\n";
                strInfo += "action: " + menuInfo[i]['action'] + "\n";
                strInfo += "disable?: " + menuInfo[i]['disabled'] + "\n";
                strInfo += "\n";
            }

            $('#infoTag').text(strInfo);    
        }
        
        function changeLeftMenuButton(isDisable) 
        {
           Rho.NativeMenubar.extraButton = { 'label':"left", 'action':'', 'disabled':isDisable }
        }

        function changeRightMenuButton(isDisable) 
        {
           Rho.NativeMenubar.mainButton = { 'label':"right", 'action':'', 'disabled':isDisable }
        }

        function setActionOnLeftMenuButton() 
        {
           Rho.NativeMenubar.extraButton = { 'label':"left", 'action':'javascript:onAppMenu1()', 'disabled':false }
        }

        function setActionOnRightMenuButton() 
        {
           Rho.NativeMenubar.mainButton = { 'label':"right", 'action':'javascript:onAppMenu2()', 'disabled':false }
        }

        function onAppMenu2(){
            window.alert("menu item 2 handler");
        }

        function onAppMenu1(){
            window.alert("menu item 1 handler");
        }

        function onExit(){
            Rho.Application.minimize();
        }
        function onQuit(){
           Rho.Application.quit();
        }
        
    </script>
    
</head>
<body>
<h1>Main Page</h1>

<a href="#" onclick="rightMenuCreate();">Change right menu</a><br/>
<a href="#" onclick="leftMenuCreate();">Change left menu</a><br/>
<a href="#" onclick="changeRightMenuButton(true)">Disable right menu button</a><br/>
<a href="#" onclick="changeRightMenuButton(false)">Enable right menu button</a><br/>
<a href="#" onclick="changeLeftMenuButton(true);">Disable left menu button</a><br/>
<a href="#" onclick="changeLeftMenuButton(false);">Enable left menu button</a><br/>

<a href="#" onclick="setActionOnLeftMenuButton();">Set Action on left menu button</a><br/>
<a href="#" onclick="setActionOnRightMenuButton();">Set Action on right menu button</a><br/>

<a href="#" onclick="showRightMenuInfo();">Get info for rigth menu</a><br/>
<a href="#" onclick="showLeftMenuInfo();">Get info for left menu</a><br/>

<div>Menu info:<pre id='infoTag'>...</pre></div>

</body>
</html>

