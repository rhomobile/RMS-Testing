<!DOCTYPE html>
<html>
<head>
	<br/><input type="button" value="Quit" onclick="quitPB();" />
	<input type="button" value="Back"  onclick="location.href='../index.html'" />
	<title>PB and RE2.2 Semi Auto Frame Work :</title>
	<!--<link rel="stylesheet" type="text/css" href="css/main.css">-->
	<style type="text/css">
		.block{
			background:#aabbcc;
			border: 1px solid darkblue;
		    margin: 5px;
		    font-size: 11px;
		    font-family: Monaco, "Lucida Console", monospace;
		    line-height: 14px;
		    color: #333333;
		}
		.title{
			padding: 3px;
		    font-size: 11px;
		    font-family: Monaco, "Lucida Console", monospace;
		    font-weight: bolder;
		    background-color: steelblue;
		    color: white;
		}
		.body{
			background:#ddeeff;
		}
		.runners{
			border: 1px solid darkblue;
		    margin: 5px;
		    font-family: Monaco, "Lucida Console", monospace;
		    line-height: 14px;
			padding: 3px;
		    font-size: 12px;
		    font-weight: bolder;
		    background-color: #aabbcc;
		    color: white;
		}
		.heading{
			font-weight: bold;
		}
		.pass{
			background:green;
		}
		.fail{
			background:red;
		}
	</style>
	<!--<script type="text/javascript" src="js/testCases.js"></script>-->
	<script type="text/javascript">
		//var Generic = new ActiveXObject("PocketBrowser.Generic");
		function quitPB(){
			generic.InvokeMETAFunction("Application", "Quit");
		}
		function myreadevent(Data,Mode) {
	       var sig = document.getElementById("actualResult"); 
	       sig.innerHTML = "Data: " + Data
									+ "<BR>mode:" + Mode;
	        return;
	    }
		(function(){
		var pbTest = function(){
		var pbTestObj = {};
		pbTestObj.testCases = [
		{
		    "VTID":"VT056 - 1339",
            "RegLevel":"R1",
		    "Description":"Proper Modulename",
		    "PreCondition":[],
		    "Steps":["1. Set the Modulename to valid string for the particular MSR Hardware.","2. Attach the Readevent","3. Swipe a card. "],
		    "ExpectedOutcome":["Readevent should  be fired. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:MSR9000;Open');
	            generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1343",
            "RegLevel":"R1",
		    "Description":"AutoEnter and AutoTab Both Enabled",
		    "PreCondition":["place cursor in text area"],
		    "Steps":["1. Set Autoenter and AutoTab to Enabled.","2. Open the MSR and Set the Data as keystroke mode.","3. Put the cursor inside a textbox.","4. Swipe a card"],
		    "ExpectedOutcome":["When both are enabled Autoenter functionalty should work.","It should take the control to next line. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoEnter:enabled;AutoTab:enabled;Open');
		       
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0660",
            "RegLevel":"R3",
		    "Description":"MSR Card data All Tracks",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has all 3 track data.",
                     "4. Try to swipe the some other card which has all 3 track data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain all 3 tracks data along with the sentinel values for both the cards.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		        
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0661",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track1",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track 1 data.",
                     "4. Try to swipe the some other card which has track 1 data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track1 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		        
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0662",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track2",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track2 data.",
                     "4. Try to swipe the some other card which has track2 data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track2 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0663",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track3",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track3 data.",
                     "4. Try to swipe the some other card which has track3 data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track3 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0664",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track1 and track2",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track1 and track2 data.",
                     "4. Try to swipe the some other card which has track1 and track2"],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track1 and track2 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0665",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track2 and track3",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track2 and track3 data.",
                     "4. Try to swipe the some other card which has track2 and track3"],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track2 and track3 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0666",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with only Track1 and track3",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has only track1 and track3 data.",
                     "4. Try to swipe the some other card which has track1 and track3"],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should contain only track1 and track3 data.","Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0667",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with no track data",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has no data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should not contain any value."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0668",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with a large data(500 bytes)",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has more than 500 bytes data.",
                     "4. Try to swipe the some other card which has more than 500 bytes data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should not contain any value."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0669",
            "RegLevel":"R3",
		    "Description":"MSR Card data.Card with small data value",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which  has less  than 10 bytes data.",
                     "4. Try to swipe the some other card which  has less  than 10 bytes data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should be different for two different  cards."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0670",
            "RegLevel":"R3",
		    "Description":"MSR Card data Scenario",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card which has no data on its tracks.",
                     "4. Swipe a card which has less  than 10 bytes data.",
                     "5. Swipe a card with only Track1 data.",
                     "6. Swipe a card which has Track2 and Track3 data.",
                     "7. Swipe a card with only Track2 data.",
                     "8. Swipe a card which has Track1 and Track2 data.",
                     "9. Swipe a card which has Track2 and Track3 data.",
                     "10. Swipe a card which has only Track3 data.",
                     "11. Swipe a card which has all track data.",
                     "12. Swipe a card which has more than 500 bytes data."],
		    "ExpectedOutcome":["Readevent should be fired and Mode should be returned as CR and Data should be returned","Data should be different for all the swipes and all valid tracks should be read for every card. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1340",
            "RegLevel":"R3",
		    "Description":"Invalid Modulename",
		    "PreCondition":[],
		    "Steps":["1. Set the Modulename to invalid string for the particular MSR Hardware. E.g:-MSR7000 for MSR9500 unit",
                     "2. Attach the Readevent",
                     "3. Swipe a card. "],
		    "ExpectedOutcome":["Readevent should not be fired. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:MSR7000;Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1341",
            "RegLevel":"R3",
		    "Description":"Withoutsetting the Modulename",
		    "PreCondition":[],
		    "Steps":["1. Do not set the Modulename",
                     "2. Attach the Readevent",
                     "3. Swipe a card. "],
		    "ExpectedOutcome":["Readevent should not be fired and cardreader should not get opened. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0671",
            "RegLevel":"R3",
		    "Description":"MSR Card data Without opening the MSR",
		    "PreCondition":[],
		    "Steps":["1. Do not Open the MSR",
                     "2. Attach the Readevent",
                     "3. Swipe a card. "],
		    "ExpectedOutcome":["Readevent should be fired  "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:MSR9000');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0672",
            "RegLevel":"R3",
		    "Description":"MSR Close",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
                     "2. Attach the Readevent",
                     "3. Close the MSR",
                     "4. Swipe a card. "],
		    "ExpectedOutcome":["Readevent should not  be fired  "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		    	generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		    	generic.InvokeMETAFunction('cardreader','close');
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1342",
            "RegLevel":"R3",
		    "Description":"Checking MSR Open",
		    "PreCondition":[],
		    "Steps":["1. Set the proper modulename and open the MSR.",
                     "2. Put the cursor inside a textbox.",
                     "3. Swipe a card."],
		    "ExpectedOutcome":["Data should be returned as keystrokes inside the textbox.  "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:MSR9000;Open');
		    	
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0673",
            "RegLevel":"R3",
		    "Description":"AutoEnter Enabled",
		    "PreCondition":[],
		    "Steps":["1. Set AutoEnter to Enabled.",
                     "2. Attach the ReadEvent.",
                     "3. Swipe a Card."],
		    "ExpectedOutcome":["A carriage return should  be appended to any data returned as keystrokes by the Card Reader. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoEnter:Enabled;Open');
		       // generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0674",
            "RegLevel":"R3",
		    "Description":"AutoEnter Disabled",
		    "PreCondition":[],
		    "Steps":["1. Set AutoEnter to Disabled.",
                     "2. Attach the ReadEvent.",
                     "3. Put the cursor inside a textbox.",
                     "4. Swipe a Card."],
		    "ExpectedOutcome":["A carriage return should not be appended to any data returned as keystrokes by the Card Reader. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoEnter:Disabled;Open');
		     //   generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0675",
            "RegLevel":"R3",
		    "Description":"AutoTab Enabled",
		    "PreCondition":[],
		    "Steps":["1. Set AutoTab to Enabled.",
                     "2. Attach the ReadEvent.",
                     "3. Put the cursor inside a textbox.",
                     "4. Swipe a Card."],
		    "ExpectedOutcome":["A carriage return should not be appended to any data returned as keystrokes by the Card Reader. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoTab:Enabled;Open');
		        //generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0676",
            "RegLevel":"R3",
		    "Description":"AutoTab Disabled",
		    "PreCondition":[],
		    "Steps":["1. Set AutoEnter to Disabled.",
                     "2. Attach the ReadEvent.",
                     "3. Put the cursor inside a textbox.",
                     "4. Swipe a Card."],
		    "ExpectedOutcome":["TAB should be appended to any data returned as keystrokes by the Card Reader.","It should take the control to next UI control."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoTab:Disabled;Open');
		        //generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1343",
            "RegLevel":"R3",
		    "Description":"AutoTab Enabled",
		    "PreCondition":[],
		    "Steps":["1. Set AutoEnter and AutoTab to Enabled.",
                     "2. Attach the ReadEvent.",
                     "3. Put the cursor inside a textbox.",
                     "4. Swipe a Card."],
		    "ExpectedOutcome":["When both are enebled Autoenter functionalty should work.","It should take the control to next line."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoEnter:Enabled;AutoTab:Enabled;Open');
		       	//generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0677",
            "RegLevel":"R3",
		    "Description":"PinEntry Default",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		    "2. Swipe a Card."],
		    "ExpectedOutcome":["User should get the Track data.","By Default PIN entry should not be enabled and PIN Entry screen in the DCR unit should not be active."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0678",
            "RegLevel":"R3",
		    "Description":"PinEntry ON",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
                     "2. Set PINEntry =ON",
                     "3. Swipe a Card.",
                     "4. Enter the PIN n the DCR unit."],
		    "ExpectedOutcome":["User should get the Track data.","Mode should be returned as CR for the first time.",
		    "PIN entry should be enabled and PIN Entry screen in the DCR unit should be active.","User should get the encrypted PIN data and Mode should be returned as ENCDATA."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0679",
            "RegLevel":"R3",
		    "Description":"PinEntry OFF",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
                     "2. Set PINEntry =OFF",
                     "3. Swipe a Card.",
                     "4. Enter the PIN n the DCR unit."],
		    "ExpectedOutcome":["User should get the Track data.","Mode should be returned as CR for the first time.",
		    "PIN entry should not be enabled and PIN Entry screen in the DCR unit should not  be active."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:Off;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0680",
            "RegLevel":"R3",
		    "Description":"PinEntry ON",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
                     "2. Set PINEntry =On",
                     "3. Swipe a valid credit or debit Card which has %B in the TRACK1.",
                     "4. Enter the PIN n the DCR unit."],
		    "ExpectedOutcome":["User should get the Track data.","Mode should be returned as CR for the first time.",
		    "PIN entry should not be enabled and PIN Entry screen in the DCR unit should be active.","User should get the encrypted PIN data and Mode should be returned as ENCDATA."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0681",
            "RegLevel":"R3",
		    "Description":"PinEntry ON",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
                     "2. Set PINEntry =OFF",
                     "3. Swipe a valid credit or debit Card which has %B in the TRACK1."
                    ],
		    "ExpectedOutcome":["User should get the Track data.","Mode should be returned as CR for the first time.","PIN entry should not be enabled."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:Off;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0682",
            "RegLevel":"R3",
		    "Description":"Pintimeout Default",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Do not set any value for pintimeout",
		             "4. Swipe a Financial card.",
		             "5. Enter the PIN withinn 30 seconds.",
		             "6. Again swipe the card",
		             "7. Do not enter PIN withing 30 seconds."
                    ],
		    "ExpectedOutcome":["Encrypted PINdata should be returned for the first time.","After the second swipe PIN entry screen should be timed out after 30 seconds."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0683",
            "RegLevel":"R2",
		    "Description":"Pintimeout 15000",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. 3. Set Pintimeout=15000",
		             "4. Swipe a Financial card.(IATA or ABA format card)",
		             "5. Enter the PIN withinn 15 seconds.",
		             "6. Again swipe the card",
		             "7. Do not enter PIN withing 15 seconds."
                    ],
		    "ExpectedOutcome":["Encrypted PINdata should be returned for the first time.","After the second swipe PIN entry screen should be timed out after 15 seconds.","Pintimeout should come as MSG in readEvent."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PINTimeout:15000;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0684",
            "RegLevel":"R3",
		    "Description":"Pintimeout 65535",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. 3. Set Pintimeout=65535",
		             "4. Swipe a Financial card.(IATA or ABA format card)",
		             "5. Enter the PIN withinn 65 seconds.",
		             "6. Again swipe the card",
		             "7. Do not enter PIN withing 65 seconds."
                    ],
		    "ExpectedOutcome":["Encrypted PINdata should be returned for the first time.","After the second swipe PIN entry screen should be timed out after 65 seconds.","Pintimeout should come as MSG in readEvent."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PINTimeout:65535;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0685",
            "RegLevel":"R3",
		    "Description":"Pintimeout 65536(Invalid)",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. 3. Set Pintimeout=65536",
		             "4. Swipe a Financial card.(IATA or ABA format card)",
		             "5. Enter the PIN withinn 30 seconds.",
		             "6. Again swipe the card",
		             "7. Do not enter PIN withing 30 seconds."
                    ],
		    "ExpectedOutcome":["Encrypted PINdata should be returned for the first time.","After the second swipe PIN entry screen should be timed out after 65 seconds.","Pintimeout should come as MSG in readEvent."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PINTimeout:65536;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0686",
            "RegLevel":"R3",
		    "Description":"Pintimeout 0",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pintimeout=0",
		             "4. Swipe a Financial card.",
		             "5. Try to Enter the PIN. "
                    ],
		    "ExpectedOutcome":["Pinentry screen should be timed out as soon as card data is received."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PINTimeout:0;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0687",
            "RegLevel":"R3",
		    "Description":"Pintimeout -1(Invalid)",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pintimeout=-1",
		             "4. Swipe a Financial card.",
		             "5. Enter the PIN withinn 30 seconds.",
		             "6. Again swipe the card",
		             "7. Do not enter PIN withing 30 seconds."
                    ],
		    "ExpectedOutcome":["Pintimeout should not be set to -1.it should be set to last set value i.e. default value.","Encrypted PINdata should be returned for the first time.","After the second swipe PIN entry screen should be timed out after 30 seconds."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PINTimeout:-1;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0688",
            "RegLevel":"R2",
		    "Description":"PANData 1111222233334444",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pandata =1111222233334444",
		             "4. Enter the PIN n the DCR unit."
                    ],
		    "ExpectedOutcome":["User should should be able to set the Pandata and Readevent should be fired."
		    ,"Same data should be returned and Mode should be returned as PAN.","Pinencrypted data should be returned after entering the PIN. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PANData:"1111222233334444";Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0689",
            "RegLevel":"R3",
		    "Description":"PANData 11111111aaaaaaaa",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pandata =11111111aaaaaaaa",
		             "4. Enter the PIN n the DCR unit."
                    ],
		    "ExpectedOutcome":["PANData should not be set as it contains alphabets and Readevent should not be fired."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PANData:"11111111aaaaaaaa";Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0690",
            "RegLevel":"R3",
		    "Description":"PANData 1",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pandata =1",
		             "4. Enter the PIN n the DCR unit."
                    ],
		    "ExpectedOutcome":["PANData should not be setas it has only 1 digit  and Readevent should not be fired."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PANData:"1";Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0691",
            "RegLevel":"R3",
		    "Description":"PANData empty string",
		    "PreCondition":[],
		    "Steps":["1. Attach the ReadEvent.",
		             "2. Set PINEntry =ON",
		             "3. Set Pandata =''",
		             "4. Enter the PIN n the DCR unit."
                    ],
		    "ExpectedOutcome":["PANData should not be set as empty string and Readevent should not be fired."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;PANData:"";Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0692",
            "RegLevel":"R2",
		    "Description":"Card Reader MSR",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
		             "2. Attach the ReadEvent",
		             "3. Set AutoEnter to enabled.",
		             "4. Set AutoTab to enabled.",
		             "5. Swipe a card with all three tracks.",
		             "6. Swipe a card with Track1 and Track2",
		             "7. Swipe a card with only Track1",
		             "8. Swipe a card with all the tracks",
		             "9. Close the MSR."
                    ],
		    "ExpectedOutcome":["MSR Card data should be returned when card is swiped and Mode should be returned as CR for all the swipes before closing the MSR.","Card data should follow autoenter and autotab.","All tracks of the card should be decoded properly for all types of card.","ReadEvent should not be fired when Card is swipes after closing the MSR."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','AutoEnter:Enabled;AutoTab:Enabled;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1344",
            "RegLevel":"R2",
		    "Description":"Only for MPA1.0 device",
		    "PreCondition":[],
		    "Steps":["1. Make sure that DCR CAB file is not installed on device.Now open the DCR/MSR.",
		             "2. Attach the ReadEvent and set Pinentry to ON.",
		             "3. Swipe a Card."
                    ],
		    "ExpectedOutcome":["No error should occur and card data should be read successfully.","Refer for more details-EMBPD00018248"],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1345",
            "RegLevel":"R3",
		    "Description":"CardReader Metatag with Empty parameter",
		    "PreCondition":[],
		    "Steps":["1. Launch PocketBrowser from Start Menu.",
		             "2. Set null(Empty) values for the CardReader parameters using InvokeMETAFunction.",
		             "3. Set null(Empty) values for the CardReader event (like readevent )using InvokeMETAFunction."
                    ],
		    "ExpectedOutcome":["PB should not crash when any of the CardReader parameters with null values are set through InvokeMetaFunction.","PB should not crash when any of the CardReader Events with null values are set through InvokeMetaFunction.","No Error should be occurred."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:null;PINEntry:null;AutoEnter:null;AutoTab:null;PANData:null;PINTimeout:null;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1346",
            "RegLevel":"R2",
		    "Description":"CardReader with navigation",
		    "PreCondition":[],
		    "Steps":["1. Attach DCR and Set Pinentry to on",
		             "2. Attach the ReadEvent and Swipe a valid card.(Card will be swiped and it will ask to enter the PIN)",
		             "3. Enter the PIN (Encrypted dats will be returned)",
		             "4. Now press on BackButton and go to other page.Do not quit PB",
		             "5. Detach the DCR and attach MSR to the unit.",
		             "6. Again come back to same page(card reader script) and attach readevent.",
		             "7. Swipe a card."
                    ],
		    "ExpectedOutcome":["Card Reader should be closed properly upon pressing back button.","Only CR data shold return when we swipe a card through MSR. (PAN data and Encrypted data should not appear)"],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1347",
            "RegLevel":"R3",
		    "Description":"Close card reader in timeout period",
		    "PreCondition":[],
		    "Steps":["1. Attach the DCR unit to device.",
		             "2. Set Pin Entry to on and Attach readEvent",
		             "3. Swipe a valid card.",
		             "4. PAN data will be returned and PIN entry screen willbe active in the DCR unit.",
		             "5. Try to close the Card Reader before PINTimeout.",
		             "6. Repeat same steps from 1 to 4 and Try to quit the PB within the timeout period."
                    ],
		    "ExpectedOutcome":["Card Reader should be closed properly.","PB should quit properly.","No errors should occur."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:DCR7000;PINEntry:On;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		        setTimeout(function(){
		        		generic.InvokeMETAFunction('cardreader','Close');
		        	}, 10000);

				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 1348",
            "RegLevel":"R2",
		    "Description":"Card Reader with licensing screen",
		    "PreCondition":[],
		    "Steps":["1. Attach ReadEvent.","2. Do not license the PB","3. Let the licensing screnn come up.","4. Click cancel","5. Swipe the card"
                    ],
		    "ExpectedOutcome":["PB should not crash.","Card data should be returned when card is swiped."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0694",
            "RegLevel":"R3",
		    "Description":"Suspend Resume test",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
		             "2. Attach the ReadEvent.",
		             "3. Suspend resume the device for 10 times.",
		             "4. Swipe a Card."
                    ],
		    "ExpectedOutcome":["MSR should able to read the track data."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','ModuleName:MSR9000;Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
				
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0695",
            "RegLevel":"R3",
		    "Description":"Autosuspend test",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
		             "2. Attach the ReadEvent.",
		             "3. Let the device auto suspend",
		             "4. Resume the device manually after 2 minutes.",
		             "5. Swipe a Card"
                    ],
		    "ExpectedOutcome":["MSR should able to read the track data."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0696",
            "RegLevel":"R3",
		    "Description":"Attach and detach",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
		             "2. Attach the ReadEvent.",
		             "3. Detach the MSR unit and again attach it.",
		             "4. Swipe a Card which has all 3 tracks.."
                    ],
		    "ExpectedOutcome":["MSR should able to read the track data.agfter detach attach.Data returned should be same befor and after detach-attach activity."],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('Javascript:myreadevent('%s','%s');')");
		    },
		    "FinalResult":""
		},{
		    "VTID":"VT056 - 0697",
            "RegLevel":"R3",
		    "Description":"Tag Persistance test",
		    "PreCondition":[],
		    "Steps":["1. Open the MSR",
		             "2. Attach the ReadEvent.",
		             "3. Swipe a card",
		             "4. On readevent go to another http page.",
		             "5. Swipe the card.",
		             "6. Check if tag is persistant or not.",
		             "7. Check the memory in first and second page.",
		             "8. Navigate to the first page again and try to open the MSR,attach the readevent and swipe a card. "],
		    "ExpectedOutcome":["It should navigate to the configured URL.","Tag should not be persistant.","MSR should not read the card in the 2nd page.","Memory should be freed up in 2nd page.","User should be able to swipe and get the card data when he comes back to first page and open and attach the readevent again. "],
		    "testToPerform":function(){
		    	generic.InvokeMETAFunction('cardreader','Open');
		        generic.InvokeMETAFunction("cardreader","readevent:url('http://10.233.85.82:9098/app/CardReader/cardreadernav-generic.html')");
		    },
		    "FinalResult":""
		}];
		pbTestObj.afterEach = function(){
			generic.InvokeMETAFunction("cardreader","readevent:");
		}
		return pbTestObj;
	}
	window.pbTest = pbTest();
})();
(function(){
	var main = function(){
		var mainObj = {};
		var r1List = [];
		var r2List = [];
		var r3List = [];
		var testArray = [];
		var index = 0;
		var count = 0;
		var choice = "";
		var passCount = 0;
		var failCount = 0;
		var noRunCount = 0;
		mainObj.init = function(){
			for(key in pbTest.testCases){
				if(pbTest.testCases[key].RegLevel == "R1"){
					r1List.push(pbTest.testCases[key]);
				}else if(pbTest.testCases[key].RegLevel == "R2"){
					r2List.push(pbTest.testCases[key]);
				}else if(pbTest.testCases[key].RegLevel == "R3"){
					r3List.push(pbTest.testCases[key]);
				}
			}
		};
		mainObj.loadArrayList = function(data, eleId){
			var retData = "";
			if(eleId == "preCondition"){
				retData = "<br><span class='heading'>PreConditions:</span>";
			}else if(eleId == "steps"){
				retData = "<br><span class='heading'>Steps:</span>";
			}if(data.length>0){
				retData += "<ul>";
		        for (var i=0; i<data.length;i++){
		            retData = retData + "<li>"+data[i]+"</li>"
		        }
		        retData = retData + "</ul>";
		    }
			
		    document.getElementById(eleId).innerHTML = retData;
		}
		mainObj.onPageLoad = function(){
			this.onRegLevelChange();
		};
		mainObj.loadTest = function(){
			var vtElement = "";
            var selectElement = "<select id='vtSelect' onchange='main.onVTIDChange()'></select>";
            document.getElementById('vtsection').innerHTML = selectElement;
            var selectList = document.getElementById('vtSelect');
			for(key in testArray){
				var option = document.createElement("OPTION");
				option.text = testArray[key].VTID;
				option.value = key;
				selectList.add(option);
			}
			this.loadSingleTest(index);
		};
		mainObj.displayFinalResult = function(){
			retHTMLData = "<table><tr><td class='title'>" + choice +" Test summay :</td></tr><tr><td class='block'><ul>";
			for(key in testArray){
				if(testArray[key].FinalResult=="Pass"){
					passCount++;
					retHTMLData = retHTMLData + "<li style='color:green'>" + testArray[key].Description + "</li>";	
				}else if(testArray[key].FinalResult=="Fail"){
					failCount++;
					retHTMLData = retHTMLData + "<li style='color:red'>" + testArray[key].Description + "</li>";
				}else{
					noRunCount++;
					retHTMLData = retHTMLData + "<li style='color:red;background:yellow'>" + testArray[key].Description + "</li>";
				}
			}
			resultSummary = "<table class='block'><tr><td colspan=2 class='title'>Summary for "+choice+" cases</td></tr><tr><td>Pass</td><td style='color:green;font-weight:bold'>"+passCount+"</td></tr><tr><td>Fail</td><td style='color:red;font-weight:bold'>"+failCount+"</td></tr><tr><td>NoRun</td><td style='color:blue;font-weight:bold'>"+noRunCount+"</td></tr><tr style='color:black;font-weight:bold'><td>Total</td><td>"+parseInt(passCount+failCount+noRunCount)+"</td></tr></table>";
			retHTMLData = retHTMLData + "</ul></td></tr></table><br><a href='index.html'>Home</a>";
			retHTMLData = resultSummary + retHTMLData;
			document.getElementById('mainBlock').innerHTML = retHTMLData;
		};
		mainObj.loadSingleTest = function(index){
			document.getElementById('vtid').innerHTML = testArray[index].VTID;
			document.getElementById('desc').innerHTML = testArray[index].Description;
			this.loadArrayList(testArray[index].PreCondition, "preCondition");
			this.loadArrayList(testArray[index].Steps, "steps");
			this.loadArrayList(testArray[index].ExpectedOutcome, "expected");
			document.getElementById('actualResult').innerHTML = "";
			var selectElement = document.getElementById('vtSelect');
			selectElement.value = index;
		};
		mainObj.runThisTest = function(){
			testArray[index].testToPerform();
		};
		mainObj.passThisTest = function(){
			testArray[index].FinalResult = "Pass";
            pbTest.afterEach();
			this.nextTest();
		};
		mainObj.failThisTest = function(){
			testArray[index].FinalResult = "Fail";
            pbTest.afterEach();
			this.nextTest();
		}
		mainObj.nextTest = function(){
			if(index<(count-1)){
				index++;
				this.loadSingleTest(index);
			}else{
				this.displayFinalResult();
			}
		};
		mainObj.prevTest = function(){
			if(index>0){
				index--;
				this.loadSingleTest(index);
			}else{
				alert("No previous test cases to run");
			}
		};
		mainObj.onVTIDChange = function(){
			myVtIdChoice = document.getElementById("vtSelect").value;
			index = myVtIdChoice;
			this.loadSingleTest(myVtIdChoice);
		};
		mainObj.onRegLevelChange = function(){
			var myChoice = document.getElementById("regLevel").value;
			choice = myChoice;
			document.getElementById('vtsection').innerHTML = "";

			if(myChoice=="All"){
				testArray = pbTest.testCases;
				count = testArray.length;
			}else if(myChoice=="R1"){
				testArray=r1List;
				count = testArray.length;
			}else if(myChoice=="R2"){
				testArray=r2List;
				count = testArray.length;
			}else if(myChoice=="R3"){
				testArray=r3List;
				count = testArray.length;
			}
			index = 0;
			passCount = 0;
			failCount = 0;
			noRunCount = 0;
			if(count>0){
				this.loadTest();
			}else{
				document.getElementById("regLevel").value = "All";
				this.onRegLevelChange();
				alert("No Tests for the level selected");
			}
		};
		mainObj.displayResult = function(res){
			document.getElementById('actualResult').innerHTML = res;
		};
		return mainObj;
	}
	window.main = main();
})();
	</script>
	<!--<script type="text/javascript" src="js/myMain.js"></script>-->
	<script type="text/javascript">
		main.init();
	</script>
</head>
<body class="body" onload="main.onPageLoad()">
<h3 class='title'>Semi Auto test for PB and RE2.2 : </h3>
<div id="mainBlock" class="mainBlock">
	<div>
		<span class="heading">Select Regression Level :</span>
	    <select name="regLevel" id="regLevel" onchange="main.onRegLevelChange()">
	        <OPTION value="All" >All</OPTION>
	        <OPTION value="R1" >R1</OPTION>
	        <OPTION value="R2" >R2</OPTION>
	        <OPTION value="R3" >R3</OPTION>
	    </select> 
	</div>
    <div>
    	<span class="heading">Select Test Case to Run :</span>
    	<div id='vtsection'>
    	</div>
    	
    </div>
    <div class="runners">
    	<input type=button value="Previous" onclick="main.prevTest();" />
		<input type=button value="Next" onclick="main.nextTest()" />
		<input type="button" onclick="main.runThisTest()" value="Run Test"/>
    </div>
    <table border=1 width=100%>
	    <tr>
	    	<Textarea id="txtInput" cols="30" rows="5"></Textarea>
	    	<Textarea id="txtInput" cols="30" rows="3"></Textarea>
	    </tr>
	</table>
	<br>
	<div class="block">
	<span class="heading">VTID:</span>
    <div id="vtid"></div><br>
    <span class="heading">Test description:</span>
    <div id="desc"></div>
    <div id="preCondition"></div>
    <div id="steps"></div>
    <span class="heading">Expected result:</span>
    <div id="expected"></div><br>
    <input type="button" onclick="main.runThisTest()" value="Run Test"/>
    <br><br>
    <span class="heading">Actual result:</span>
    <br>
    <div id="actualResult"></div><br>
    <input type="button" class="pass" onclick="main.passThisTest()" value="Pass"/>
    <input type="button" class="fail" onclick="main.failThisTest()" value="Fail"/>
    </div>
	<br>
	<div class="runners">
		<input type=button value="Previous" onclick="main.prevTest();" />
		<input type=button value="Next" onclick="main.nextTest()" />
	</div>
	</div>
</body>
</html>